(this.webpackJsonpScorchApp=this.webpackJsonpScorchApp||[]).push([[0],{104:function(e,t,n){e.exports={container:"dropdown_container__3Irea",header:"dropdown_header__1bzxL",sent:"dropdown_sent__129Rn",wrapper:"dropdown_wrapper__2ihat",list:"dropdown_list__3-k52"}},11:function(e,t,n){e.exports={sidebar:"sidebar_sidebar__3Z89I","slide-in-from-left":"sidebar_slide-in-from-left__3kaGk",players:"sidebar_players__3X4vY",newPlayers:"sidebar_newPlayers__2MILk",stage:"sidebar_stage__14IEV",playersSection:"sidebar_playersSection__3_kKf",skel:"sidebar_skel__1_Yn-",infoBox:"sidebar_infoBox__1Oh8P",scoreSection:"sidebar_scoreSection__2Qh1c",isActive:"sidebar_isActive__3xy4p",playerLine:"sidebar_playerLine__1cnKs","slide-down":"sidebar_slide-down__apR1e",addPlayerForm:"sidebar_addPlayerForm__1BL-S",input:"sidebar_input__3Y8ld",cancel:"sidebar_cancel__1DhJL",edit:"sidebar_edit__zaTlg",activate:"sidebar_activate__2-tDL",submit:"sidebar_submit__22Uk4",info:"sidebar_info__2QcrS",null:"sidebar_null__39tIA",playerInfo:"sidebar_playerInfo__12dBq",full:"sidebar_full__JrnzC",team:"sidebar_team__3Gw6e",scoreSeparator:"sidebar_scoreSeparator__1zbAQ",sectionHeader:"sidebar_sectionHeader__2UjkE",playerInactive:"sidebar_playerInactive__1Y9Kw",isPlaying:"sidebar_isPlaying__2zQEt",isUnpaired:"sidebar_isUnpaired__6NAoB",topBanner:"sidebar_topBanner__3fw_E",bottomBanner:"sidebar_bottomBanner__ZFfBX",striped:"sidebar_striped__dRdNU",searchResults:"sidebar_searchResults__3jJ2m",shroud:"sidebar_shroud__2mM6p"}},1146:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getFlag",(function(){return Fe})),n.d(a,"getOS",(function(){return Le})),n.d(a,"px",(function(){return He})),n.d(a,"pl",(function(){return Ue})),n.d(a,"capitalise",(function(){return Qe})),n.d(a,"pascalise",(function(){return Ge})),n.d(a,"delay",(function(){return Ve})),n.d(a,"calculateHypotenuse",(function(){return Ke})),n.d(a,"useStateWithLabel",(function(){return We})),n.d(a,"daysBetween",(function(){return Ye})),n.d(a,"convertPoolDisplay",(function(){return ze})),n.d(a,"letterise",(function(){return qe})),n.d(a,"romanise",(function(){return Xe})),n.d(a,"parseName",(function(){return Ze})),n.d(a,"camelCaseToWords",(function(){return $e})),n.d(a,"isDate",(function(){return et}));var r,i,s,c,o,l,u,d=n(2),m=n.n(d),b=n(489),p=(n(505),n(10)),j=n(9),f=n.n(j),h=n(14),g=n(3),O=n(5),A=n.n(O),v=(n(507),n(16)),y=n.n(v),x=n(132),_=n.n(x),k=n(89),N=navigator.userAgent.toLowerCase().includes("electron"),w=window.api;(N||s)&&w?(i=w.isDev,s=w.isProd,c=w.Package,o=w.remote):(o=(null===(l=window)||void 0===l?void 0:l.require)?window.require("electron").remote:null,i=!1,s="--dev"!==(null===(u=o)||void 0===u?void 0:u.process.argv[2]),c=n(284));var C,S;w?(C=w.listen,S=w.send):(C=function(e,t){var n;if(null===(n=window)||void 0===n?void 0:n.require){var a=window.require("electron").ipcRenderer;["toggleMax"].includes(e)&&a.on(e,(function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t.apply(void 0,a)}))}},S=function(e,t){var n;if(null===(n=window)||void 0===n?void 0:n.require){var a=window.require("electron").ipcRenderer;console.log("send",e,t),["toggleMax","min","close"].includes(e)&&a.send(e,t)}});null===(r=o)||void 0===r||r.session;var J=N&&o?o.getCurrentWebContents().session.cookies:null;console.log("isDev",i),console.log("isElectron",N),console.log("isProd",s);var R=n(170),B=n(171),I=new(n(500).a),D=function(){},P=new(function(){function e(){Object(R.a)(this,e)}return Object(B.a)(e,[{key:"getAll",value:function(){return J&&(N||s)?J.get({}).then((function(e){return e.reduce((function(e,t){return e[t.name]=t.value,e}),{})})).catch((function(e){return console.log(e),{}})):Promise.resolve(I.getAll()||{})}},{key:"get",value:function(e){return J&&(N||s)?J.get({name:e}).then((function(e){return e.map((function(e){return e.value}))})).then((function(e){return e[0]||""})).catch((function(e){return console.log(e),""})):Promise.resolve(I.get(e)||"")}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.assign({},n);if(J&&(N||s)){var r=new Date(Date.now());return a=Object.assign(a,{name:e,value:t,url:E,expirationDate:r.setFullYear(r.getFullYear()+1)}),J.set(a).then((function(){return J.get({})})).then((function(e){return e.map((function(e){return{name:e.name,value:e.value}}))})).catch(console.error)}return Promise.resolve(I.set(e,t,n))}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return J&&(N||s)?J.remove(E,e):I.get(e)?Promise.resolve(I.remove(e,t)):Promise.reject("Couldn't remove cookie")}}]),e}()),E=!i||k.useProd?k.prodServer:k.server,T=!i||k.useProd?k.prodResultsServer:k.resultsServer,M=_.a.create({baseURL:E});function F(e){return e=Object.assign(e,{method:"GET"}),M(e).then((function(e){return e.data})).catch((function(t){if(e.noCatch)throw t;throw console.error(t),t.response&&D("".concat(t.response.status," ").concat(t.response.statusText,": /").concat(t.response.config.url.split("/").pop()),t.response.data),t}))}function L(e){return e=Object.assign(e,{method:"POST",headers:{"Content-Type":"application/json"}}),M(e).then((function(e){return e.data})).catch((function(t){if(e.noCatch)throw t;throw t.response&&D("".concat(t.response.status," ").concat(t.response.statusText,": /").concat(t.response.config.url.split("/").pop()),t.response.data),t}))}function H(e){e.preventDefault&&e.preventDefault(),e.persist&&e.persist();for(var t=e.target;"HTMLFormElement"!==t.constructor.name&&t.parentElement;)t=t.parentElement;if("HTMLFormElement"!==t.constructor.name)throw new Error("Couldn't find valid form");return L({data:Array.from(t).reduce((function(e,t){return t.name?("submit"===t.name||("number"===t.type?e[t.name]=Number(t.value):e[t.name]=t.value),e):e}),{}),url:t.action})}function U(e){D=e}M.interceptors.request.use(function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p.a,e.t1=Object(p.a)({},t),e.t2={},e.t3=p.a,e.t4=Object(p.a)({},t.headers),e.t5={},e.t6=JSON,e.next=9,P.getAll();case 9:return e.t7=e.sent,e.t8=e.t6.stringify.call(e.t6,e.t7),e.t9={Authorization:e.t8},e.t10=(0,e.t3)(e.t4,e.t5,e.t9),e.t11={headers:e.t10},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t11));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Q=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,G=/chess\.com\/(?:live(?:\?\w+)?#tm=|club\/matches\/live\/(?:[a-z-]+\/)?)([0-9]+)/,V=/^(y(es)?|true|on)?$/i,K=/^(n(?:o)?|false|off)?$/i,W=/\s+/g,Y=/^[a-z][\w-]{0,28}[a-z0-9]$/i,z=/^[a-z][A-Za-z]*$/,q=/[A-Z]/g,X=/[^\w_.,+]/g,Z=n(41),$=n.n(Z),ee=n(18),te=n.n(ee),ne=n(4),ae=n(1);function re(e){var t=e.values,n=e.children;return t.reduce((function(e,t){var n=Object(g.a)(t,2),a=n[0],r=n[1];return Object(ae.jsx)(a.Provider,{value:r,children:e})}),n)}var ie=Object(d.createContext)({});ie.displayName="SettingsContext";var se=Object(d.createContext)(new Map);se.displayName="PlayerDictContext";var ce=Object(d.createContext)((function(){return""}));ce.displayName="DisplayNameContext";var oe=Object(d.createContext)({setAlert:function(e){},closeAlert:function(){},triggerConfirm:function(e,t,n){},startLoading:function(){},stopLoading:function(){}});oe.displayName="AlertContext";var le=Object(d.createContext)(!0);le.displayName="LoadedContext";var ue=Object(d.createContext)((function(e){}));ue.displayName="SetModeContext";var de=Object(d.createContext)({nextButton:"skeleton",setNextButton:function(e){}});de.displayName="NextButtonContext";var me=n(51),be=n.n(me),pe=["eboard","ing system","e manager"],je=[Object(ae.jsx)(ne.n,{},"chess"),Object(ae.jsx)(ne.o,{id:"chessBoard"},"board"),Object(ae.jsx)(ne.O,{},"list")];function fe(){var e=Object(d.useState)(!1),t=Object(g.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)(0),i=Object(g.a)(r,2),s=i[0],c=i[1];return Object(d.useEffect)((function(){var e=setTimeout((function(){a(!n),c((s+1)%pe.length)}),6e3);return function(){return clearTimeout(e)}}),[n,a]),Object(ae.jsxs)("div",{className:be.a.text,children:[Object(ae.jsx)("div",{className:[be.a.your].join(" "),children:Object(ae.jsx)("div",{className:[n?be.a.slideLeft:be.a.slideRight].join(" "),children:"your \u200b"})}),Object(ae.jsx)("div",{className:"highlighted",children:"scor"}),Object(ae.jsx)("div",{className:[be.a.board,n?be.a.expand:be.a.contract].join(" "),children:Object(ae.jsxs)("div",{children:[pe[s],"\u200b"," of ","\u200b"]})}),Object(ae.jsx)("div",{className:"highlighted",children:"ch"}),Object(ae.jsx)("div",{className:[be.a.oice,n?be.a.expand:be.a.contract].join(" "),children:Object(ae.jsx)("div",{children:"oice"})}),n?null:Object(ae.jsx)("div",{className:[be.a.fadeIn].join(" "),children:Object(ae.jsx)("div",{children:"chess"})}),n?null:Object(ae.jsx)("div",{className:[be.a.fade2xIn].join(" "),children:Object(ae.jsx)("div",{children:je[s]})})]})}var he=n.p+"static/media/favicon.f0dd86b2.png",ge=n.p+"static/media/loading_queen.646d7e54.png",Oe=n.p+"static/media/loading-crown.22a8f1c0.gif";function Ae(e){var t;return Object(ae.jsxs)("div",{className:[$.a.logo,null===(t=e.classNames)||void 0===t?void 0:t.logo].join(" "),children:[Object(ae.jsx)("img",{style:{visibility:e.loading?"hidden":"visible"},className:$.a.staticLogo,src:he,alt:"swiss-logo.png"}),Object(ae.jsx)("img",{style:{visibility:e.loading?"visible":"hidden"},className:$.a.staticLogo,src:ge,alt:"swiss-logo.png"}),Object(ae.jsx)("img",{style:{visibility:e.loading?"visible":"hidden"},className:$.a.crownOutline,src:"data:image/png;base64,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",alt:"outline-gif"}),Object(ae.jsx)("img",{style:{visibility:e.loading?"visible":"hidden"},className:$.a.loadingGif,src:Oe,alt:"loading-gif"})]})}function ve(e){var t=Object(d.useState)(e.mode),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useState)(!1),s=Object(g.a)(i,2),c=s[0],o=s[1],l=Object(d.useState)(!1),u=Object(g.a)(l,2),m=(u[0],u[1],Object(d.useState)("")),b=Object(g.a)(m,2),p=b[0],j=b[1],f=Object(d.useCallback)((function(t){o(!1),H(t).then((function(t){return e.login(t)})).catch((function(e){e&&e.response&&e.response.data&&j(e.response.data),console.error(e)})).finally((function(){o(!1)}))}),[o,j,e.login]),h=Object(d.useContext)(oe).setAlert,O=Object(d.useCallback)((function(e){var t=e.style;return Object(ae.jsxs)("div",{className:te.a.forgottenContainer,style:t,children:[Object(ae.jsx)("div",{className:[te.a.forgotten].join(" "),onClick:function(){return r("reminder")},children:"username reminder"}),Object(ae.jsx)("div",{className:[te.a.forgotten].join(" "),onClick:function(){return r("reset")},children:"password reset"})]})}),[r]),A=Object(d.useMemo)((function(){return Object(ae.jsxs)("form",{className:te.a.form,method:"POST",action:y.a.resolve(E,"requestPasswordReset"),onSubmit:function(e){return H(e).then((function(){return h({title:"Password reset",message:"Successfully sent a password reset link to the email on file. Check your inbox!"})}))},children:[Object(ae.jsx)("div",{className:[te.a.input,te.a.back].join(" "),onClick:function(){return r("login")},children:"BACK"}),Object(ae.jsx)("input",{type:"text",name:"username",autoComplete:"username",required:!0,placeholder:"username",className:[te.a.input].join(" ")}),Object(ae.jsx)(O,{}),Object(ae.jsx)("button",{type:"submit",className:[te.a.submit].join(" "),children:"REQUEST PASSWORD RESET"})]})}),[r,h]),v=Object(d.useMemo)((function(){return Object(ae.jsxs)("form",{className:te.a.form,method:"POST",action:y.a.resolve(E,"requestUsernameReminder"),onSubmit:function(e){return H(e).then((function(){return h({title:"Username reminder",message:"Successfully sent a username reminder. Check your inbox!"})}))},children:[Object(ae.jsx)("div",{className:[te.a.input,te.a.back].join(" "),onClick:function(){return r("login")},children:"BACK"}),Object(ae.jsx)("input",{type:"email",name:"email",autoComplete:"email",required:!0,placeholder:"email",className:[te.a.input].join(" ")}),Object(ae.jsx)(O,{}),Object(ae.jsx)("button",{type:"submit",className:[te.a.submit].join(" "),children:"REQUEST USERNAME REMINDER"})]})}),[r,h]),x=Object(d.useCallback)((function(){L({url:"/login",data:{username:"guest"}}).then(f)}),[f]),_=Object(d.useMemo)((function(){return Object(ae.jsxs)("form",{className:te.a.form,method:"POST",onSubmit:f,action:y.a.resolve(E,"login"),children:[Object(ae.jsx)("input",{type:"text",name:"username",required:!0,placeholder:"username",className:[te.a.input].join(" ")}),Object(ae.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"password",className:[te.a.input].join(" ")}),Object(ae.jsx)(O,{}),Object(ae.jsx)("input",{type:"submit",value:"LOGIN",className:[te.a.submit].join(" ")})]})}),[f]),k=Object(d.useMemo)((function(){return Object(ae.jsxs)("form",{className:te.a.form,method:"POST",onSubmit:f,action:y.a.resolve(E,"register"),children:[Object(ae.jsx)("input",{type:"text",name:"username",required:!0,placeholder:"username",className:[te.a.input].join(" ")}),Object(ae.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"password",minLength:8,className:[te.a.input].join(" ")}),Object(ae.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"email",className:[te.a.input].join(" "),pattern:Q.source}),Object(ae.jsx)("input",{type:"submit",value:"REGISTER",className:[te.a.submit].join(" ")})]})}),[f]),N=Object(d.useMemo)((function(){return Object(ae.jsx)(Ae,{setLoading:function(e){return o(e)},loading:c})}),[o,c]),w=Object(d.useMemo)((function(){return Object(ae.jsxs)("div",{className:[te.a.loginSection,te.a.initialiseButton].join(" "),children:[Object(ae.jsxs)("div",{className:te.a.loginBackground,children:[Object(ae.jsxs)("div",{className:[te.a.flip,"button",te.a.loginButton,"login"===a?te.a.hidden:""].join(" "),onClick:function(){r("login"),j(""),setTimeout((function(){return o(!1)}),500)},children:[Object(ae.jsx)("div",{children:"LOGIN"}),Object(ae.jsx)("div",{children:Object(ae.jsx)(ne.b,{})})]}),Object(ae.jsx)("div",{}),Object(ae.jsxs)("div",{className:[te.a.flip,"button",te.a.registerButton,"register"===a?te.a.hidden:""].join(" "),onClick:function(){r("register"),j(""),setTimeout((function(){return o(!1)}),500)},children:[Object(ae.jsx)("div",{children:"REGISTER"}),Object(ae.jsx)("div",{children:Object(ae.jsx)(ne.c,{})}),Object(ae.jsx)("div",{className:[te.a.guest,"button"].join(" "),onClick:function(e){x(),e.stopPropagation()},children:"USE AS GUEST"})]})]}),Object(ae.jsx)("div",{className:["container",te.a.foreground,"register"===a?te.a.registerForeground:te.a.loginForeground].join(" "),children:"register"===a?k:"login"===a?_:"reminder"===a?v:"reset"===a?A:null})]})}),[a,r,j,_,k,v,A,N,e.mode]);return Object(ae.jsxs)("div",{className:$.a.canvas,children:[Object(ae.jsx)("div",{className:$.a.column}),Object(ae.jsxs)("div",{className:[$.a.column,te.a.column].join(" "),children:[N,Object(ae.jsx)("div",{className:te.a.nameContainer,children:Object(ae.jsx)(fe,{})}),Object(ae.jsx)("div",{className:["container",te.a.container].join(" "),children:w}),Object(ae.jsx)("div",{className:te.a.messageBar,children:p||"\u200b"})]}),Object(ae.jsx)("div",{className:$.a.column})]})}var ye=n(90),xe=n.n(ye),_e=n(284);function ke(){var e=["ScorchApp","v"+_e.version].join(" "),t=Object(d.useState)(!1),n=Object(g.a)(t,2),a=n[0],r=n[1];return Object(d.useEffect)((function(){C("toggleMax",r)}),[r]),Object(ae.jsxs)("div",{id:"statusBar",className:xe.a.statusBar,children:[Object(ae.jsx)("div",{className:xe.a.title,children:e}),Object(ae.jsx)("div",{className:xe.a.menu,children:Object(ae.jsx)("div",{className:xe.a.favicon,children:Object(ae.jsx)("img",{alt:"favicon",draggable:!1,src:"./logo192.png"})})}),Object(ae.jsxs)("div",{className:xe.a.exec,children:[Object(ae.jsx)("div",{onClick:function(){return S("min")},children:Object(ae.jsx)(ne.ub,{})}),Object(ae.jsx)("div",{onClick:function(){return S("toggleMax")},children:a?Object(ae.jsx)(ne.vb,{}):Object(ae.jsx)(ne.tb,{})}),Object(ae.jsx)("div",{onClick:function(){return S("close")},className:xe.a.close,children:Object(ae.jsx)(ne.sb,{})})]})]})}var Ne=n(8),we=n(19),Ce=n.n(we),Se=n(26),Je=n(6),Re=n.n(Je),Be=n(7),Ie=n.n(Be),De=n(20);function Pe(e){var t,n,a=Object(d.useState)(!1),r=Object(g.a)(a,2),i=r[0],s=r[1],c=Object(d.useState)(null),o=Object(g.a)(c,2),l=o[0],u=o[1],m=Object(d.useState)([]),b=Object(g.a)(m,2),p=b[0],j=b[1],O=Object(d.useState)([null,"",""]),v=Object(g.a)(O,2),y=v[0],x=v[1],_=Object(d.useRef)(null),k=e.limit||5,N=e.timeout||500,w=Object(d.useCallback)((function(t,n){var a=t.slice(0);if(!n)return a;var r=a.findIndex((function(e){return e.id===n.id}));return r>=0&&a.splice(r,1),a.unshift(n),e.onSubmit(n.id),u(null),j([]),_.current.value="",x([null,"",""]),e.cacheHistory&&P.set("searchHistory",JSON.stringify(a.map((function(e){return e.id})))),a}),[e.onSubmit,u,j,_,e.cacheHistory]),C=Object(d.useReducer)(w,[]),S=Object(g.a)(C,2),J=S[0],R=S[1];Object(d.useEffect)((function(){e.cacheHistory&&Object(h.a)(f.a.mark((function t(){var n,a,r,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.get("searchHistory");case 2:n=t.sent,a=Object(De.a)(n),t.prev=4,i=function(){var t=r.value,n=e.options.find((function(e){return e.id===t}));if(!n)return"continue";J.push(n)},a.s();case 7:if((r=a.n()).done){t.next=13;break}if("continue"!==i()){t.next=11;break}return t.abrupt("continue",11);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),a.e(t.t0);case 18:return t.prev=18,a.f(),t.finish(18);case 21:R(null);case 22:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))()}),[e.cacheHistory]);var B=Object(d.useCallback)((function(e){e.nativeEvent.data||u(null),x([e.target,e.target.value,e.nativeEvent.data])}),[x,u]),I=Object(d.useCallback)(function(){var t=Object(h.a)(f.a.mark((function t(n){var a,r,i,c,o,l,d,m;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(g.a)(n,3),r=a[0],a[1],i=a[2],c=r.value,o=c.length,!e.onInput){t.next=10;break}return s(!0),t.next=7,e.onInput(c).finally((function(){return s(!1)}));case 7:l=t.sent,t.next=11;break;case 10:l=(e.options||[]).filter((function(t){return e.getName(t).toLowerCase().startsWith(c.toLowerCase())}));case 11:if(e.onChange&&e.onChange(l.map((function(e){return e.id}))),j(l),(d=l[0])&&i){t.next=16;break}return t.abrupt("return");case 16:m=e.getName(d),r.value+=m.slice(o),r.select(),r.setSelectionRange(o,m.length,"forward"),u(d);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e.options,e.getName,e.onChange,e.onInput,s,j,u]);Object(d.useEffect)((function(){if(y[0]){if(e.onInput){var t=setTimeout((function(){return I(y)}),N);return function(){return clearTimeout(t)}}I(y)}}),[y,e.onInput,I]);var D=Object(d.useCallback)((function(e){(null===e||void 0===e?void 0:e.target)&&(e.target.value=""),_.current&&(_.current.value=""),u(null),j([])}),[u,j,_]);Object(d.useEffect)((function(){D()}),[D,e.onInput,e.onChange,e.getName]);var E=Object(d.useCallback)((function(t){switch(t.keyCode){case 27:D(),e.onCancel&&e.onCancel();break;case 13:l&&(t.target.value="",R(l))}}),[D,l,e.onCancel]),T=Object(d.useMemo)((function(){for(var t=Object.assign({},e.styles),n=0,a=Object.entries(Object.assign({},Re.a));n<a.length;n++){var r=Object(g.a)(a[n],2),i=r[0],s=r[1];t[i]?t[i]+=" "+s:t[i]=s}return t}),[e.styles]);return Object(ae.jsxs)("div",{className:A()(T.infoBox,e.className),children:[Object(ae.jsxs)("div",{className:A()("button",T.searchBar,(t={},Object(Ne.a)(t,T.thin,e.thin),Object(Ne.a)(t,T.alwaysHover,e.alwaysHover),t)),tabIndex:1,children:[!1!==e.showIcon?Object(ae.jsx)(ne.db,{}):null,Object(ae.jsx)("input",{onKeyDown:E,onInput:B,placeholder:null!==(n=e.placeholder)&&void 0!==n?n:"Search",ref:_})]}),!1!==e.showChoices?Object(ae.jsx)("div",{className:[T.searchResults,"scrollable"].join(" "),children:i?Object(ae.jsx)("div",{className:"loading",children:Object(ae.jsx)(ne.hb,{})}):p.length||!y[1]?p.slice(0,k).concat(!1!==e.showHistory?J:[]).map((function(t,n){return Object(ae.jsx)("div",{tabIndex:0,onKeyDown:E,onFocus:function(){return u(t)},onClick:function(){return R(t)},children:e.getName(t)},["history",n].join("."))})):Object(ae.jsx)("div",{children:"No players found."})}):null]})}var Ee=n(274),Te=n.n(Ee),Me=n(44);function Fe(e){if(!e)return null;var t=Me.dict[e],n="https://ratings.fide.com/svg/|.svg".replace("|",e),a=Me.specify.includes(e);return a&&(n="/flags/|.svg".replace("|",e)),Object(ae.jsx)("img",{src:n,alt:e,title:t,"data-custom-flag":!!a||void 0})}function Le(){if(!N){var e="";return navigator.appVersion.includes("Win")&&(e="windows"),navigator.appVersion.includes("Mac")&&(e="mac"),navigator.appVersion.includes("X11")&&(e=""),navigator.appVersion.includes("Linux")&&(e="ubuntu"),e}switch(Te.a.platform()){case"aix":case"android":return"";case"darwin":return"mac";case"freebsd":case"linux":case"openbsd":case"sunos":return"";case"win32":return"windows";case"cygwin":case"netbsd":return""}}function He(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[""].concat(t).join("/")}function Ue(e){if(Array.isArray(e))return e.length>1?"s":"";switch(typeof e){case"number":return e>1?"s":"";case"undefined":return"s";default:return""}}function Qe(e){return e?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase().replace(" id"," ID"):e}function Ge(e){return e?e.slice(0,1).toUpperCase()+e.slice(1):""}function Ve(e){return new Promise((function(t){setTimeout(t,e)}))}function Ke(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function We(e,t){var n=Object(d.useState)(e),a=Object(g.a)(n,2),r=a[0],i=a[1];return Object(d.useDebugValue)("".concat(t,": ").concat(r)),[r,i]}function Ye(e,t){return(t.valueOf()-e.valueOf())/864e5}function ze(e,t){return isNaN(e)?"":0===t?qe(e):1===t?e.toString():2===t?Xe(e):e.toString()}function qe(e){var t=e-1;return String.fromCharCode(65+t%26).repeat(Math.floor(t/26)+1)}function Xe(e){if(isNaN(e))return"";for(var t=e.toString().split(""),n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],a="",r=3;r--;){a=(n[parseInt(t.pop())+10*r]||"")+a}return Array(+t.join("")+1).join("M")+a}function Ze(e){var t={lastName:"",firstName:"",middleName:""};if(e.includes(",")){var n=e.split(",");if(n.length>2)throw new SyntaxError("max 1 comma in searchstring");t.lastName=n[0].trim();var a=n[1].trim().split(W);t.firstName=a[0].trim(),t.middleName=a.slice(1).join(" ")}else{var r=e.split(W);t.lastName=r.pop(),r[0]&&(t.firstName=r.shift()),r[0]&&(t.middleName=r.join(" "))}return t}function $e(e){if("string"!==typeof e)return e;if(!z.test(e))return e;for(var t=e.replace(q,(function(e){return"|"+e})).split("|"),n=[Qe(t[0])].concat(Object(Se.a)(t.slice(1))),a=0;a<n.length;a++)"Id"===n[a]&&(n[a]="ID");return n.join(" ")}function et(e){if("string"!==typeof e)return!1;if(!isNaN(Number(e)))return!1;var t=new Date(e);return!isNaN(t.valueOf())}var tt={gamePoint:{name:"By game point total",func:function(e,t){return t.gamePoints-e.gamePoints}},rating:{name:"By rating",func:function(e,t){return t.rating-e.rating}},null:null,h2h:{name:"By head-to-head score",func:function(e,t){return t.scoreAgainst(e.id)-e.scoreAgainst(e.id)}},gamePointDiff:{name:"By net game points",func:function(e,t){return t.netGamePoint-e.netGamePoint}},whites:{name:"By times played black",func:function(e,t){return e.whiteTotal-t.whiteTotal}},progScore:{name:"By progressive score",func:function(e,t){return t.progressiveScore-e.progressiveScore}},wins:{name:"By most wins",func:function(e,t){return t.histories&&e.histories?t.histories.filter((function(e){return 1===e.match})).length-e.histories.filter((function(e){return 1===e.match})).length:0}},gameh2h:{name:"By head-to-head of game points",func:function(e,t){return t.gameScoreAgainst(e.id)-e.gameScoreAgainst(e.id)}},perfRating:{name:"By performance rating",func:function(e,t){return t.performanceRating-e.performanceRating}},oppRating:{name:"By average rating cut",func:function(e,t){var n,a;if(t.oppRatingSum!==e.oppRatingSum)return t.oppRatingSum-e.oppRatingSum;var r=null===(n=e.histories)||void 0===n?void 0:n.filter((function(e){return e})),i=null===(a=t.histories)||void 0===a?void 0:a.filter((function(e){return e}));if(!r||!i||!r.length||!i.length)return 0;for(var s=r.sort((function(e,t){return e.oppRating-t.oppRating})),c=i.sort((function(e,t){return e.oppRating-t.oppRating}));s&&c;){var o=[s.shift(),c.shift()],l=o[0],u=o[1];if(void 0==l||void 0===u)break;if(l||u){var d=s.reduce((function(e,t){return t?e+=t.oppRating:e}),0)/s.length,m=c.reduce((function(e,t){return t?e+=t.oppRating:e}),0)/c.length;if(d!==m)return m-d}}return 0}},alphabetical:{name:"Alphabetical",func:function(e,t){return t.firstName>e.firstName?-1:e.firstName>t.firstName?1:0}}};function nt(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e?null!==(t=a[0])&&void 0!==t?t:"On":!1===e?null!==(n=a[1])&&void 0!==n?n:"Off":""}var at={core:{tournamentId:{name:"Unique ID",type:"string",locked:!0,primaryKey:!0},status:{name:"Status",enum:["uninitialised","active","finished"],convert:Qe,defaultValue:"uninitialised",value:function(e,t,n){return e.round?e.active?"active":e.round!==n.totalRounds?"inactive":"finished":"uninitialised"},locked:!0},pairingSystem:{name:"Pairing system",enum:["swiss","round-robin","knockout"],convert:Qe,lockOnInit:!0,defaultValue:"swiss",description:'Do you want a <span id="swiss" className="switcher">Swiss</span> tournament (players play opponents on the same number of points as themselves with a set number of rounds) or a <span id="round-robin" className="switcher">Round-Robin</span> tournament (everyone players everyone)? Future support for Stable Marriage and Knockout planned. [Message the developers](https://scorchapp.co.uk/about#contact) if you have any requests.'},competitors:{name:"Tournament type",enum:["individual","team"],convert:Qe,lockOnInit:!0,defaultValue:"individual",description:"If your pairings are organised around teams, change this option to 'teams'."},media:{name:"Online?",enum:["online","otb"],convert:function(e){return"otb"===e?"Over-the-board":Qe(e)},defaultValue:"online",description:'Is your tournament online? <span id="online" className="switcher">Online</span> tournaments have a large number of additional settings to automate actions, such as automatic results, downloading games, and dates and times. <span id="otb" className="switcher">Over-the-board (OTB)</span> are played in classical in-person tournament settings.'},totalRounds:{name:"Total rounds",convert:function(e){return"Infinity"===e?"\u221e":e.toString()},type:"number",defaultValue:1/0,lockWhen:{pairingSystem:"round-robin"},nb:{min:1,max:100},allow:{infinity:!0}},ratingSystem:{name:"Rating system",enum:["ECF","FIDE","USCF"],lockOnInit:!0,defaultValue:"ECF",description:'What scale of ratings do you want to use? If the numbers are roughly 0-260, use <span id="ECF" className="switcher">ECF</span>. If the numbers are 0-2600 use <span id="FIDE" className="switcher">FIDE</span>.'},displayPoints:{name:"Games per pairing",convert:function(e){return"match"===e?"Just One":"Multiple"},enum:["match","game"],defaultValue:"match",description:"If your players are playing multiple games in every pairing, you need to change this to <span id='game' className='switcher'>Multiple</span>. Otherwise, if all your pairings are single games, i.e. the result is always 1-0, \xbd-\xbd, or 0-1, then change it to <span id='match' className='switcher'>Just One</span>."},gamePointTotal:{name:"Number of games per pairing",type:"number",defaultValue:1,show:{displayPoints:"game"},nb:{step:1,min:1},allow:{any:!0},highlight:!0,linked:"byeGameReward",convert:function(e){return e?e.toString():"Any"},description:"How many games are there for every pairing? If it's a fixed number, such as all games are 4-0, 2-2, or 3\xbd-\xbd, then write in that fixed number. Otherwise, click <span id='0' className='switcher'>Any</span>."},usingPools:{name:"Pair players in pools?",description:"This setting is for if you're using a pool structure for your pairings. That means that a subset of players can only be paired with a subset of others, for instance, 'Pool A' players can only play those in 'Pool A', 'Pool B in Pool B' and so on. You can switch off this setting at any time. <div id='poolButton' />",type:"boolean",defaultValue:!1,convert:nt},timeControl:{name:"Time control",type:"string",defaultValue:"",regex:/([0-9.]+)\+([0-9.])/},isPublic:{name:"Public",convert:nt,lockOnInit:!1,type:"boolean",defaultValue:!1,level:1},tieBreaks:{name:"Tie Breaks",convert:function(){return""},type:"string",defaultValue:null,validate:function(e){var t,n=e.split(","),a=Object(De.a)(n);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(!(r in tt))throw"Invalid tiebreak '".concat(r,"'")}}catch(i){a.e(i)}finally{a.f()}return!0},hidden:!0}},permissions:{allowNewPlayers:{name:"Mid-way joining?",convert:nt,lockOnInit:!1,type:"boolean",defaultValue:!0,hidden:!0},isPublished:{name:"Round is published?",convert:nt,type:"boolean",defaultValue:!0,hidden:!0},checkForDuplicatePlayers:{name:"Check for duplicate players?",convert:nt,lockOnInit:!1,type:"boolean",defaultValue:!0,show:{allowNewPlayers:!0,pairingSystem:"swiss"},highlight:!0,description:"If this setting is on, ScorchChess will automatically check that any new player you enter in the New Player dialogue doesn't have the same name as an existing player"},allowClashes:{name:"Forbid certain pairings?",convert:nt,lockOnInit:!1,type:"boolean",defaultValue:!0,show:{pairingSystem:"swiss"},description:"Switch this setting on to enable the 'Forbidden Pairings' feature. Forbid a player from playing another by clicking on any player and adding a new forbidden opponent in the Player dialogue. Also known as: clashes, banned pairings."},allowBonuses:{name:"Input score bonuses for players?",convert:nt,lockOnInit:!1,type:"boolean",defaultValue:!0,description:"Switch this setting on to enable the 'Score bonuses' feature. This allows you to arbitarily add bonus points to players. Also known as: half-point byes, handicaps, bonuses."},poolDisplay:{name:"Pool numbering",enum:[0,1,2],type:"number",defaultValue:0,convert:function(e){return 0===e?"Letters":1===e?"Numbers":2===e?"Roman Numerals":void 0},show:{usingPools:!0}}},points:{lossReward:{name:"Points on loss",lockOnInit:!0,type:"number",defaultValue:0,nb:{step:.1}},drawReward:{name:"Points on draw",lockOnInit:!0,type:"number",defaultValue:.5,nb:{step:.1}},winReward:{name:"Points on win",lockOnInit:!0,type:"number",defaultValue:1,nb:{step:.1}},byeReward:{name:"Bye reward",enum:["win","draw","loss"],lockOnInit:!0,defaultValue:"win",convert:Qe,description:'How many match points should be granted to players receiving a bye? It can either be the same number of points as is granted when a player <span id="win" className="switcher">Wins</span>, <span id="draw" className="switcher">Draws</span>, or <span id="loss" className="switcher">Loses</span>.'},byeGameReward:{name:"Bye reward in game points",type:"number",lockOnInit:!1,defaultValue:1,show:{displayPoints:"game"},nb:{min:0},highlight:!0,description:"How many game points should be granted to players receiving a bye? This can be any arbitary number."},performanceSystem:{name:"Performance rating",enum:["ELO","FIDE"],lockOnInit:!1,defaultValue:"ELO",description:'This setting refers to the performance rating **algorithm** used. There are two performance rating options:  <span id="ELO" className="switcher">ELO</span> and  <span id="FIDE" className="switcher">FIDE</span>.\n\t\t\t- The ELO performance rating system refers to the average of an opponent\'s player\'s player ratings, buffed by 400 for each win and subtracted by 400 for every loss.\n\t\t\t- The FIDE formula calculates a rating difference factor dp using a lookup table from the player\'s percentage score. That difference factor is then summed to the average rating of all opponents played. For instance, if the average opponent rating is 1400 and the player has won 2 out of 3 games, their dp factor will be +125 and so their performance rating will be 1525.\n\t\t\tThis feature is only important if you are interested in calculating performance ratings and expected scores.'}},stats:{nbPlayers:{name:"Number of players",type:"number",defaultValue:0,value:function(e,t){return t.length},convert:function(e){return e.toString()}},activePlayers:{name:"Active players",type:"number",defaultValue:0,value:function(e,t){return t.filter((function(e){return e.active})).length},convert:function(e){return e.toString()}},matchesPlayed:{name:"Matches played",type:"number",defaultValue:0,value:function(e,t){return t.reduce((function(e,t){return e+t.played}),0)/2},convert:function(e){return e.toString()}},gamesPlayed:{name:"Games played",type:"number",defaultValue:0,value:function(e,t){return Math.ceil(t.reduce((function(e,t){return e+t.histories.reduce((function(e,t){return t?e+=t.played:e}),0)}),0)/2)},convert:function(e){return e.toString()}},averageRating:{name:"Average rating",type:"number",defaultValue:1200,value:function(e,t){if(!t.length)return 0;var n=t.reduce((function(e,t){return e+t.rating}),0);return Math.round(n/t.length)},convert:function(e){return e?e.toString():"-"}},createdAt:{name:"Created at",convert:function(e){return new Date(e).toString().slice(0,24)},locked:!0},updatedAt:{name:"Last updated",convert:function(e){return new Date(e).toString().slice(0,24)},locked:!0}},public:{vanityURL:{name:"Custom ID",type:"string",defaultValue:"",action:"updateVanityURL",level:2},url:{name:"URL",type:"link",defaultValue:"",value:function(e,t,n){return"".concat(T,"t/").concat(n.vanityURL||e.id).trim()},level:2,showOnIntro:{vanityURL:function(e){return e}}},location:{name:"Location",type:"string",defaultValue:"",level:1},profileURL:{name:"Link to website",type:"string",level:1},rulesURL:{name:"Link to rules",type:"string",level:1},logoURL:{name:"Link to profile picture",type:"string",level:1},streamURL:{name:"Stream link",type:"string",level:1}},public_permissions:{showRatings:{name:"Show ratings",convert:nt,type:"boolean",defaultValue:!0,level:1},roundTimes:{name:"Show round times",convert:nt,type:"boolean",defaultValue:!0,locked:!1,level:1},publishPairings:{name:"Ask me before publishing pairings",convert:nt,type:"boolean",defaultValue:!1,level:1,description:"Enable a convenience feature that allows you to say when your pairings after a draw are viewable by the public on ScorchResults. This extra step is useful for changing any pairings to suit your preferences before publishing."}},public_hidden:{description:{name:"Description",type:"string",level:1},prizes:{name:"Prizes",type:"string",level:1}},automation:{source:{name:"Source",enum:["","lichess","chessCom"],convert:function(e){return"lichess"===e?"Lichess.org":"chessCom"===e?"Chess.com":"None"},show:{media:"online"},defaultValue:"",level:1,description:'This setting enables ScorchChess\' state-of-the-art integration features. Select a website where games will be played to begin. ScorchChess currently has support for  <span id="lichess" className="switcher">Lichess.org</span> and  <span id="chessCom" className="switcher">Chess.com</span>. This setting controls your ability to submit game links.'},pullResults:{name:"Pull results",show:{source:["lichess","chessCom"]},enum:[0,1,2],type:"number",highlight:!0,level:1,convert:function(e){return 0===e?"Off":1===e?"Ask me first":"Pull and save all"},defaultValue:1,description:'This setting enables ScorchChess\' state-of-the-art integration features. This setting enables ScorchChess to sync the results with the results found on Lichess.org or Chess.com. There are 3 settings:\n\t\t\t\t- <span id="0" className="switcher">Off</span>: Don\'t sync. Let me submit the results myself manually.\n\t\t\t\t- <span id="1" className="switcher">Ask me first</span>: Sync, but don\'t confirm any results. Make all synced results provisional and I\'ll confirm them.\n\t\t\t\t- <span id="2" className="switcher">Pull and save all</span>: Sync and save all the results. If there any results that need correcting, you can edit results by clicking on the _Dropdown_ for a pairing and _Undo result_.'},allowSelfLinks:{name:"Let users submit links?",lockOnInit:!1,enum:[0,1,2,3],type:"number",defaultValue:1,highlight:!0,level:1,show:{source:["lichess","chessCom"]},convert:function(e){return 0===e?"Off":1===e?"Ask me first":2===e?"Save if both players confirm":"Save if either player confirms"},description:'This setting lets users submit game links to either Lichess.org or Chess.com. If running a team tournament, team admins are allowed to do this. There are 4 options with this setting:\n\t\t\t\t- <span id="0" className="switcher">Off</span>: Don\'t allow users to submit game links. You can add a game link to any pairing yourself by clicking on the _Pairing Dropdown_.\n\t\t\t\t- <span id="1" className="switcher">Ask me first</span>: Provisionally add links. I will then confirm them using the _Pairing Dropdown_.\n\t\t\t\t- <span id="2" className="switcher">Save if both players confirm</span>: If any player adds a link, make it provisional. Show a confirmation dialogue to the the player and save it if they accept.\n\t\t\t\t- <span id="3" className="switcher">Save if either player confirms</span>: If any player adds a link, save it to the pairing.'},allowSelfSubmissions:{name:"Let users submit results?",convert:nt,locked:!0,lockOnInit:!1,type:"boolean",defaultValue:!1},allowRegistration:{name:"Let users register online?",convert:Qe,enum:["closed","approve","open"],onInit:!1,locked:!0,defaultValue:"closed"}}},rt=n(172),it=n.n(rt);function st(e){return N?Object(ae.jsx)("div",{id:e.id,onClick:function(){return window.api.shell},children:e.children}):Object(ae.jsx)("a",Object(p.a)(Object(p.a)({href:e.to,id:e.id,target:"_blank",rel:"noopener noreferrer"},e),{},{children:e.children}))}var ct=n(490),ot=n.n(ct),lt=n(275),ut=new(n.n(lt).a.ProcessNodeDefinitions)(m.a),dt=ot()({isValidNode:function(e){return"script"!==e.type},processingInstructions:[{shouldProcessNode:function(e){return!0},processNode:ut.processDefaultNode}]});function mt(e){return Object(ae.jsx)(st,Object(p.a)({to:e.href},e))}function bt(e){var t=e.content,n=e.onMount,a=e.handleToggle,r=e.className,i=Object(d.useMemo)((function(){if("string"!==typeof t)return"25em";var e=null===t||void 0===t?void 0:t.split(W).length;return(e?e/6+2:25)+"em"}),[t]),s=m.a.createRef(),c=Object(d.useCallback)((function(e){return t&&"0em"===e?i:"0em"}),[t,i]),o=Object(d.useReducer)(c,"0em"),l=Object(g.a)(o,2),u=l[0],b=l[1],p=Object(d.useState)(!1),j=Object(g.a)(p,2),f=j[0],h=j[1];return Object(d.useEffect)((function(){if(!u.startsWith("0"))return h(!0),void(n&&n());var e=setTimeout((function(){return h(!1)}),750);return function(){return clearTimeout(e)}}),[u,n,h]),Object(d.useEffect)((function(){if(s.current&&a)for(var e=Array.from(s.current.querySelectorAll("span.switcher")),t=function(){var e=r[n];e.onclick=function(){return a(e.id)}},n=0,r=e;n<r.length;n++)t()}),[a,s]),Object(d.useEffect)((function(){setTimeout((function(){return window.dispatchEvent(new Event("resize"))}),250)}),[u]),{toggleHeight:b,description:Object(d.useMemo)((function(){return f?Object(ae.jsx)("div",{ref:s,className:r,style:{maxHeight:u},children:"string"===typeof t?Object(ae.jsx)(it.a,{source:null===t||void 0===t?void 0:t.split("\n").map((function(e){return e.trim()})).join("\n"),escapeHtml:!1,astPlugins:[dt],renderers:{link:mt}}):t}):null}),[f,t,r,u])}}function pt(e){var t,n,a,r=Object(d.useState)(e.content),i=Object(g.a)(r,2),s=i[0],c=i[1],o=Object(d.useState)(e.alwaysEnabled||!1),l=Object(g.a)(o,2),u=l[0],m=l[1];Object(d.useEffect)((function(){void 0!==typeof e.content&&null!==e.content||c(""),c(e.content)}),[e,e.content,c]);var b=Object(d.useCallback)((function(t){t.preventDefault();var n=t.target;"HTMLButtonElement"===n.constructor.name&&n.parentNode[e.name||"name"].stepDown()}),[e.name]),j=Object(d.useCallback)((function(t){t.preventDefault();var n=t.target;"HTMLButtonElement"===n.constructor.name&&n.parentNode[e.name||"name"].stepUp()}),[e.name]),f=Object(d.useCallback)((function(t){if(t.preventDefault(),e.handleClear)e.handleClear().then((function(){m(e.alwaysEnabled||!1),c("")}));else{var n=t.target.parentElement;if("HTMLFormElement"!==n.constructor.name)return Promise.resolve(m(e.alwaysEnabled||!1));var a=n[e.name||"name"];if("HTMLInputElement"!==a.constructor.name)return Promise.resolve(m(e.alwaysEnabled||!1));c(null),a.value=null,n[e.name||"name"]=null,t.target=n,v({target:n})}}),[e.handleClear,m,c,e.alwaysEnabled]),h=Object(d.useCallback)((function(t){return t.preventDefault(),e.handleSubmit(e.name||"name",0).then((function(){m(e.alwaysEnabled||!1),c("0")}))}),[e.handleSubmit,m,c,e.name]),O=Object(d.useCallback)((function(t){return t.preventDefault(),e.handleSubmit(e.name||"name","Infinity").then((function(){m(e.alwaysEnabled||!1),c("\u221e")}))}),[e.handleSubmit,m,c,e.alwaysEnabled,e.name]),v=Object(d.useCallback)((function(t){if(t.preventDefault&&t.preventDefault(),e.useHandleSubmit){var n,a,r=t.target;if("HTMLFormElement"===r.constructor.name)a=r[e.name||"name"];else{if("HTMLInputElement"!==r.constructor.name)return Promise.resolve(m(e.alwaysEnabled||!1));a=r}return e.handleSubmit(e.name||"name",a.value).then((function(){return m(e.alwaysEnabled||!1),t})).then(null!==(n=e.onSubmitSuccess)&&void 0!==n?n:function(){}).then((function(){return c(a.value)})).catch((function(e){e&&console.error(e)}))}return H(t).then((function(){return m(e.alwaysEnabled||!1),t})).then((function(t){return e.onSubmitSuccess&&e.onSubmitSuccess(t),t})).then((function(e){for(var t=e.target;"HTMLFormElement"!==t.constructor.name&&t.parentElement;)t=t.parentElement;if("HTMLFormElement"!==t.constructor.name)throw new Error("Couldn't find valid form");var n=t.firstChild.value;c(n)})).catch((function(e){e&&console.error(e)}))}),[e.useHandleSubmit,e.handleSubmit,e.name,m,e.onSubmitSuccess,e.alwaysEnabled,m,c]),y=Object(d.useCallback)((function(t){switch(t.keyCode){case 27:return m(e.alwaysEnabled||!1),t;case 13:return v(t),t;default:return t}}),[m,v,e.alwaysEnabled]);function x(t){var n,a,r,i,s,o,l=t.name;o="datetime-local"===e.inputType?l?function(e){if(isNaN(e.valueOf()))return"";var t=6e4*e.getTimezoneOffset();return new Date(e.valueOf()-t).toISOString().slice(0,16)}(new Date(l)):function(e){var t=new Date(e.setUTCHours(e.getUTCHours()+1));return t.getUTCMinutes()<30?new Date(t.setUTCMinutes(30)):new Date(new Date(t.setUTCMinutes(0)).setUTCHours(t.getUTCHours()+1))}(new Date(e.defaultEditContent)).toString():l,(null===(n=e.show)||void 0===n?void 0:n.any)&&"0"===o&&(o="");var u=e.name||"name",d=function(){var t,n,a,r,i,s,c,o,l;return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("button",{className:A()(Re.a.button,Re.a.cancel,Object(Ne.a)({},Re.a.submitHidden,!!e.show&&!!e.show.submit&&!e.show.infinity&&!e.show.any&&!e.show.clear&&!e.show.reset)),onClick:function(){return m(e.alwaysEnabled||!1)},title:"Cancel",children:Object(ae.jsx)(ne.lb,{})}),Object(ae.jsx)("button",{className:A()(Re.a.button,Re.a.clear,Object(Ne.a)({},Re.a.submitHidden,!(null===(t=e.show)||void 0===t?void 0:t.clear))),onClick:f,title:"Clear",children:Object(ae.jsx)(ne.ob,{})}),Object(ae.jsx)("button",{className:A()(Re.a.button,Re.a.any,Object(Ne.a)({},Re.a.submitHidden,!(null===(n=e.show)||void 0===n?void 0:n.any))),onClick:h,title:"Any",children:"Any"}),Object(ae.jsx)("button",{className:A()(Re.a.button,Re.a.infinity,Object(Ne.a)({},Re.a.submitHidden,!(null===(a=e.show)||void 0===a?void 0:a.infinity))),onClick:O,title:"Infinity",children:"\u221e"}),Object(ae.jsx)("button",{type:"button",value:"\u25bc",className:A()(Re.a.button,Re.a.increment,Object(Ne.a)({},Re.a.submitHidden,!(null===(r=e.show)||void 0===r?void 0:r.increment))),onClick:b,title:"Decrement",children:Object(ae.jsx)(ne.j,{})}),Object(ae.jsx)("button",{className:A()(Re.a.button,Re.a.increment,Object(Ne.a)({},Re.a.submitHidden,!(null===(i=e.show)||void 0===i?void 0:i.increment))),onClick:j,title:"Increment",children:Object(ae.jsx)(ne.k,{})}),Object(ae.jsx)("button",{type:"submit",className:A()(Re.a.button,Re.a.submit,(c={},Object(Ne.a)(c,Re.a.submitHidden,!(null===(s=e.show)||void 0===s?void 0:s.reset)),Object(Ne.a)(c,"reset","textarea"===e.inputType),c)),title:"History",children:Object(ae.jsx)(ne.M,{})}),Object(ae.jsx)("button",{type:"submit",className:A()(Re.a.button,Re.a.submit,(l={},Object(Ne.a)(l,Re.a.submitHidden,!(null===(o=e.show)||void 0===o?void 0:o.submit)),Object(Ne.a)(l,"submit","textarea"===e.inputType),l)),title:"Submit",children:Object(ae.jsx)(ne.l,{})})]})}();return e.search?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{className:Re.a.shroud,onClick:function(){return m(!1)}}),Object(ae.jsxs)("div",{className:Re.a.searchForm,children:[Object(ae.jsx)(Pe,{onSubmit:function(t){return L({url:e.url,data:Object(p.a)(Object(Ne.a)({},u,t),e.additionalInputProps||{})}).then((function(){m(e.alwaysEnabled||!1),c(t)}))},options:e.search.options,getName:e.search.getName,placeholder:null!==(a=o)&&void 0!==a?a:"",showChoices:!1,showIcon:!1,styles:Re.a,alwaysHover:!0}),d]})]}):Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{className:Re.a.shroud,onClick:function(){return m(!1)}}),Object(ae.jsxs)("form",{ref:e.formRef,className:[Re.a.form,null===(r=e.classNames)||void 0===r?void 0:r.form].join(" "),target:"_self",onKeyDown:y,onSubmit:v,method:"POST",action:e.url,children:["textarea"!==e.inputType?Object(ae.jsx)("input",Object(p.a)({type:e.inputType,className:[Re.a.input,null===(i=e.classNames)||void 0===i?void 0:i.input].join(" "),name:e.name||"name",defaultValue:o,placeholder:" ",required:!0,autoFocus:!0},e.additionalInputProps||{})):Object(ae.jsx)("textarea",Object(p.a)({className:[Re.a.input,null===(s=e.classNames)||void 0===s?void 0:s.input].join(" "),name:e.name||"name",defaultValue:o,placeholder:"No "+e.name+" set",required:!0},e.additionalInputProps||{})),d,e.children]})]})}var _,k=s;return k&&"datetime-local"===e.inputType?(_=new Date(s),k=isNaN(_.valueOf())?"":_.toLocaleString("en-GB").slice(0,-3)):(null===(t=e.show)||void 0===t?void 0:t.any)&&"0"===k&&(k="Any"),Object(ae.jsx)("div",{className:[Re.a.container,null===(n=e.classNames)||void 0===n?void 0:n.container].join(" "),children:u?Object(ae.jsx)(x,{name:s}):Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{className:[Re.a.editableField,(null===(a=e.classNames)||void 0===a?void 0:a.editableField)||""].join(" "),onClick:function(){return m(!0)},children:k||e.defaultContent||"\u200b"}),e.children]})})}var jt=Object.values(at).reduce((function(e,t){for(var n=0,a=Object.values(t);n<a.length;n++){var r=a[n];r.show&&e.push.apply(e,Object(Se.a)(Object.keys(r.show)))}return e}),[]);function ft(e){var t=Object(d.useCallback)((function(t,n,a){try{var r;if(null===a||void 0===a?void 0:a.enum){var i=a.enum.indexOf(n);-1===i&&console.error("Invalid setting value "+t+": "+n);var s=(i+1)%a.enum.length;r=a.enum[s]}else if("boolean"===(null===a||void 0===a?void 0:a.type))r=!n;else{if("number"===(null===a||void 0===a?void 0:a.type)){if("Infinity"===n||"\u221e"===n?r=1/0:n=Number(n),"totalRounds"===t){if(n<=e.status.round)throw new Error("Can't make total number of rounds less than current round number");if(n!==1/0&&n>=100)throw new Error("Can't make total number of rounds more than 100")}return n}r=n}e.updateSetting(t,r,a)}catch(c){c&&c.message&&e.triggerError(c.message)}}),[e.status.round,e.updateSetting,e.triggerError]),n=Object(d.useMemo)((function(){return Object.entries(e.settings).filter((function(e){var t=Object(g.a)(e,1)[0];return jt.includes(t)}))}),[e.settings]);Object(d.useEffect)((function(){!function(){for(var e=0,t=Array.from(document.querySelectorAll("."+[Ie.a.sectionListWrapper].join(".")));e<t.length;e++){var n=t[e],a=n.firstElementChild,r=n.className.includes(Ie.a.expanded)?a.getBoundingClientRect().height+"px":"0px";n.style.height=r}}()}),[JSON.stringify(n)]);var a=Object(d.useContext)(oe),r=a.setAlert,i=a.closeAlert,s=Object(d.useCallback)((function(){r({message:Object(ae.jsxs)(ae.Fragment,{children:["How many pools should there be? ",Object(ae.jsx)("br",{}),Object(ae.jsx)("div",{style:{height:20,margin:"1em 0"},children:Object(ae.jsx)(pt,{content:"2",url:E+["tournament",e.status.id,"randomlyPoolAll"].join("/"),name:"pools",alwaysEnabled:!0,inputType:"number",show:{increment:!0,submit:!0,clear:!1,reset:!1},additionalInputProps:{min:1,max:e.players.length},onSubmitSuccess:function(){i(),e.updatePlayerDict(),e.settings.usingPools||e.updateTournamentSettings()}})})]}),title:"Randomly assign pools",type:"action"})}),[r,e.updatePlayerDict,e.status,i,e.players]),c=Object(d.useCallback)((function(n){var a,r=n.k,i=n.def,c=n.i,o=bt({content:i.description,handleToggle:function(e){return t(r,e)},className:A()(Ie.a.desc,"scrollable")}),l=o.toggleHeight,u=o.description;Object(d.useEffect)((function(){var e=document.getElementById("poolButton");if(e)return e.innerHTML="Randomly assign pools",e.addEventListener("click",s),function(){return e.removeEventListener("click",s)}}));var m=!1;if(i.hidden)m=!0;else if(i.show)for(var b=function(){var t=Object(g.a)(f[j],2),n=t[0],a=t[1],r=e.settings[n];if(Array.isArray(a)){if(a.every((function(e){return e!==r})))return m=!0,"break"}else if(r!==a)return m=!0,"break"},j=0,f=Object.entries(i.show);j<f.length;j++){if("break"===b())break}if(m)return null;if(!1===e.mount)return Object(ae.jsx)("div",{className:Ie.a.row,children:Object(ae.jsxs)("div",{className:["fieldBox","keyField"].join(" "),children:[i.name,i.name.endsWith("?")?"":":"]})},["row",c].join("."));var h=!1;if(i.locked)h=!0;else if(i.lockOnInit&&e.status.round)h=!0;else if(i.lockWhen)for(var O=0,v=Object.entries(i.lockWhen);O<v.length;O++){var x=Object(g.a)(v[O],2),_=x[0],k=x[1];if(e.settings[_]===k){h=!0;break}}var N=null!==(a=e.settings[r])&&void 0!==a?a:i.defaultValue;i.value&&(N=i.value(e.status,e.players,e.settings));var w=i.convert?i.convert(N):"number"===i.type?N.toString():N;return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{className:Ie.a.row,children:[Object(ae.jsxs)("div",{className:["fieldBox","keyField",i.description?Ie.a.toggleKey:"",e.status.active&&i.highlight?Ie.a.semiPresent:""].join(" "),onClick:l,children:[i.name,i.name.endsWith("?")?"":":",i.description?Object(ae.jsx)("div",{className:["triangle",Ie.a.help].join(" "),children:Object(ae.jsx)(ne.Z,{})}):null]}),h||!e.status.active||i.value?Object(ae.jsx)("div",{style:{cursor:"link"===i.type?"copy":"default"},className:["fieldBox",Ie.a.locked].join(" "),onClick:"link"!==i.type?null:function(){return navigator.clipboard.writeText(w)},children:"undefined"!==typeof w?w.toString():"\u200b"}):i.enum||"string"!==i.type?i.enum||"number"!==i.type?Object(ae.jsx)("div",{className:["fieldBox",Ie.a.editable,"boolean"===i.type?N?Ie.a.true:Ie.a.false:""].join(" "),onClick:function(){return t(r,N,i)},children:"undefined"!==typeof w?w.toString():"\u200b"}):Object(ae.jsx)(pt,{handleSubmit:function(t,n){return e.updateSetting(t,n,i)},content:w,url:["tournament",e.status.id,"updateSetting"].join("/"),inputType:"number",classNames:{editableField:Ie.a.editableField,input:Ie.a.input},name:r,additionalInputProps:i.nb,show:Object(p.a)({submit:!0,increment:!0},i.allow),useHandleSubmit:!0}):Object(ae.jsx)(pt,{handleSubmit:function(t,n){return e.updateSetting(t,n,i)},content:w,url:y.a.resolve(E,["tournament",e.status.id,i.action||"updateSetting"].join("/")),inputType:"text",classNames:{editableField:Ie.a.editableField,input:Ie.a.input},name:r,additionalInputProps:{},show:Object(p.a)({submit:!0},i.allow),useHandleSubmit:!0})]},["row",c].join(".")),u]})}),[e.settings,e.status,e.players,e.updateSetting,e.status.id,e.updateTournamentSettings,s,e.resize]);return{handleToggle:t,renderEntry:c,SettingsRow:c,watchedSettings:n}}function ht(e){var t=!1;t="undefined"!==typeof e.lastRoundOverride?e.lastRoundOverride:!e.status.active;var n=y.a.resolve(E,["tournament",e.status.id,"setName"].join("/")),a=Object(d.useMemo)((function(){return e.userRound||e.status.round}),[e.userRound,e.status.round]),r=Object(d.useCallback)((function(){a>1&&(e.setRound(a-1),e.switchPairings(!1))}),[a,e.setRound,e.switchPairings]),i=Object(d.useContext)(ce),s=Object(d.useCallback)((function(){a<e.status.round&&(e.setRound(a+1),e.switchPairings(!1))}),[a,e.setRound,e.switchPairings]),c=Object(d.useContext)(le),o=Object(d.useState)(!1),l=Object(g.a)(o,2),u=l[0],m=l[1],b="";return b=e.status.round?t&&!e.status.active?Ce.a.finished:e.status.active?Ce.a.active:Ce.a.paused:Ce.a.pending,Object(ae.jsx)("div",{className:Ce.a.titleBar,children:Object(ae.jsxs)("div",{className:Ce.a.stage,children:[Object(ae.jsxs)("div",{className:[Ce.a.row,Ce.a.headerBar,u?Ce.a.expanded:""].join(" "),children:[Object(ae.jsx)("div",{className:[Ce.a.header].join(" "),onClick:function(){return u?m(!1):null},children:Object(ae.jsx)(pt,{content:e.status.name,url:n,inputType:"text",handleSubmit:function(e,t){return L({url:n,data:Object(Ne.a)({},e,t)})},classNames:Ce.a,additionalInputProps:{},onSubmitSuccess:e.updateTournamentStatus,defaultContent:c?"Unnamed ".concat(Qe(e.settings.pairingSystem)," Tournament"):"",show:{submit:!0}})}),e.status.round?u?Object(ae.jsx)("div",{className:["button",Ce.a.searchButton].join(" "),children:Object(ae.jsx)(Pe,{onSubmit:function(t){m(!1),e.search(t)},onCancel:function(){return m(!1)},onChange:e.filterPairings,options:e.players,getName:i,styles:Ce.a,placeholder:"Search All Players",showHistory:!1,showChoices:!1,cacheHistory:!1,preserveLastSearch:!0})}):Object(ae.jsx)("div",{className:["button",Ce.a.button].join(" "),onClick:function(){return m(!0)},children:Object(ae.jsx)(ne.db,{})}):null]}),Object(ae.jsxs)("div",{className:[Ce.a.row,Ce.a.statusBar].join(" "),children:[Object(ae.jsx)("div",{id:Ce.a.previous,className:[a>1?"button":Ce.a.fixed].join(" "),onClick:r,children:c?Object(ae.jsx)(ne.b,{}):null}),Object(ae.jsx)("div",{className:[Ce.a.fixed,Ce.a.round,b].join(" "),children:c?Object(ae.jsxs)(ae.Fragment,{children:["Round: ",a?a+" / "+("Infinity"===e.totalRounds?"\u221e":e.totalRounds):"Not yet initialised"]}):null}),Object(ae.jsx)("div",{id:Ce.a.next,className:[a<e.status.round?"button":Ce.a.fixed].join(" "),onClick:s,children:c?Object(ae.jsx)(ne.c,{}):null})]})]})})}var gt=n(52),Ot=n.n(gt),At=n(59),vt=n(492),yt=n(173),xt=n.n(yt);function _t(e){var t=e.defaultValue,n=e.isTernary,a=Object(d.useState)(n?t:!!t),r=Object(g.a)(a,2),i=r[0],s=r[1];return Object(d.useEffect)((function(){s(t)}),[t]),!0===i?Object(ae.jsx)(ne.m,{className:xt.a.check,onClick:function(){if(!e.locked){s(false),e.setValue(false)}}}):!1===i&&n?Object(ae.jsx)(ne.f,{className:xt.a.ban,onClick:function(){if(!e.locked){var t=!n||void 0;s(t),e.setValue(t)}}}):Object(ae.jsx)(ne.q,{className:xt.a.blank,onClick:function(){if(!e.locked){s(true),e.setValue(true)}}})}var kt=n(45),Nt=n.n(kt),wt=n(104),Ct=n.n(wt);function St(e){var t=Object(d.useReducer)((function(e,t){return null!==t&&void 0!==t?t:!e}),!!e.expanded),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useState)(0),s=Object(g.a)(i,2),c=s[0],o=s[1],l=Object(d.useRef)(),u=Object(d.useRef)(),m=Object(d.useCallback)((function(){u.current&&o(a?u.current.getBoundingClientRect().height:0)}),[o,a,u]);Object(d.useEffect)((function(){m()}),[m]);var b=Object(d.useCallback)((function(e){l.current&&(l.current===e.target||l.current.contains(e.target)||r(!1))}),[l,r]);Object(d.useEffect)((function(){return document.addEventListener("click",b),function(){return document.removeEventListener("click",b)}}),[b]);var p=Object(d.useMemo)((function(){if(Array.isArray(e.options))return{name:Qe(e.current)};var t=e.options[e.current];return"string"===typeof t?{name:t}:t}),[e.options,e.current]);return Object(ae.jsxs)("div",{className:A()(Ct.a.container),ref:l,children:[Object(ae.jsxs)("div",{className:A()("button",Ct.a.header,e.className),onClick:function(){return r()},children:[Object(ae.jsx)(ne.c,{className:Ct.a.toggle,style:{transform:a?"rotate(90deg)":"rotate(0deg)"}}),e.headerIcon,e.title||(null===p||void 0===p?void 0:p.name)]}),Object(ae.jsx)("div",{className:Ct.a.wrapper,style:{height:c},children:Object(ae.jsx)("ul",{className:Ct.a.list,ref:u,children:Object.entries(e.options).map((function(t,n){var a=Object(g.a)(t,2),i=a[0],s=a[1];if(!s)return null;var c=s;return"object"===typeof c&&c.hide?null:Object(ae.jsx)("li",{onClick:function(t){Array.isArray(e.options)?e.resolve(s):e.resolve(i),r(),t.stopPropagation()},children:"string"===typeof c?Array.isArray(e.options)?Qe(c):c:c.name},[c,n].join("."))}))})})]})}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseColors,n=e.hasLoaded;function a(e){var a;if(!1===n)return null;var r=t[null!==(a=e.container)&&void 0!==a?a:0];return e.color&&(r=e.color),e.icon?m.a.isValidElement(e.icon)?m.a.cloneElement(e.icon,Object.assign(Object(p.a)(Object(p.a)({className:e.className},e.icon.props),{},{style:Object(p.a)(Object(p.a)(Object(p.a)({},e.icon.props.style),e.style),{},{color:r})}),["img","svg"].includes(e.icon.type.toString())?void 0:{id:e.icon.type})):Object(ae.jsx)(e.icon,{className:e.className,style:Object(p.a)(Object(p.a)({},e.style),{},{color:r}),id:e.icon.name}):null}return t||(t=[]),{Icon:a}}function Rt(e){var t,n=Object(d.useContext)(ue),a=Object(d.useContext)(ie),r=Object(d.useMemo)((function(){return{pasteInput:{name:"Smart Input mode"},export:{name:"Export mode",hide:!i},settings:{name:"Detailed settings view"},crossTable:{name:"Cross-table"},announcements:{name:"Announcements",hide:!a.isPublic},knockout:{name:"Knockout pairing view",hide:"knockout"!==a.pairingSystem},sort:{name:"Quick Drag & Drop"}}}),[a]),s=Jt().Icon;return Object(ae.jsxs)("div",{className:A()(Nt.a.stage,Object(Ne.a)({},Nt.a.short,e.short),e.className),ref:e.propRef,children:[Object(ae.jsx)("div",{className:Nt.a.titleContainer,children:Object(ae.jsx)("div",{className:Nt.a.titleWrapper,children:Object(ae.jsxs)("div",{className:Nt.a.titles,children:[e.isChild?e.title?Object(ae.jsx)("div",{className:Nt.a.title,children:e.title}):null:Object(ae.jsx)(St,{current:e.id,options:r,title:e.title,resolve:n,className:A()("button",Nt.a.button)}),null===(t=e.buttons)||void 0===t?void 0:t.map((function(e,t){return"dropdown"in e?Object(ae.jsx)(St,Object(p.a)(Object(p.a)({},e),{},{className:A()("button",Nt.a.button)})):e.href?Object(ae.jsxs)(st,{to:e.href,id:e.id,className:A()("button",Nt.a.button,e.className),children:[Object(ae.jsx)(s,Object(p.a)({},e)),e.name]},A()(e.name,t)):Object(ae.jsxs)("div",{className:A()("button",Nt.a.button,e.className),id:e.id,onClick:e.inactive?function(){}:e.onClick,children:[Object(ae.jsx)(s,Object(p.a)({},e)),e.name]},A()(e.name,t))})),e.isChild?null:Object(ae.jsxs)("div",{className:A()("button",Nt.a.closeButton),onClick:function(){return n("")},children:[Object(ae.jsx)(At.b,{style:{color:"indianred"}}),"Back to tournament"]}),e.description?Object(ae.jsx)("div",{className:Nt.a.description,children:e.description}):null]})})}),Object(ae.jsx)("div",{ref:e.childRef,className:A()(Nt.a.body,e.childClass,{scrollable:!1!==e.scrollable,"scrollable-x":!0}),children:e.children})]})}var Bt=n(32),It=n.n(Bt),Dt="\nALA\nALA\nASM\nASM\nAIA\nAIA\nATA\nATA\nATG\nATG\nABW\nABW\nBHR\nBHR\nBRB\nBRB\nBEN\nBEN\nBTN\nBTN\nBWA\nBWA\nBVT\nBVT\nVGB\nVGB\nIOT\nIOT\nBFA\nBFA\nKHM\nKHM\nCYM\nCYM\nCAF\nCAF\nTCD\nTCD\nCXR\nCXR\nCCK\nCCK\nCOG\nCOG\nCOK\nCOK\nCRI\nCRI\nHRV\nHRV\nDNK\nDNK\nDMA\nDMA\nSLV\nSLV\nGNQ\nGNQ\nFLK\nFLK\nGUF\nGUF\nPYF\nPYF\nATF\nATF\nGMB\nGMB\nGRL\nGRL\nGRD\nGRD\nGLP\nGLP\nGTM\nGTM\nGGY\nGGY\nGIN\nGIN\nGNB\nGNB\nHTI\nHTI\nHMD\nHMD\nVAT\nVAT\nHND\nHND\nIDN\nIDN\nIRN\nIRN\nIMN\nIMN\nJEY\nJEY\nKIR\nKIR\nPRK\nPRK\nKWT\nKWT\nLVA\nLVA\nLSO\nLSO\nLBY\nLBY\nMDG\nMDG\nMWI\nMWI\nMHL\nMHL\nMTQ\nMTQ\nMRT\nMRT\nMUS\nMUS\nMYT\nMYT\nFSM\nFSM\nMCO\nMCO\nMNG\nMNG\nMSR\nMSR\nMMR\nMMR\nNPL\nNPL\nNLD\nNLD\nNCL\nNCL\nNIC\nNIC\nNER\nNER\nNGA\nNGA\nNIU\nNIU\nNFK\nNFK\nMNP\nMNP\nOMN\nOMN\nPSE\nPSE\nPRY\nPRY\nPCN\nPCN\nPRI\nPRI\nREU\nREU\nBLM\nBLM\nSHN\nSHN\nMAF\nMAF\nKNA\nKNA\nSPM\nSPM\nVCT\nVCT\nSAU\nSAU\nWSM\nWSM\nSLB\nSLB\nSYC\nSYC\nSGS\nSGS\nLKA\nLKA\nSDN\nSDN\nSJM\nSJM\nCHE\nCHE\nTWN\nTWN\nTZA\nTZA\nTGO\nTGO\nTKL\nTKL\nTON\nTON\nTCA\nTCA\nTUV\nTUV\nARE\nARE\nUMI\nUMI\nURY\nURY\nVUT\nVUT\nVNM\nVNM\nVIR\nVIR\nWLF\nWLF\nESH\n",Pt=n(65),Et=n.n(Pt),Tt=n(491);function Mt(e){var t=Object(d.useState)(-2),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useState)(-2),s=Object(g.a)(i,2),c=s[0],o=s[1],l=Object(d.useState)(43),u=Object(g.a)(l,2),b=u[0],p=u[1],j=Object(d.useState)(e.children),f=Object(g.a)(j,2),h=f[0],O=f[1],v=Object(d.useMemo)((function(){return e.children.map((function(e){return e.props.id}))}),[e.children]),y=Object(d.useMemo)((function(){return v.indexOf("null")}),[v]),x=Object(d.useMemo)((function(){return h.map((function(e){return e.props.id}))}),[h]),_=Object(d.useMemo)((function(){for(var e=0;e<v.length;e++)if(v[e]!==x[e])return!0;return!1}),[v,x]),k=Object(d.useState)(!0),N=Object(g.a)(k,2),w=N[0],C=N[1];Object(d.useEffect)((function(){O(e.children),o(-2)}),[e.children,o]);var S=Object(d.useCallback)((function(e){var t=e.target;t&&(r(x.indexOf(t.id)),p(t.getBoundingClientRect().height))}),[x,r,e.onDrag,p]),J=Object(d.useCallback)((function(t){var n=t.target;e.onDragOver&&e.onDragOver(n.id),"last"===n.id?o(x.length):a<0?o(x.indexOf(n.id)):x.indexOf(n.id)===a+1||x.indexOf(n.id)===a?o(-2):o(x.indexOf(n.id))}),[x,o,a,e.onDragOver]),R=Object(d.useCallback)((function(t){if(!(a<=-2)){var n=h[a];if(e.onDragEnd&&e.onDragEnd(n.props.id),!(c<=-2)){var i=h[c],s=h.slice(0);n&&s.splice(a,1),i&&s.splice(c===h.length?s.length:s.indexOf(i),0,n),O(s),r(-2),o(-2)}}}),[o,r,a,c,h,O,e.onDragEnd]),B=Object(d.useCallback)((function(){e.onReset&&e.onReset(),O(e.children)}),[O,e.children,e.onReset]),I=Object(d.useCallback)((function(){e.onSubmit(x)}),[e.onSubmit,x]);return Object(d.useEffect)((function(){var e=function(){return C(!0)},t=function(){return C(!1)};return document.addEventListener("mousedown",e),document.addEventListener("mouseup",t),document.addEventListener("dragend",t),function(){document.removeEventListener("mousedown",e),document.removeEventListener("mouseup",t),document.removeEventListener("dragend",t)}}),[C]),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{className:A()(Et.a.wrapper,"scrollable"),children:[Object(ae.jsx)("div",{className:A()(e.className),children:h.map((function(t,n){return e.filter&&!e.filter(t,n)?null:Object(ae.jsxs)("div",{id:t.props.id,className:A()(Et.a.listElement,Object(Ne.a)({},Et.a.columns,e.numbers)),draggable:!0,onDragStart:S,onDragEnd:R,onDragOver:J,style:{marginTop:c===x.indexOf(t.props.id)&&b?b+10+"px":0},children:["null"!==t.props.id&&e.numbers?Object(ae.jsx)("div",{className:A()(Et.a.number,"fieldBox",Object(Ne.a)({},Et.a.ignored,v.indexOf(t.props.id)>y)),children:Object(ae.jsxs)(ae.Fragment,{children:["#",v.indexOf(t.props.id)+1]})}):null,m.a.cloneElement(t,{})]},A()("draggable","div",n))}))}),Object(ae.jsx)("div",{id:"last",onDragOver:J,className:A()(Et.a.spacer,Object(Ne.a)({},Et.a.highlighted,w))})]}),Object(ae.jsxs)("div",{className:Et.a.buttonContainer,onDragOver:J,style:{marginTop:c===h.length&&b?b+10+"px":0},children:[Object(ae.jsxs)("div",{className:A()("fieldBox",Et.a.tbReset),id:"last",onDragOver:J,onClick:B,style:{opacity:"alwaysShowButtons"in e?+e.alwaysShowButtons:+_},children:[Object(ae.jsx)(Tt.a,{}),"RESET"]}),Object(ae.jsxs)("div",{className:A()("fieldBox",Et.a.tbSubmit),id:"last",onClick:I,style:{opacity:"alwaysShowButtons"in e?+e.alwaysShowButtons:+_},children:[Object(ae.jsx)(ne.cb,{}),"SAVE"]})]})]})}function Ft(e){var t=Object(d.useContext)(le),n=Jt({hasLoaded:t}).Icon;return Object(ae.jsx)("div",{className:Re.a.tabSection,style:{gridAutoColumns:e.static?"1fr":void 0},children:Object.entries(e.nameDict).map((function(a,r,i){var s,c=Object(g.a)(a,2),o=c[0],l=c[1];if(!l||l.hide)return null;var u=l.name;!1===t?u="\u200b":o===e.name||e.alwaysShow?u||(u=Qe(o)):u="\u200b";var d=l.icon;return d||(d=null),"string"!==typeof d&&(d=Object(ae.jsx)(n,Object(p.a)({name:u},l))),Object(ae.jsxs)("div",{onClick:function(){return e.setName(o)},className:A()(Re.a.tab,(s={},Object(Ne.a)(s,Re.a.alone,1===i.filter((function(e){return e[1]})).length),Object(Ne.a)(s,Re.a.active,o===e.name),s)),children:[d,u]},[o,r].join("."))}))})}function Lt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{players:[]},n=Object(d.useCallback)((function(e,n){if(!n)return{};var a=Object.assign({},e);a[n.id]=n;var r=t.players.find((function(e){return e.id===n.id}));return JSON.stringify(n)===JSON.stringify(r)&&delete a[n.id],a}),[t.players]),a=Object(d.useReducer)(n,{}),r=Object(g.a)(a,2),i=r[0],s=r[1],c=Object(d.useMemo)((function(){return Object.keys(i).length}),[i]),o=Object(d.useCallback)((function(e,n){if(Array.isArray(n))return t.sortFunc&&(n=n.sort(t.sortFunc)),n.slice(0);var a,r=e.slice(0),i=-1,c=!1;"index"in n?(i=n.index,a=n.updates):(a=n,i=r.findIndex((function(e){return e.id===a.id})));for(var o=0,l=Object.entries(a);o<l.length;o++){var u=Object(g.a)(l[o],2),d=u[0],m=u[1],b=d;if("string"!==typeof m&&Ut(r[i][b],m))r[i]=Object(p.a)(Object(p.a)({},r[i]),{},Object(Ne.a)({},d,m)),c=!0;else{var j=Ht(m,r[i][b]);Ut(r[i][b],j)&&(r[i]=Object(p.a)(Object(p.a)({},r[i]),{},Object(Ne.a)({},d,j)),c=!0)}}return a.id=r[i].id,s(a),c?r:e}),[s,t.sortFunc]),l=Object(d.useReducer)(o,null!==(e=t.players.slice(0))&&void 0!==e?e:[]),u=Object(g.a)(l,2),m=u[0],b=u[1];Object(d.useEffect)((function(){t.handleChange&&t.handleChange(Object.values(i))}),[t.handleChange,i]);var j=Object(d.useCallback)((function(){b(t.players),s(null)}),[b,t.players]);return Object(d.useEffect)((function(){j(),window.handleReset=j}),[j]),{hasChanged:c,players:m,setPlayers:b,changedPlayers:i,handleReset:j}}function Ht(e,t){switch(typeof t){case"boolean":if("Y"===e)return!0;if("N"===e)return!1;break;case"number":var n=Number(e);if(!isNaN(n))return n;break;case"string":if(et(e))return new Date(e).toISOString()}return e}function Ut(e,t){return null===e||(null==t||typeof e===typeof t)}var Qt=Dt.split("\n").filter((function(e){return e}));function Gt(e){var t=Object(d.useContext)(ie),n=Object(d.useContext)(oe).setAlert,a=function(){var e=Object(d.useState)(null),t=Object(g.a)(e,2),n=t[0],a=t[1];Object(d.useEffect)((function(){n||F({url:"/countries.json"}).then((function(e){return e?a(e):null})).catch(console.error)}),[]);var r=Object(d.useMemo)((function(){return null!==n&&void 0!==n?n:Me}),[n]),i=Object(d.useCallback)((function(e,t,n){var a=r.dict,i=r.specify;if(!e)return null;var s=a[e],c="https://ratings.fide.com/svg/|.svg".replace("|",e);return i.includes(e)&&(c="/images/|.svg".replace("|",e)),Object(ae.jsx)("img",{src:c,alt:e,title:s,width:t||26,height:n||19.5})}),[r]);return Object(p.a)({getFlag:i},r)}().getFlag,r=Lt({handleChange:e.setPlayers,players:e.players}),i=r.players,s=r.changedPlayers,c=r.setPlayers,o=r.handleReset,l=r.hasChanged,u=Object(d.useMemo)((function(){return!1!==e.showSave&&!!l}),[e.showSave,l]),m=Object(d.useMemo)((function(){return[t.usingPools?"pools":null,"nationality","individual"===t.competitors?"teams":null,"active"]}),[t]),b=Object(d.useState)(e.mode||m.find((function(e){return e}))),j=Object(g.a)(b,2),f=j[0],h=j[1],O=Object(d.useState)([]),v=Object(g.a)(O,2),y=v[0],x=v[1],_=Object(d.useCallback)((function(){return F({url:He("tournament",t.tournamentId,"getTeams")}).then(x)}),[t,x]);Object(d.useEffect)((function(){"teams"===f&&_()}),[f,_]);var k=Object(d.useMemo)((function(){return{nationality:{options:Object.keys(Me.dict).filter((function(e){return!Qt.includes(e)})).map((function(e){return{id:e}})),name:function(e){return Me.dict[e.id]},filter:function(e,t){return e?t.nationality===e:!t.nationality},modify:function(e,t){return Object.assign({},e,{nationality:t})}},teams:{options:y,name:function(e){var t,n=e.id;return null===(t=y.find((function(e){return e.id===n})))||void 0===t?void 0:t.name},filter:function(e,t){return e?t.teamId===e:!t.teamId},modify:function(e,t){return Object.assign({},e,{teamId:t})}},pools:{options:i.reduce((function(e,t){if(t.pool+1<e.length)return e;for(var n=e.length;n<=t.pool+1;n++)e[n]={id:n.toString()};return e}),[]),name:function(e){return ze(parseInt(e.id),t.poolDisplay)},filter:function(e,t){return e?t.pool===parseInt(e):!t.pool},modify:function(e,t){return Object.assign({},e,{pool:parseInt(t)})}},active:{options:[{id:"active"},{id:"inactive"}],name:function(e){return Qe(e.id)},filter:function(e,t){return"active"===e&&t.active||"inactive"===e&&!t.active},modify:function(e,t){return Object.assign({},e,{active:"active"===t})}}}}),[i,y,t]),N=Object(d.useMemo)((function(){return k[f]}),[k,f]),w=Object(d.useState)(!1),C=Object(g.a)(w,2),S=C[0],J=C[1],R=Object(d.useState)([]),B=Object(g.a)(R,2),I=B[0],D=B[1],P=Object(d.useReducer)((function(e,t){return e===t?"":t}),e.startTo||""),E=Object(g.a)(P,2),T=E[0],M=E[1],H=Object(d.useState)("all"),U=Object(g.a)(H,2),Q=U[0],G=U[1],V=Object(d.useMemo)((function(){return Object(ae.jsx)("div",{className:A()(It.a.templates,"scrollable"),children:N.options.map((function(e,t){var n,r=e.id,s=r,c=N.name({id:r});return"pools"===f&&"0"==r?null:c?Object(ae.jsx)("div",{onClick:function(){return M(s)},className:A()("button",(n={hidden:I.length&&!I.includes(s)},Object(Ne.a)(n,It.a.large,"nationality"!==f),Object(Ne.a)(n,It.a.unrepresented,i.every((function(e){return!N.filter(s,e)}))),Object(Ne.a)(n,It.a.selected,T===s),n)),children:"nationality"===f?Object(ae.jsxs)(ae.Fragment,{children:[a(s),c]}):c},A()("template",t)):null}))})}),[f,N,i,I,T]),K=Object(d.useState)(""),W=Object(g.a)(K,2),Y=W[0],z=W[1],q=Object(d.useCallback)((function(e){var t=i.find((function(t){return t.id===e})),n="";if("from"===Y){if("all"===Q)return;n=""}else n=T;var a=N.modify(t,n);c(a)}),[Y,c,N]),X=Object(d.useCallback)((function(){L({url:He("tournament",t.tournamentId,"quickSort"),data:{mode:f,players:s}}).then(e.updatePlayerDict).then((function(){return n({type:"info",message:Object(ae.jsxs)(ae.Fragment,{children:["Updated ",f," for the following ","individual"===t.competitors?"players":"teams",":",Object(ae.jsx)("ul",{children:Object.values(s).map((function(e){return Object(ae.jsx)("li",{children:e.name},e.id)}))})]})})}))}),[t,s,e.updatePlayerDict]);return Object(ae.jsxs)(Rt,{id:"sort",className:e.className,scrollable:!1,buttons:[{dropdown:!0,resolve:h,current:f,options:m}],children:[Object(ae.jsx)("div",{className:It.a.description,children:e.description}),Object(ae.jsxs)("div",{className:It.a.stage,children:[Object(ae.jsxs)("div",{className:A()(It.a.col1),children:[Object(ae.jsxs)("div",{className:A()(It.a.row,Object(Ne.a)({},It.a.expanded,S)),children:[Object(ae.jsx)("div",{className:It.a.header,onClick:function(){return S?J(!1):null},children:Qe("pools"===f&&e.poolName?e.poolName+"s":f)}),S?Object(ae.jsx)("div",{className:["button",It.a.searchButton].join(" "),children:Object(ae.jsx)(Pe,{onSubmit:function(){return J(!1)},onCancel:function(){return J(!1)},onChange:D,options:N.options,getName:N.name,styles:It.a,placeholder:"Search All "+Qe(f),showHistory:!1,showChoices:!1,cacheHistory:!1,preserveLastSearch:!0})}):Object(ae.jsx)("div",{className:A()("button",It.a.button),onClick:function(){return J(!0)},children:Object(ae.jsx)(ne.db,{})})]}),V,I.length?Object(ae.jsx)("div",{onClick:function(){return D([])},className:A()("button",It.a.clear),children:"Clear Search Parameters"}):null]}),Object(ae.jsx)("div",{className:It.a.col2,children:Object(ae.jsx)(Vt,{type:"to",category:T,players:i,rightFilter:Q,setRightFilter:G,poolName:e.poolName,meta:N,mode:f,setToType:z,handleDragEnd:q,handleSubmit:X,handleReset:o,showSave:u})}),Object(ae.jsx)("div",{className:It.a.col3,children:Object(ae.jsx)(Vt,{type:"from",category:"",players:i,rightFilter:Q,setRightFilter:G,poolName:e.poolName,meta:N,mode:f,setToType:z,handleDragEnd:q,handleSubmit:X})})]})]})}function Vt(e){var t=e.type,n=e.category,a=e.players,r=e.rightFilter,i=e.setRightFilter,s=e.poolName,c=e.meta,o=e.mode,l=e.setToType,u=e.handleDragEnd,m=e.handleSubmit,b=e.handleReset,p=e.showSave,j=Object(d.useState)("active"),f=Object(g.a)(j,2),h=f[0],O=f[1],v=[a.filter((function(e){return c.filter("active",e)})),a.filter((function(e){return c.filter("inactive",e)}))],y=v[0],x=v[1],_=c.name({id:n}),k=_?a.filter((function(e){return c.filter(n,e)})):a,N=a.filter((function(e){return c.filter(null,e)}));"from"===t&&"uncategorised"===r&&(k=N),"active"===o&&"from"===t&&(k=a.filter((function(e){return c.filter(h,e)})));return Object(ae.jsxs)(ae.Fragment,{children:["active"===o&&"from"===t?Object(ae.jsx)(Ft,{name:h,setName:O,nameDict:{active:{name:"Active (".concat(y.length,")")},inactive:{name:"Inactive (".concat(x.length,")")}}}):Object(ae.jsx)(Ft,{name:r,setName:i,nameDict:{all:{name:"".concat(_?"pools"===o?(s||"Pool")+" "+_:_:"All"," (").concat("from"===t?a.length:k.length,")")},uncategorised:{hide:"from"!==t,name:"Uncategorised (".concat(N.length,")")}},alwaysShow:!0}),Object(ae.jsx)(Mt,{className:A()(It.a.list,"scrollable"),onSubmit:m,onReset:b,onDragOver:function(){return l(t)},onDragEnd:function(e){return u(e)},alwaysShowButtons:"to"===t&&!1!==p,children:k.sort((function(e,t){return t.score-e.score})).map((function(e,n){return Object(ae.jsx)("div",{id:e.id,draggable:!0,className:A()("fieldBox",It.a.player),"data-drag-id":t,children:e.name},A()(e.id,n))}))})]})}var Kt=[{key:"link",name:"Link",func:function(e){return!!e.link},show:function(e){return!!e.source}},{key:"started",name:"Started",func:function(e){var t;return!!(null===(t=e.fetched)||void 0===t?void 0:t.startTime)},show:function(e){return!!e.pullResults}},{key:"unfinished",name:"Unfinished",func:function(e,t){return null==t[0]&&null==t[1]}}],Wt=["rgb(150, 150, 255)","yellow","indianred"];function Yt(e){var t=Object(d.useMemo)((function(){return e.userRound||e.status.round}),[e.userRound,e.status.round]),n=!1;n="undefined"!==typeof e.lastRoundOverride?e.lastRoundOverride:!e.status.active;var a=Object(d.useContext)(le),r=Object(d.useContext)(oe),i=r.setAlert,s=r.closeAlert,c=r.startLoading,o=r.stopLoading,l=Object(d.useCallback)((function(){i({type:"confirm",message:"Really undo all pairings for this round?",resolve:function(){return L({url:["tournament",e.status.id,"undoRoundPairings"].join("/"),data:{round:t}}).then(s).then(e.load)}})}),[e.status.id,e.status.round,e.load,e.switchPairings,i]),u=Object(d.useCallback)((function(){var n=e.status.name||e.status.id;i({type:"confirm",message:"Delete tournament '"+n+"'?\nPlease note this action cannot be undone.",resolve:function(){return L({url:["tournament",e.status.id,"closeAuthorization"].join("/"),data:{round:t}}).then(e.closeTournament)}})}),[e.status.id,e.status.round,e.closeTournament,e.status.name,i]),m=Object(d.useReducer)((function(e,t){return e===t?"":t}),""),b=Object(g.a)(m,2),j=b[0],f=b[1],h=Object(d.useState)([]),O=Object(g.a)(h,2),v=O[0],y=O[1],x=Object(d.useCallback)((function(){return L({url:He("tournament",e.status.id,"startKnockout"),data:{players:v}}).then(s).then(e.load)}),[e.load,e.status.id,v,e.load]),_=Object(d.useMemo)((function(){var t=e.players.map((function(e){return Object.assign({},e,{pool:null})}));return Object(ae.jsx)(Gt,{className:Ot.a.sort,updatePlayerDict:e.updatePlayerDict,mode:"pools",poolName:"Bracket",players:t,setPlayers:y,showSave:!1,startTo:"1",description:Object(ae.jsxs)(ae.Fragment,{children:["Please select which ","individual"===e.settings.competitors?"players":"teams"," you would like to take through to the next stage of the tournament.",Object(ae.jsx)("br",{}),"You can also group your ","individual"===e.settings.competitors?"players":"teams"," into brackets."]})})}),[e.updatePlayerDict,e.players,y]),k=Object(d.useReducer)((function(){return Math.random().toString(16).slice(2,8)}),""),w=Object(g.a)(k,2),C=w[0],S=w[1];Object(d.useEffect)((function(){C&&i({title:Object(ae.jsx)(ae.Fragment,{children:"Convert to Knockout finals"}),type:"confirm",message:_,resolve:x,tall:!0,wide:!0})}),[C,i,e.settings,v,x]);var J=Object(d.useContext)(de).nextButton,R=[{icon:ne.F,name:"Smart Import Players",onClick:function(){return e.setMode("pasteInput")}},{name:"Export Mode",icon:ne.E,onClick:function(){return e.setMode("export")}},{name:"Detailed Settings View",icon:ne.t,onClick:function(){return e.setMode("settings")}},{name:"Crosstable",onClick:function(){return e.setMode("crossTable")},icon:ne.kb,inactive:!e.status.round},{name:"Announcements",icon:ne.i,onClick:function(){return e.setMode("announcements")},inactive:!e.settings.isPublic},{name:"Knockout View",icon:ne.eb,onClick:function(){return e.setMode("knockout")},inactive:"knockout"!==e.settings.pairingSystem||!e.status.round},{name:"Quick Drag & Drop",icon:Object(ae.jsx)(ne.gb,{}),onClick:function(){return e.setMode("sort")}},"divider",{name:n?"Resume Tournament":"Pause Tournament",onClick:function(){n&&e.status.round>=e.settings.totalRounds?e.triggerError("Increase the number of rounds in Settings to continue!"):e.setLastRound(!n)},icon:n?ne.V:ne.S},{name:"Refresh",icon:ne.jb,onClick:function(){c(),e.load().finally(o)},hide:!1},{name:e.switchMode?"Back":"Switch or Undo Pairings",style:{strokeWidth:1.5},icon:vt.a,active:e.switchMode,onClick:function(){return e.switchPairings()},inactive:function(){var t;switch(e.settings.pairingSystem){case"swiss":return!e.status.round||!e.status.active;case"round-robin":return!1;case"knockout":return!(e.status.round<=1)&&!(null===(t=e.status.systems)||void 0===t?void 0:t.some((function(t){return e.status.round===t.from})));default:return!0}}()},{name:"Undo Last Round Pairings",icon:ne.h,color:"indianred",inactive:e.userRound&&e.userRound!==e.status.round,onClick:l},{name:"Convert to Knockout finals",icon:ne.ab,onClick:S,inactive:!["next","last","publish-final"].includes(J)},{name:"Filter Pairings",icon:ne.G,color:"darkgreen",ternaryOptions:!0,onClick:function(){return f("Filter Pairings")},active:"Filter Pairings"===j,options:Kt.map((function(t){return t.defaultValue=e.pairingFilters[t.key],t})),optionsData:{ternary:!0,setValue:function(t,n){return e.setFilters(Object(Ne.a)({},t,n))}}},{name:"Player Details",icon:ne.ib,onClick:function(){return f("Player Details")},active:"Player Details"===j,color:"darkgreen",options:[{key:"name",name:"Name",locked:!0,defaultValue:!0},{key:"score",name:"Score"},{key:"board",name:"Board"},{key:"rating",name:"Rating"}],optionsData:{setValue:zt}},{name:"Reset Layout",icon:ne.d,onClick:e.resetColumns,inactive:!e.canReset},"divider",{name:"Check for Updates",icon:ne.nb,onClick:function(){c(),e.checkForUpdates().finally(o)},hide:!N},{name:"Destroy Tournament",icon:ne.fb,style:{strokeWidth:1.5},onClick:u},{name:"Exit to Menu",icon:At.b,style:{strokeWidth:1.5},onClick:e.closeTournament}],B=Jt({baseColors:Wt,hasLoaded:a}).Icon;return Object(ae.jsx)("div",{className:Ot.a.dock,children:Object(ae.jsx)("div",{className:A()(Ot.a.stage,"scrollable"),children:Object(ae.jsx)("div",{className:[Ot.a.column].join(" "),children:R.map((function(e,t,n){var r=n.slice(0,t+1).filter((function(e){return"string"===typeof e})).length;return"string"===typeof e?Object(ae.jsx)("div",{className:Ot.a.container,children:Object(ae.jsx)(ne.J,{})},["divider",t].join(".")):e.hide?null:Object(ae.jsxs)("div",{className:A()(Ot.a.container,Object(Ne.a)({},Ot.a.active,e.active)),children:[Object(ae.jsx)("div",{className:A()("button",Ot.a.button,{null:a&&e.inactive}),onClick:e.onClick||("options"in e?function(){return f(e.name)}:null),children:Object(ae.jsx)(B,Object(p.a)(Object(p.a)({},e),{},{container:r}))}),Object(ae.jsx)("div",{className:Ot.a.name,children:e.name}),"options"in e?Object(ae.jsxs)("div",{className:A()(Ot.a.options,Object(Ne.a)({},Ot.a.visible,j===e.name)),children:[Object(ae.jsx)("div",{className:Ot.a.optionsTitle,children:e.name}),e.options.map((function(n,a){return Object(ae.jsxs)("div",{children:[Object(ae.jsx)(_t,Object(p.a)({isTernary:e.optionsData.ternary,setValue:function(t){return e.optionsData.setValue(n.key,t)}},n)),Object(ae.jsx)("label",{htmlFor:n.name,children:n.name})]},A()("option",t,a))}))]}):null]},A()(e.name,t))}))})})})}function zt(e,t){return qt.apply(this,arguments)}function qt(){return(qt=Object(h.a)(f.a.mark((function e(t,n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("playerDetails");case 2:a=e.sent,r=n?a+","+t:a.split(t).join("").split(",,").join(","),P.set("playerDetails",r),window.dispatchEvent(new Event("cookie"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(){return Object(ae.jsx)("div",{className:"sectionContainer",children:Object(ae.jsx)("div",{className:[Re.a.sectionHeader,"topBanner"].join(" "),children:Object(ae.jsx)("div",{className:Re.a.sectionHeaderText,style:{cursor:"default"}})})})}function Zt(e){var t,n=Object(d.useState)(e.expanded),a=Object(g.a)(n,2),r=a[0],i=a[1],s=Object(d.useState)(0),c=Object(g.a)(s,2),o=c[0],l=c[1],u=Object(d.useState)(!1),m=Object(g.a)(u,2),b=m[0],p=m[1],j=Object(d.useRef)();Object(d.useEffect)((function(){i(e.expanded)}),[i,e.expanded]);var f=Object(d.useState)(void 0===e.expanded||e.expanded),h=Object(g.a)(f,2),O=h[0],v=h[1];Object(d.useEffect)((function(){e.useInternalState&&i(O)}),[e.useInternalState,O,i]),Object(d.useEffect)((function(){e.mustExpand&&!r&&i(!0)}),[e.mustExpand,r,i]),Object(d.useEffect)((function(){if(!r){var e=setTimeout((function(){return p(!1)}),750);return function(){return clearTimeout(e)}}p(!0)}),[r,p]);var y=Object(d.useCallback)((function(){j.current&&l(r?j.current.getBoundingClientRect().height:0)}),[l,r,j.current,e.assertHeight]);Object(d.useEffect)((function(){y()}),[y,e.children]),Object(d.useEffect)((function(){return window.addEventListener("resize",y),function(){return window.removeEventListener("resize",y)}}),[y]),Object(d.useEffect)((function(){var e=function(){return window.dispatchEvent(new Event("resize"))};e();var t=setTimeout(e,100);return function(){return clearTimeout(t)}}),[e.expanded,b]),Object(d.useEffect)((function(){if(j.current)for(var e=0,t=Array.from(j.current.children);e<t.length;e++){var n=t[e];"onload"in n&&(n.onload=y);for(var a=0,r=Array.from(n.children);a<r.length;a++){var i=r[a];"onload"in i&&(i.onload=y)}}}),[j.current,y]);var x=Object(d.useCallback)((function(){!1!==e.collapsable&&(e.useInternalState?v(!r):e.setExpanded(!r,e.value))}),[e.collapsable,e.useInternalState,v,r,e.setExpanded,e.value]);return Object(ae.jsxs)("div",{className:"sectionContainer",style:e.style,children:[Object(ae.jsxs)("div",{className:A()(Re.a.sectionHeader,"topBanner",Object(Ne.a)({},Re.a.withLengths,e.withLengths)),children:[Object(ae.jsx)("div",{className:Re.a.sectionHeaderText,onClick:x,children:e.header&&!1!==e.hasLoaded?e.header:"\u200b"}),e.withLengths?Object(ae.jsxs)("div",{className:Re.a.length,children:["(","number"===typeof e.withLengths?e.withLengths:Array.isArray(e.children)?e.children.length:null,")"]}):null,e.children&&!1!==e.collapsable?Object(ae.jsx)("div",{className:Re.a.sectionToggle,onClick:x,children:Object(ae.jsx)(ne.b,{style:{transform:r?"rotate(-90deg)":"rotate(0deg)"}})}):null]}),b?Object(ae.jsx)("div",{className:A()(Re.a.sectionListWrapper,(t={},Object(Ne.a)(t,Re.a.expanded,r),Object(Ne.a)(t,"scrollable",e.scrollable),Object(Ne.a)(t,"scrollable=x",e.scrollable),t)),style:{height:o},children:Object(ae.jsx)("div",{ref:j,className:A()(Re.a.sectionList),id:e.id,children:e.children})}):null]})}var $t=n.p+"static/media/chessCom.4a959580.svg",en=n.p+"static/media/chessCom.8f0fd108.png",tn=n.p+"static/media/lichess.a2ce667c.svg",nn=n.p+"static/media/ecf.aca04f27.svg",an=n.p+"static/media/fide.5e74e16e.svg",rn=n.p+"static/media/robin.15b82feb.svg";function sn(e){var t,n,a,r,i,s,c=e.result[0]||e.result[1]?[e.result[0],e.result[1]]:(null===(t=e.result[3])||void 0===t?void 0:t.scores)||[null,null],o=null!==e.result[0]||null!==e.result[1],l=c.some((function(e){return null!==e&&void 0!==e}))&&(null===(n=e.result[3])||void 0===n?void 0:n.endTime),u=Object(d.useState)(void 0),m=Object(g.a)(u,2),b=m[0],p=m[1],j=Object(d.useState)(l?"1 results submission to confirm":""),f=Object(g.a)(j,2),h=f[0],O=f[1],v=Object(d.useState)(!1),x=Object(g.a)(v,2),_=x[0],k=x[1],N=function(t){var n=t.target.parentElement,a=e.validate(n);O("string"===typeof a?a:""),p("boolean"===typeof a?a:"string"!==typeof a&&void 0);for(var r=0,i=Array.from(n.children);r<i.length;r++){var s=i[r];if("HTMLInputElement"===s.constructor.name&&("hidden"!==s.getAttribute("type")&&s.value.toString()))return void k(!0)}k(!1)},w=Object(d.useCallback)((function(e){var t=e.target,n=t.parentElement;switch(e.keyCode){case 27:n.reset(),p(void 0),O(void 0),t.blur();break;case 13:n.requestSubmit()}}),[N]),C=Object(d.useMemo)((function(){return Object.values(e.gameLinks).some((function(e){return e}))}),[e.gameLinks]),S=Object(d.useRef)(),J=Object(d.useRef)();return o?Object(ae.jsxs)("div",{className:Re.a.resultsBridge,children:[Object(ae.jsx)("div",{className:A()(Re.a.setResult,Object(Ne.a)({},Re.a.linked,C)),children:null!==(a=c[0])&&void 0!==a?a:"\u200b"}),Object(ae.jsx)("div",{className:Re.a.neutral,title:"Show details",onClick:function(){return e.expand(!e.expanded)},style:{transform:e.expanded?"rotate(540deg)":"rotate(0deg)"},children:Object(ae.jsx)(ne.p,{})}),Object(ae.jsx)("div",{className:A()(Re.a.setResult,Object(Ne.a)({},Re.a.linked,C)),children:null!==(r=c[1])&&void 0!==r?r:"\u200b"})]}):Object(ae.jsxs)("form",{className:Re.a.resultsBridge,target:"_self",onSubmit:function(t){t.preventDefault();var n=e.validate(t.target);"string"!==typeof n&&n&&H(t).then((function(){return e.handleSubmit(t)}))},onKeyDown:w,method:"POST",action:y.a.resolve(E,["tournament",e.tournamentID,"addResult"].join("/")),children:[Object(ae.jsx)("input",{type:"number",min:0,step:null!==(i=e.step)&&void 0!==i?i:.5,name:"resultWhite",required:!0,className:[e.inputClassName,C?Re.a.linked:"",_||C?Re.a.alwaysVisible:"",C?Re.a.hasLink:""].join(" "),onChange:N,defaultValue:c[0],ref:S}),Object(ae.jsxs)("div",{className:Re.a.centre,children:[h?Object(ae.jsx)("span",{className:"tooltip",children:h}):null,b?Object(ae.jsx)("button",{tabIndex:-1,className:Re.a.resolve,onClick:function(e){e.preventDefault(),e.target.parentElement.parentElement.requestSubmit()},children:Object(ae.jsx)(ne.l,{})}):!1===b?Object(ae.jsx)("button",{tabIndex:-1,className:Re.a.reject,onClick:function(e){e.preventDefault(),e.target.parentElement.parentElement.reset(),O(""),p(void 0)},children:Object(ae.jsx)(ne.lb,{})}):Object(ae.jsx)("div",{className:Re.a.neutral,title:"Show details",onClick:function(){return e.expand(!e.expanded)},style:{transform:e.expanded?"rotate(540deg)":"rotate(0deg)"},children:Object(ae.jsx)(ne.p,{})})]}),Object(ae.jsx)("input",{type:"number",min:0,step:null!==(s=e.step)&&void 0!==s?s:.5,name:"resultBlack",required:!0,className:[e.inputClassName,C?Re.a.linked:"",_||C?Re.a.alwaysVisible:"",C?Re.a.hasLink:""].join(" "),onChange:N,defaultValue:c[1],ref:J}),Object.entries(e.hidden).map((function(e,t){var n=Object(g.a)(e,2),a=n[0],r=n[1];return Object(ae.jsx)("input",{type:"hidden",name:a,value:r,required:!0},["hiddenInput",t].join("."))}))]})}function cn(e){var t,n,a=Object(d.useState)("0px"),r=Object(g.a)(a,2),i=r[0],s=r[1],c=e.result[0]||e.result[1]?[e.result[0],e.result[1]]:(null===(t=e.result[3])||void 0===t?void 0:t.scores)||[null,null],o=null!=e.result[0]||null!=e.result[1],l=c.some((function(e){return null!==e&&void 0!==e}))&&(null===(n=e.result[3])||void 0===n?void 0:n.endTime),u=Object(d.useState)(!1),m=Object(g.a)(u,2),b=m[0],j=m[1];Object(d.useEffect)((function(){if(!e.expanded){var t=setTimeout((function(){return j(!1)}),750);return function(){return clearTimeout(t)}}j(!0)}),[e.expanded,j]);var f=Object(d.useRef)(null),h=Object(d.useRef)(null),O=Object(d.useContext)(ie),A=Object(d.useCallback)((function(){f.current&&s(e.expanded?f.current.getBoundingClientRect().height+"px":"0px")}),[s,e.expanded,f.current]);Object(d.useEffect)((function(){return window.addEventListener("resize",A),function(){return window.removeEventListener("resize",A)}}),[A]),Object(d.useEffect)((function(){e.expanded&&f.current&&A()}),[f.current,A,e.expanded]),Object(d.useEffect)((function(){window.dispatchEvent(new Event("resize"))}),[e.expanded,b]);var v=Object(d.useCallback)((function(){f.current&&f.current.parentElement.previousElementSibling.querySelector("form").requestSubmit()}),[f.current]),x=Object(d.useCallback)((function(t,n){var a,r=n;if(!e.individual){var i=n.match(G);if(!i)return console.error("Invalid syntax on tournament: "+n),Promise.resolve();r="https://chess.com/club/matches/live/"+i[1]}return L({url:y.a.resolve(E,["tournament",e.tournamentID,"updateResultLink"].join("/")),data:(a={id:e.id},Object(Ne.a)(a,t,r),Object(Ne.a)(a,"type",e.individual?"individual":"team"),Object(Ne.a)(a,"round",e.round),a)})}),[e.id,e.individual,e.tournamentID]),_=Object(d.useCallback)((function(t){return L({url:y.a.resolve(E,["tournament",e.tournamentID,"clearResultLink"].join("/")),data:{id:e.id,site:t,type:e.individual?"individual":"team",round:e.round}}).then(e.update)}),[e.id,e.individual,e.tournamentID,e.update]),k=Object(d.useCallback)((function(){return L({url:y.a.resolve(E,["tournament",e.tournamentID,"undoResult"].join("/")),data:{id:e.id,round:e.round}}).then(e.updatePlayerDict)}),[e.id,e.individual,e.tournamentID]),N=Object(d.useMemo)((function(){return[{k:"Results ".concat(l?"received":"not yet received"," from ").concat(at.automation.source.convert(O.source)),v:l,hide:!O.source},{k:"Confirmation received by ".concat("White player"),v:!1,hide:O.allowSelfLinks<1||O.allowSelfLinks>2},{k:"Confirmation received by ".concat("Black player"),v:!1,hide:O.allowSelfLinks<1||O.allowSelfLinks>2}].filter((function(e){return e}))}),[O.source,e.result,O.allowSelfLinks]);return Object(d.useEffect)((function(){var e=function(){return window.dispatchEvent(new Event("resize"))};e();var t=setTimeout(e,200);return function(){return clearTimeout(t)}}),[b]),b?Object(ae.jsx)("div",{className:[e.className,Re.a.details].join(" "),style:Object(p.a)({height:i},e.style),children:Object(ae.jsxs)("div",{ref:f,className:[Re.a.detailsContent].join(" "),children:[Object(ae.jsxs)("div",{className:[Re.a.row,"topBanner",Re.a.topBanner].join(" "),children:["Board: ",e.board,"\n"]}),Object(ae.jsx)("div",{className:[Re.a.buttonRow].join(" "),children:o?Object(ae.jsxs)("button",{className:[Re.a.button,Re.a.infinity,Re.a.undoPairing].join(" "),onClick:function(){return e.triggerConfirm("Really undo result? This action cannot be undone",k,(function(){}))},children:[Object(ae.jsx)(ne.pb,{}),"Undo result"]}):l?Object(ae.jsxs)("button",{className:[Re.a.button,Re.a.submit].join(" "),onClick:v,children:[Object(ae.jsx)(ne.l,{}),"Confirm automation"]}):null}),Object(ae.jsxs)("div",{children:[Object(ae.jsxs)("div",{className:Re.a.row,children:["Enter link to online ",e.individual?"game":"team match"," below:"]}),"chessCom"!==O.source?null:Object(ae.jsxs)("div",{className:[Re.a.row,Re.a.linkRow].join(" "),children:[Object(ae.jsx)("button",{className:[Re.a.submit,Re.a.linkSubmit].join(" "),children:Object(ae.jsx)("img",{src:$t,alt:"chess.com"})}),Object(ae.jsx)(pt,{content:"chessCom"===e.gameLinks.source?e.gameLinks.link:"",url:y.a.resolve(E,["tournament",e.tournamentID,"updateResultLink"].join("/")),onSubmitSuccess:e.update,handleSubmit:function(e,t){return x("chessCom",t)},name:"link",additionalInputProps:{},classNames:{input:Re.a.inputURL,editableField:Re.a.editableField},formRef:h,useHandleSubmit:!0,handleClear:function(){return _("chessCom")},show:{submit:!0,clear:!0}})]}),"lichess"!==O.source?null:Object(ae.jsxs)("div",{className:[Re.a.row,Re.a.linkRow].join(" "),children:[Object(ae.jsx)("button",{className:[Re.a.increment,Re.a.linkSubmit].join(" "),children:Object(ae.jsx)("img",{src:tn,alt:"lichess"})}),Object(ae.jsx)(pt,{content:"lichess"===e.gameLinks.source?e.gameLinks.link:"",url:y.a.resolve(E,["tournament",e.tournamentID,"updateResultLink"].join("/")),onSubmitSuccess:e.update,handleSubmit:function(e,t){return x("lichess",t)},name:"link",additionalInputProps:{},classNames:{input:Re.a.inputURL,editableField:Re.a.editableField},formRef:h,useHandleSubmit:!0,handleClear:function(){return _("lichess")},show:{submit:!0,clear:!0}})]})]}),Object(ae.jsx)("div",{className:Re.a.validationTable,children:N.map((function(e){var t=e.k,n=e.v;return e.hide?null:Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{children:t}),Object(ae.jsx)("div",{children:n?Object(ae.jsx)(ne.m,{}):Object(ae.jsx)(ne.mb,{})})]})}))})]})}):null}var on="data:image/jpeg;base64,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";function ln(e){for(var t=ft(e).SettingsRow,n=Object(d.useMemo)((function(){var t=Object.entries(tt);if(e.settings.tieBreaks){var n=e.settings.tieBreaks.split(",");t=t.sort((function(e,t){return n.indexOf(e[0])-n.indexOf(t[0])}))}return t}),[e.settings.tieBreaks]),a=Object(d.useCallback)((function(t){return L({url:"/tournament/"+e.status.id+"/clearRound",data:{round:t}})}),[e.status.id]),r=Object(d.useCallback)((function(t){return Object(ae.jsxs)("div",{className:[Ie.a.row,Ie.a.roundRow].join(" "),children:[Object(ae.jsx)("div",{className:"fieldBox",children:"Round ".concat(t,":")}),Object(ae.jsx)(pt,{handleClear:function(){return a(t)},content:e.rounds[t]?e.rounds[t].toString():"",defaultEditContent:new Date(Date.now()).toString(),url:y.a.resolve(E,["tournament",e.status.id,"updateRound"].join("/")),inputType:"datetime-local",onSubmitSuccess:e.updateRounds,classNames:{editableField:Ie.a.editableField,input:Ie.a.input},additionalInputProps:{},name:"round."+t.toString(),show:{submit:!0,increment:!1,clear:!0},handleSubmit:function(t,n){if(isNaN(new Date(n).valueOf()))return Promise.reject();var a=t.split(".").pop();return L({url:y.a.resolve(E,["tournament",e.status.id,"updateRound"].join("/")),data:Object(Ne.a)({},Number(a),new Date(n).toISOString())})},useHandleSubmit:!0})]},["row",t].join("."))}),[e.updateSetting,e.rounds,e.status.id,e.updateRounds]),i=[],s=e.settings.totalRounds===1/0||"Infinity"===e.settings.totalRounds?Math.max(e.rounds.length,1):e.settings.totalRounds,c=1;c<=s;c++)i.push(c);return Object(ae.jsx)(Rt,{id:"settings",children:Object(ae.jsx)("div",{className:[Ie.a.profileContainer,"scrollable-x"].join(" "),children:Object(ae.jsxs)("div",{className:Ie.a.fs,children:[Object.entries(at).map((function(e){var n=Object(g.a)(e,2),a=n[0],r=n[1];return a.endsWith("hidden")?null:Object(ae.jsx)(Zt,{value:a,header:Qe(a.split("_").join(" ")),expanded:!0,useInternalState:!0,collapsable:!1,assertHeight:"100%",children:Object.entries(r).map((function(e,n){var a=Object(g.a)(e,2),r=a[0],i=a[1];return Object(ae.jsx)(t,{k:r,def:i,i:n},["k",n].join("."))}))},a)})),e.settings.roundTimes?Object(ae.jsx)(Zt,{value:"rounds",header:"Rounds",useInternalState:!0,expanded:!0,assertHeight:"100%",collapsable:!1,children:i.map(r)},"rounds"):null,Object(ae.jsx)(Zt,{value:"profile",header:"Profile",useInternalState:!0,expanded:!0,assertHeight:"100%",style:{width:"31.8vw"},collapsable:!1,children:Object(ae.jsxs)("div",{className:Ie.a.baseContainer,children:[Object(ae.jsx)("div",{className:Ie.a.profilePictureFrame,children:Object(ae.jsx)("img",{className:Ie.a.profilePicture,src:e.settings.logoURL||on,alt:"Invalid URL"})}),Object(ae.jsx)(pt,{handleSubmit:function(t,n){return e.updateSetting(t,n)},content:e.settings.description,url:y.a.resolve(E,["tournament",e.status.id,"updateSetting"].join("/")),inputType:"textarea",classNames:{form:Ie.a.description,editableField:[Ie.a.editableField,Ie.a.descriptionDiv].join(" "),input:[Ie.a.input,"scrollable"].join(" ")},name:"description",additionalInputProps:{},show:{submit:!0,reset:!0},useHandleSubmit:!0})]})},"profile"),Object(ae.jsx)(Zt,{value:"tiebreaks",header:"Tie Breaks",expanded:!0,useInternalState:!0,collapsable:!1,assertHeight:"100%",style:{width:"31.8vw"},children:Object(ae.jsx)(Mt,{className:Ie.a.tieBreaks,onSubmit:function(t){return e.updateSetting("tieBreaks",t.join(",")).then(e.updateState)},numbers:!0,children:n.map((function(e){var t=Object(g.a)(e,2),n=t[0],a=t[1];return a?Object(ae.jsx)("div",{id:n,className:["fieldBox",Ie.a.tb].join(" "),children:a.name},n):Object(ae.jsx)("div",{id:n,className:Ie.a.divider},n)}))})})]})})})}for(var un=n(134),dn=n.n(un),mn=n(17),bn=n.n(mn),pn={},jn=0,fn=Object.entries(Me.dict);jn<fn.length;jn++){var hn=Object(g.a)(fn[jn],2),gn=hn[0],On=hn[1];pn[On.toLowerCase()]=gn}function An(e){var t=!1,n=Object(d.useRef)(),a=Object(d.useRef)(),r=Object(d.useState)(e.settings.allowNewPlayers),i=Object(g.a)(r,2),s=i[0],c=i[1],o=Object(d.useState)(!1),l=Object(g.a)(o,2),u=(l[0],l[1],Object(d.useMemo)((function(){return{id:{name:"Scorch ID",search:["id"],validate:function(t){return!t||e.players.some((function(e){return e.id===t}))},convert:function(e,t){return{}},type:"string"},firstName:{name:"Name",search:["name"],convert:function(e,t){return{firstName:e}},type:"string",required:!0},rating:{name:"Rating",search:["rating"],type:"number",required:!0},nationality:{name:"Nationality",type:"string",validate:function(e){return Object.values(Me.dict).some((function(t){return t.toLowerCase()===e.toLowerCase()}))},convert:function(e,t){return{nationality:pn[e.toLowerCase()]}},feedback:Object(ae.jsxs)(ae.Fragment,{children:["The list of valid federations is as follows:",Object(ae.jsx)("br",{}),Object.values(Me.dict).join(", ")]}),search:["country","nation"]},email:{name:"Email",search:["email"],type:"string",validate:function(e){return Q.test(e)},feedback:Object(ae.jsxs)(ae.Fragment,{children:["Email inputs must match the following regex format:",Object(ae.jsx)("br",{}),Q.toString()]}),convert:function(e,t){return{contact:Object.assign(t.contact||{},{email:e})}}},facebook:{name:"Facebook",type:"string",search:["facebook"],convert:function(e,t){return{contact:Object.assign(t.contact||{},{facebook:e})}}},phone:{name:"Phone #",type:"string",search:["phone","number","contact"],convert:function(e,t){return{contact:Object.assign(t.contact||{},{phone:e})}}},lichess:{name:"Lichess username",search:["lichess"],type:"string",validate:function(e){return Y.test(e)},feedback:Object(ae.jsx)(ae.Fragment,{children:"Invalid format a Lichess username"})},chessCom:{name:"Chess.com username",search:["chess.com"],type:"string"},ecfId:{name:"ECF ID",search:["ecf"],type:"string",convert:function(e,t){return{ecf:{id:e}}}},fideId:{name:"FIDE ID",search:["fide"],type:"string",convert:function(e,t){return{fide:{id:e}}}}}}),[t,e.players])),m=Object(d.useState)([]),b=Object(g.a)(m,2),p=b[0],j=b[1],f=Object(d.useState)([]),h=Object(g.a)(f,2),O=h[0],A=h[1],v=Object(d.useState)([]),y=Object(g.a)(v,2),x=y[0],_=y[1],k=Object(d.useContext)(oe).setAlert,N=Object(d.useCallback)((function(e){var t=[],n=[];e.shift().forEach((function(e,a){t[a]=e;for(var r=0,i=Object.entries(u);r<i.length;r++){var s=Object(g.a)(i[r],2),c=s[0],o=s[1];if(!n.includes(c)){var l,d=Object(De.a)(o.search);try{for(d.s();!(l=d.n()).done;){var m=l.value;if(e.toLowerCase().includes(m))return n[a]=c}}catch(b){d.e(b)}finally{d.f()}}}})),e=e.filter((function(e){return e.length===t.length}));var a=t.map((function(t,a){switch(n[a]){case"rating":return"number";default:return e.every((function(e){return!e[a].trim()||V.test(e[a].trim())||K.test(e[a].trim())}))&&e.some((function(e){return e[a].trim()}))?"boolean":"string"}}));if(-1===n.indexOf("firstName"))return k({type:"error",message:"Must have at least one column with title 'name'"}),[];var r=!1;return-1===n.indexOf("id")&&(n.unshift("id"),t.unshift("BLANK"),a.unshift("string"),r=!0),j(a),A(n),_(n),e.map((function(e){return r&&e.unshift(""),e.map((function(e,t){var r=e.trim();switch(a[t]){case"number":return Number(r);case"boolean":return!K.test(r.trim())&&(!!V.test(r.trim())||void 0);case"string":if(!r)return"";if("nationality"===n[t]){if("USA"===r)return"United States of America";if("Russia"===r)return"Russian Federation"}return r;default:return}})).reduce((function(e,n,a){return e[t[a]]=n,e}),{})}))}),[u,k]),w=Object(d.useState)([]),C=Object(g.a)(w,2),S=C[0],J=C[1],R=Object(d.useCallback)((function(){n.current&&(n.current.value=""),a.current&&(a.current.value=""),_([]),J([])}),[n,a,_,J]),B=Object(d.useCallback)((function(){_(O)}),[_,O]),I=Object(d.useCallback)((function(){var e=n.current;if(e){var t=e.value;if(t.trim()){var r=dn.a.parse(t,{delimitersToGuess:[",","\t"],fastMode:!0,skipEmptyLines:"greedy"}),i=N(r.data);J(i);var s=a.current;s&&(s.value=JSON.stringify(i,null,4))}}}),[J,n,a,N]),D=(Object(d.useCallback)((function(){var e=N([]);J(e)}),[J,N]),Object(d.useMemo)((function(){return S.length?Object.keys(S[0]):[]}),[S])),P=Object(d.useMemo)((function(){if(!S.length)return[[],[]];for(var t=[],n=[],a=function(a){var r,i=Object.assign(S[a],{__index:a}),c=x.indexOf("firstName"),o=D[c],l=i[o].toLowerCase();(r=e.players.find((function(e){return i[0]===e.id||e.firstName.toLowerCase()===l})))?(i.__player=r,i=Object.assign(r,i),n.push(i)):s&&t.push(i)},r=0;r<S.length;r++)a(r);return[n,t]}),[S,D,x,e.players,t,s]),E=Object(g.a)(P,2),T=E[0],M=E[1],F=Object(d.useMemo)((function(){return T.concat(M)}),[T,M]),H=Object(d.useContext)(oe),U=H.startLoading,G=H.stopLoading,W=Object(d.useCallback)((function(){var t=M.map((function(e){for(var t=0;t<D.length;t++)if(x[t]){var n=u[x[t]];void 0!==D[t]&&null!==D[t]&&(n.convert?e=Object.assign(e,n.convert(e[D[t]],e)):e[x[t]]=e[D[t]]),delete e[D[t]]}return e})),n=T.reduce((function(e,t){for(var n={},a=0;a<D.length;a++)if(x[a]){var r=u[x[a]];void 0!==D[a]&&null!==D[a]&&(r.convert?n=Object.assign(n,r.convert(t[D[a]],n)):n[x[a]]=t[D[a]])}else n[D[a]]=t[D[a]];return e[t.id]=n,e}),{});U(),Promise.all([Object.keys(n).length?L({url:["tournament",e.id,"bulkEditPlayers"].join("/"),data:n}):Promise.resolve(),t.length?L({url:["tournament",e.id,"bulkAddPlayers"].join("/"),data:t}):Promise.resolve()]).then(e.leave).then(e.updatePlayerDict).finally(G)}),[R,T,M,x,D,u,e.id,e.leave,e.updatePlayerDict]),z=Object(d.useCallback)((function(e,t,n){var a=S.slice(0);a[e][t]=n,J(a)}),[S,J]),q=Object(d.useState)(""),X=Object(g.a)(q,2),Z=X[0],$=X[1],ee=Object(d.useState)(-2),te=Object(g.a)(ee,2),re=te[0],ie=te[1],se=Object(d.useCallback)((function(){if(Z&&!(re<-1)){var e=x.indexOf(Z),t=x.slice(0),n=re>-1?t.splice(re,1,Z):[void 0],a=Object(g.a)(n,1)[0];e>=0&&t.splice(e,1,a),_(t),$(""),ie(-2)}}),[Z,re,_,x,$,ie]),ce=Object(d.useMemo)((function(){return Object(ae.jsx)("tr",{children:D.map((function(e,t){return Object(ae.jsx)("th",{children:x[t]?Object(ae.jsx)("div",{className:["fieldBox",bn.a.parsedHeader,bn.a.tableHeader,re===t?bn.a.dragEnter:""].join(" "),draggable:!0,onDragStart:function(){return $(x[t])},onDragEnd:se,onDragEnter:function(){return ie(t)},children:u[x[t]].name}):Object(ae.jsx)("div",{className:["fieldBox",bn.a.tableHeader,re===t?bn.a.dragEnter:""].join(" "),onDragEnter:function(){return ie(t)},children:e})},["key",t].join("."))}))})}),[D,re,ie,x]),le=Object(d.useState)(""),ue=Object(g.a)(le,2),de=ue[0],me=ue[1],be=Object(d.useState)([]),pe=Object(g.a)(be,2),je=pe[0],fe=pe[1],he=Object(d.useMemo)((function(){return F.length&&!je.length?Object(ae.jsxs)("div",{className:[bn.a.target,"scrollable"].join(" "),onDragEnter:function(){return ie(-1)},children:[Object(ae.jsx)("button",{className:["button",bn.a.submit,bn.a.clear].join(" "),onClick:R,children:"CLEAR ALL"}),Object(ae.jsx)("button",{className:["button",bn.a.submit].join(" "),onClick:W,children:"IMPORT DATA"})]}):Object(ae.jsxs)("div",{className:[bn.a.target,"scrollable"].join(" "),onDragEnter:function(){return ie(-1)},children:[Object(ae.jsx)("div",{className:bn.a.list,children:je.map((function(e,t){return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{className:["fieldBox",bn.a.error].join(" "),onClick:function(){me(e.id),e.meta.feedback&&setTimeout((function(){return k({message:e.meta.feedback,type:"info",title:"Validation for header: "+e.meta.header})}),800)},children:e.message}),Object(ae.jsx)("div",{className:"fieldBox button",onClick:function(){var t=document.getElementById(e.id);t&&t.scrollIntoView({behavior:"smooth"})},children:Object(ae.jsx)(ne.C,{})})]})}))}),F.length?Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("button",{className:["button",bn.a.submit,bn.a.clear].join(" "),onClick:R,children:"CLEAR ALL"})}):null,Object(ae.jsx)("div",{className:bn.a.placeholder,children:"When your spreadsheet is uploaded, any errors found will appear here. Handle all errors to import the data."})]})}),[je,me,F,W,R]),ge=Object(d.useMemo)((function(){return F.map((function(e,t){return Object(ae.jsx)("tr",{children:D.map((function(n,a){var r=e[n],i=!1;return""!==r&&void 0!==r||!e.__player?void 0===r&&(r=""):(r=e.__player[x[a]]||"",i=!0),Object(ae.jsx)("td",{id:[t,a].join("."),children:Object(ae.jsx)(pt,{url:"",content:r.toString(),handleSubmit:function(t,n){return Promise.resolve(z(e.__index,t,n))},name:n,classNames:{editableField:["fieldBox",i?bn.a.borrowed:"",je.some((function(e){return e.id===[t,a].join(".")}))?bn.a.errorCell:"",de===[t,a].join(".")?bn.a.highlighted:""].join(" ")},additionalInputProps:{},useHandleSubmit:!0,inputType:"number"===p[a]?"number":"text"})},["td",t,a].join(" "))}))},["tr",t].join(" "))}))}),[x,de,je,F]),Oe=Object(d.useMemo)((function(){var e=Object.entries(u).filter((function(e){var t=Object(g.a)(e,1)[0];return!x.includes(t)})),t=x.every((function(e,t){return e===O[t]}))?null:Object(ae.jsx)("button",{className:["button",bn.a.submit,bn.a.reset].join(" "),onClick:B,children:"RESET HEADERS"});return Object(ae.jsxs)("div",{className:[bn.a.target,"scrollable"].join(" "),onDragEnter:function(){return ie(-1)},children:[Object(ae.jsx)("div",{className:bn.a.list,children:e.map((function(e){var t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(ae.jsx)("div",{draggable:!0,className:["fieldBox",bn.a.parsedHeader].join(" "),onDragStart:function(){return $(n)},onDragEnd:se,children:a.name},n)}))}),t,Object(ae.jsxs)("div",{className:bn.a.placeholder,children:["These are the known headers for each player that ScorchApp processes in a special way. It is important to identify these correctly in your spreadsheet.",Object(ae.jsx)("br",{}),"Any data that does not fit a known header category will still be stored and displayed but it is not of any significance to ScorchApp.",Object(ae.jsx)("br",{}),"If you think there is a header missing, please contact a developer."]})]})}),[x,$,se,u,ie,O]);Object(d.useEffect)((function(){for(var e=[],t=0;t<x.length;t++){var n=x[t];if(n)for(var a=u[n],r=0;r<F.length;r++){var i=F[r][D[t]];if(a.type&&typeof i!==a.type)e.push({message:"Invalid type: [".concat(r,",").concat(n,"]: should be a ").concat(a.type),id:[r,t].join("."),type:"error",meta:Object.assign(a,{header:n})});else if(a.validate)a.validate(i)||e.push({message:"Failed validation: [".concat(r,",").concat(n,"]: click to see more information"),id:[r,t].join("."),type:"error",meta:Object.assign(a,{header:n})})}}x.includes("firstName")||e.unshift({message:"Must have field 'name'",id:[0,0].join("."),type:"error",meta:Object.assign(u.firstName,{header:"firstName"})}),M.length&&!x.includes("rating")&&e.unshift({message:"Must have field 'rating'",id:[0,0].join("."),type:"error",meta:Object.assign(u.firstName,{header:"rating"})}),fe(e),me("")}),[x,F,fe,M]);var Ae=Object(d.useState)("headers"),ve=Object(g.a)(Ae,2),ye=ve[0],xe=ve[1],_e=Object(d.useState)("errors"),ke=Object(g.a)(_e,2),Ne=ke[0],we=ke[1],Se=Object(d.useCallback)((function(){var t,n=F.map((function(e){for(var t=0;t<D.length;t++){var n=e[D[t]];delete e[D[t]],e[D[t]||x[t]]=n}return e})),a=Object.getOwnPropertyNames(F[0]),r=Object(De.a)(F);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.__player&&delete i.__player;var s,c=Object(De.a)(a);try{for(c.s();!(s=c.n()).done;){var o=s.value;"object"===typeof i[o]&&null!==i[o]&&(i[o]=JSON.stringify(i[o]))}}catch(p){c.e(p)}finally{c.f()}}}catch(p){r.e(p)}finally{r.f()}var l=dn.a.unparse(n),u=document.createElement("a"),d=new Blob([l],{type:"text/csv"}),m=e.status.name,b=new Date(Date.now()).toString().slice(4,15);u.href=URL.createObjectURL(d),u.download="".concat(m,"_").concat(b,"_players.").concat("csv"),u.click()}),[F]);return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)(Rt,{id:"pasteInput",className:bn.a.stage,title:"Smart Import by ScorchApp",childClass:bn.a.body,buttons:[{name:"Download",icon:Object(ae.jsx)(ne.w,{}),onClick:Se},{name:s?"Ignore new players":"Allow new players",icon:s?Object(ae.jsx)(ne.R,{}):Object(ae.jsx)(ne.X,{}),onClick:function(){return c(!s)}}],children:[Object(ae.jsx)("div",{className:"container",children:Object(ae.jsx)("div",{className:bn.a.pasteContainer,onDragEnter:function(){return ie(-1)},children:Object(ae.jsx)("div",{className:bn.a.paste,children:Object(ae.jsxs)("div",{className:[bn.a.pasteArea].join(" "),children:[Object(ae.jsx)("textarea",{ref:n,className:bn.a.textarea,name:"textArea",placeholder:"Please paste your input in csv (comma-separated values) format\n\\ You can do that by going to Excel or your spreadsheet program of choice and selecting everything.\n\\ Copy it and paste it here, then hit SUBMIT when you're happy.",onClick:function(e){return e.target.select()}}),F.length?null:Object(ae.jsx)("button",{className:[bn.a.submit,"button"].join(" "),onClick:I,children:"SUBMIT"})]})})})}),Object(ae.jsx)("div",{className:"container",style:{display:"none"},children:Object(ae.jsx)("div",{className:bn.a.pasteContainer,onDragEnter:function(){return ie(-1)},children:Object(ae.jsx)("div",{className:bn.a.paste,children:Object(ae.jsx)("div",{className:[bn.a.pasteArea].join(" "),children:Object(ae.jsx)("textarea",{ref:a,className:[bn.a.output,"scrollable"].join(" "),name:"textArea",placeholder:"Raw data output"})})})})}),Object(ae.jsx)("div",{className:["container",bn.a.table].join(" "),children:Object(ae.jsxs)("div",{className:[bn.a.pasteContainer,"scrollable"].join(" "),children:[ge.length?null:Object(ae.jsxs)("div",{className:[bn.a.placeholder,bn.a.description].join(" "),children:["Welcome to Smart Import! Here you can use spreadsheet data to create new players.",Object(ae.jsx)("br",{}),"ScorchApp will automatically try and detect relevant Headers from your data.",Object(ae.jsx)("br",{}),"You can then drag and drop the headers if you think any are missing.",Object(ae.jsx)("br",{}),"Get pasting to start!"]}),Object(ae.jsxs)("table",{className:bn.a.playerTable,children:[Object(ae.jsx)("thead",{children:ce}),Object(ae.jsx)("tbody",{children:ge})]})]})})]}),Object(ae.jsx)("div",{className:[Ce.a.profile,bn.a.headerSection].join(" "),children:Object(ae.jsxs)("div",{className:Ce.a.profileStage,children:[Object(ae.jsx)(Ft,{name:ye,setName:function(e){return xe(e)},nameDict:{headers:{icon:ne.L,color:"lightgrey"}}}),"headers"===ye?Oe:null]})}),Object(ae.jsx)("div",{className:[Ce.a.profile,bn.a.errors].join(" "),children:Object(ae.jsxs)("div",{className:Ce.a.profileStage,children:[Object(ae.jsx)(Ft,{name:Ne,setName:function(e){return we(e)},nameDict:{errors:{icon:ne.z,color:"#385898"}}}),"errors"===Ne?he:null]})})]})}var vn=n(60),yn=n.n(vn);function xn(e){var t=Object(d.useRef)(),n=Object(d.useState)(""),a=Object(g.a)(n,2),r=a[0],i=a[1],s=Object(d.useState)(e.initialA),c=Object(g.a)(s,2),o=c[0],l=c[1],u=Object(d.useMemo)((function(){var t;return(null===(t=e.prev[o])||void 0===t?void 0:t.announcement)||""}),[e.prev,o]);Object(d.useEffect)((function(){var t;i((null===(t=e.prev[o])||void 0===t?void 0:t.announcement)||"")}),[e.prev,o,i]),Object(d.useEffect)((function(){Object(h.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("lastAnnouncement");case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:i(n),t.current&&(t.current.value=n);case 7:case"end":return e.stop()}}),e)})))()}),[i,t]),Object(d.useEffect)((function(){Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.set("lastAnnouncement",r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}),[r]);var m=Object(d.useCallback)((function(){return L({url:["","tournament",e.id,"setAnnouncement"].join("/"),data:{id:o?e.prev[o].id:void 0,data:r}}).then((function(){return P.remove("lastAnnouncement")})).then(e.leave)}),[e.id,e.prev,o,r,e.leave]);return Object(ae.jsxs)(Rt,{id:"announcements",childClass:yn.a.stage,buttons:[{name:"Open Markdown guide",icon:Object(ae.jsx)(ne.N,{}),href:"https://guides.github.com/features/mastering-markdown/"}],children:[Object(ae.jsxs)("div",{className:yn.a.col1,children:[Object(ae.jsxs)("div",{className:["container","scrollable",yn.a.editingArea].join(" "),children:[Object(ae.jsx)(Ft,{name:o?"a."+o.toString():"new",setName:function(e){if("new"===e)return l(0);var t=e.slice(2),n=Number(t);l(n)},nameDict:Object(p.a)(Object(p.a)({},Object.keys(e.prev).reduce((function(e,t){return"0"===t||(e["a."+t.toString()]="#"+t.toString()),e}),{})),{},{new:{icon:ne.X,name:"New"}})}),Object(ae.jsx)("textarea",{onChange:function(e){var t;return e.target&&e.target?i((null===(t=e.target)||void 0===t?void 0:t.value)||""):null},className:[yn.a.textarea,"scrollable"].join(" "),name:"textArea",ref:t,defaultValue:u,placeholder:"Please write your announcement in Markdown format\n\\ Open the above guide to markdown for help.\n\\ You can draft an announcement here and come back to it any time."})]}),Object(ae.jsx)("div",{className:["container",yn.a.buttons].join(" "),children:Object(ae.jsxs)("div",{style:r!==u&&(o||r)?{}:{visibility:"hidden"},children:[Object(ae.jsx)("button",{className:[yn.a.submit,yn.a.reset,"button"].join(" "),onClick:function(){t.current&&(t.current.value=u||""),i(u||"")},children:"RESET"}),Object(ae.jsx)("button",{className:[yn.a.submit,"button"].join(" "),onClick:m,children:"SUBMIT"})]})})]}),Object(ae.jsx)("div",{className:yn.a.col2,children:Object(ae.jsxs)("div",{className:["container",yn.a.preview].join(" "),children:[Object(ae.jsx)(Ft,{name:"preview",setName:function(){},nameDict:{preview:{icon:ne.C,color:"lightgrey"}}}),Object(ae.jsx)("div",{className:[yn.a.previewWrapper,"scrollable"].join(" "),children:Object(ae.jsx)(it.a,{source:r.trim(),escapeHtml:!1,astPlugins:[dt],renderers:{link:mt}})})]})})]})}var _n=n(70),kn=n.n(_n),Nn=n(83),wn={pre:{id:{name:"",className:"blank",sort:!1,value:function(){return 0},postConvert:function(e,t){return(1+t).toString()}},name:{name:"Name",className:"player",id:function(e){return e.id},sort:function(e,t){return e>t?1:e<t?-1:0},value:function(e,t,n){return"individual"===n.competitors?[e.firstName,e.lastName].join(" "):e.firstName}},rating:{name:"Rating",className:"locked",value:function(e){return e.rating},show:function(e,t,n){return n.showRatings}}},roundColumn:{name:function(e,t){return e.slice(-1)},className:function(e,t,n){return"*"===e?"edit":""===e?"unset":"locked"},value:function(){},convert:function(e,t,n){if(""===e)return"";if("*"===e)return"*";var a,r=parseInt(e);return a=.5===r?"\xbd":r.toString(),e.endsWith("b")&&(a+="b"),a},sort:function(e,t){if(e===t)return 0;if(""===e)return-1;if(""===t)return-1;if("*"===e)return 1;if("*"===t)return-1;var n=[parseInt(e),parseInt(t)],a=n[0],r=n[1];return e.endsWith("b")&&(a-=.001),t.endsWith("b")&&(r-=.001),r-a}},post:{score:{name:"MP",className:"locked",value:function(e){return parseFloat(e.score.toString())},convert:function(e,t){return e.toFixed(1)+" / "+t.played}},gamePoints:{name:"GP",className:"locked",value:function(e){return e.gamePoints},convert:function(e){return e.toFixed(1)}},winPercentage:{name:"Win %",className:"rating",value:function(e){return 0===e.played?-1:100*e.score/e.played},convert:function(e){return e<0?"-":e.toFixed()}},performanceRating:{name:"Perf",className:"rating",value:function(e){return e.performanceRating},convert:function(e){return e.toFixed()},show:function(e,t,n){return n.showRatings}},ratingDifference:{name:"P. +/-",className:"rating",value:function(e){return e.performanceRating?e.performanceRating-e.rating:0},convert:function(e){return e?e>0?"+"+e.toString():e.toString():""},show:function(e,t,n){return n.showRatings}},expectedScore:{name:"Expected",className:"rating",value:function(e){return e.expectedScore},convert:function(e,t){return e.toFixed(1)+" / "+t.played},show:function(e,t,n){return n.showRatings}},expectedDifference:{name:"E. +/-",className:"rating",value:function(e){return e.score-e.expectedScore},convert:function(e){return"undefined"===typeof e?"":e>0?"+"+e.toFixed(2):e.toFixed(2)},show:function(e,t,n){return n.showRatings}}}};function Cn(e){var t=Object(d.useMemo)((function(){return e.status.round>e.settings.totalRounds||"Infinity"===e.settings.totalRounds?e.status.round:e.settings.totalRounds}),[e.status.round,e.settings.totalRounds]),n=Object(d.useMemo)((function(){for(var e=[],n=1;n<=t;n++)e.push("round."+n.toString());return e}),[t]),a=Object(d.useMemo)((function(){return[].concat(Object(Se.a)(Object.keys(wn.pre)),Object(Se.a)(n),Object(Se.a)(Object.keys(wn.post)))}),[n]).filter((function(t,n){var a=wn.pre[t]||wn.post[t];return!a||!(a.show&&!a.show(null,n,e.settings))})),r=Object(d.useCallback)((function(e,t){return a.includes(t)?e[0]!==t?[t,0]:[t,e[1]+1]:["",0]}),[a]),i=Object(d.useReducer)(r,["score",0]),s=Object(g.a)(i,2),c=s[0],o=s[1],l=Object(d.useCallback)((function(n){for(var a=[""],r=1;r<=t;r++)n.histories[r]?(null===n.histories[r].match?a[r]="*":a[r]=n.histories[r].match.toString(),"bye"===n.histories[r].id&&(a[r]+="b")):r===e.status.round?a[r]="*":a[r]="";return a.slice(1)}),[t,e.status.round]),u=Object(d.useMemo)((function(){for(var t=[],n=function(n){for(var a=e.players[n],r=[],i=0,s=Object.entries(wn.pre);i<s.length;i++){var c=Object(g.a)(s[i],2),o=(c[0],c[1]);o.show&&!o.show(a,n,e.settings)||r.push([o.value(a,n,e.settings),o,a])}for(var u=l(a).map((function(e){return[e,wn.roundColumn,a]})),d=[],m=0,b=Object.entries(wn.post);m<b.length;m++){var p=Object(g.a)(b[m],2),j=(p[0],p[1]);j.show&&!j.show(a,n,e.settings)||d.push([j.value(a,n,e.settings),j,a])}var f=[].concat(r,Object(Se.a)(u),d);t.push(f)},r=0;r<e.players.length;r++)n(r);var i=function(e,t){return t-e},s=c[0].startsWith("round")?wn.roundColumn:wn.pre[c[0]]||wn.post[c[0]];if(s&&!1!==s.sort){s.sort&&(i=s.sort);var o=a.indexOf(c[0]);t=t.sort((function(e,t){return c[1]%2?i(t[o][0],e[o][0]):i(e[o][0],t[o][0])}))}return t.map((function(t,n){return Object(ae.jsx)("tr",{className:kn.a.tr,children:t.map((function(t,a){var r=Object(g.a)(t,3),i=r[0],s=r[1],c=r[2],o=i?i.toString():"";s.convert?o=s.convert(i,c,e.settings):s.postConvert&&(o=s.postConvert(o,n)),"undefined"!==typeof o&&""!==o||(o="\u200b");var l="function"===typeof s.className?s.className(o,a,e.settings):s.className;return Object(ae.jsx)("th",{children:Object(ae.jsx)("div",{id:s.id?s.id(c,a):void 0,className:[kn.a.cell,kn.a[l]].join(" "),onClick:"Name"===s.name&&s.id?function(){e.setDisplayPlayer(s.id(c,a)),e.toggleRightTab(!0)}:null,children:o})},[i,a].join("."))}))},"row."+n)}))}),[e.players,e.setDisplayPlayer,e.toggleRightTab,e.settings,l,c]);return Object(d.useEffect)((function(){e.closeTabOnLoad&&e.toggleRightTab(!1)}),[e.closeTabOnLoad,e.toggleRightTab]),Object(ae.jsx)(Rt,{id:"crossTable",title:"Tournament '".concat(e.status.name||e.status.id,"' results after ").concat(e.status.round," rounds"),short:e.rightTab,className:A()(kn.a.gridPage,e.className,"scrollable","scrollable-x"),childClass:kn.a.wrapper,buttons:[e.rightTab?{name:"Close profile view",icon:Object(ae.jsx)(At.a,{}),color:"indianred",onClick:e.toggleRightTab}:{name:"Show profile view",icon:Object(ae.jsx)(Nn.b,{}),color:"#385898",onClick:e.toggleRightTab}],children:Object(ae.jsxs)("table",{className:kn.a.table,children:[Object(ae.jsx)("thead",{children:Object(ae.jsx)("tr",{children:a.map((function(e,t){var n=e.startsWith("round")?wn.roundColumn:wn.pre[e]||wn.post[e];return Object(ae.jsx)("th",{scope:"column",className:kn.a.th,id:e,onClick:function(){return o(e)},children:Object(ae.jsx)("div",{className:[kn.a.cell,kn.a.headerCell].join(" "),children:"function"===typeof n.name?n.name(e,t):n.name})},["column",t].join("."))}))})}),Object(ae.jsx)("tbody",{children:u})]})})}var Sn=n(493),Jn=n.n(Sn),Rn=n(36),Bn=n.n(Rn);n(661);var In=["id","tournamentId","score","gamePoints","expectedGameScore","played","performanceRating","expectedScore","whiteTotal","createdAt","updatedAt"],Dn=["id","tournamentId","name","firstName","lastName","nationality","rating","active","createdAt","updatedAt","score","gamePoints","played","performanceRating","expectedScore","expectedGameScore","whiteTotal","chessCom","teamId","lastName","lichess"].reduce((function(e,t){return e[t]={readOnly:In.includes(t)},e}),{}),Pn=Math.floor(window.innerHeight/75-1);function En(e){var t=Object(d.useContext)(ie),n=Lt({players:e.players,sortFunc:function(e,t){return e.firstName>t.firstName?1:e.firstName<t.firstName?-1:0}}),a=n.players,r=n.setPlayers,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,t=Object(d.useState)(!1),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useCallback)((function(t,n){return t<e&&"increment"===n?t+1:t>0&&"decrement"===n?t-1:"number"===typeof n?n:t}),[e]),s=Object(d.useReducer)(i,0),c=Object(g.a)(s,2),o=c[0],l=c[1];return{usingPages:a,page:o,setPage:l,setPages:r,maxPages:e}}(Math.ceil(a.length/Pn)),s=i.usingPages,c=i.page,o=i.setPage,l=i.setPages,u=i.maxPages,m=Object(d.useReducer)((function(e){return!e}),!0),b=Object(g.a)(m,2),p=b[0],j=b[1],f=Object(d.useMemo)((function(){return a.reduce((function(e,n){for(var a=0,r=Object.entries(n);a<r.length;a++){var i=Object(g.a)(r[a],2),s=i[0],c=i[1];if(!(s in e)&&"object"!==typeof c){if("team"===t.competitors){if("firstName"===s)continue;if("lastName"===s)continue}var o=In.includes(s);e[s]={readOnly:o}}}return e}),Dn)}),[a,t]),h=Object(d.useMemo)((function(){if(p)return Object.entries(f);var e,t=Object.assign({},f),n=Object(De.a)(In);try{for(n.s();!(e=n.n()).done;){delete t[e.value]}}catch(a){n.e(a)}finally{n.f()}return Object.entries(t)}),[f,p]),O=Object(d.useMemo)((function(){return s?[Pn*c,Pn*c+Pn]:[0,a.length]}),[s,c,a]),v=Object(g.a)(O,2),y=v[0],x=v[1],_=Object(d.useMemo)((function(){var e,t=[],n=[],r=Object(De.a)(h);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.push({readOnly:!0,value:"id"===i[0]?"Scorch ID":$e(i[0]),header:i[0],className:A()(Bn.a.header),locked:i[1].readOnly})}}catch(j){r.e(j)}finally{r.f()}t.push(n);for(var s=y;s<x;s++){var c=a[s];if(c){var o,l=[],u=Object(De.a)(h);try{for(u.s();!(o=u.n()).done;){var d=Object(g.a)(o.value,2),m=d[0],b=d[1];if("object"!==typeof m){var p=c[m];l.push({readOnly:b.readOnly,value:Tn(p),header:m,className:A()(Bn.a.cell)})}}}catch(j){u.e(j)}finally{u.f()}t.push(l)}}return t}),[a,h,c,y,x]),k=Object(d.useCallback)((function(e){var t,n=Object(De.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=h[a.col][0];r({index:a.row-1,updates:Object(Ne.a)({},i,a.value)})}}catch(s){n.e(s)}finally{n.f()}}),[h,r]),N=Object(d.useCallback)((function(e){return Object(ae.jsx)("table",{className:A()(e.className,Bn.a.table),children:Object(ae.jsx)("tbody",{className:Bn.a.body,children:e.children})})}),[]),w=Object(d.useCallback)((function(){for(var e=document.getElementsByClassName("selected")[0],t=0,n=Array.from(document.getElementsByClassName(Bn.a.longSelect));t<n.length;t++){n[t].classList.remove(Bn.a.longSelect)}if(e&&!e.classList.contains(Bn.a.header)){for(var a;e.parentElement;){if("TR"===e.parentElement.tagName){a=e.parentElement;break}e=e.parentElement}a.classList.add(Bn.a.longSelect);var r=e.getAttribute("data-header");document.querySelectorAll('tr:first-child td[data-header="'.concat(r,'"]'))[0].classList.add(Bn.a.longSelect)}}),[]);return Object(d.useEffect)((function(){return window.addEventListener("click",w),function(){return window.removeEventListener("click",w)}}),[w]),Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(Rt,{className:A()(Bn.a.core,e.className),childClass:Bn.a.wrapper,isChild:!0,id:"export",title:"Spreadsheet of all players",description:e.expanded?"Edit your players here as you would an Excel sheet. Press save when you're done.":"",buttons:[{name:s?"Paged mode":"Scroll mode",icon:s?ne.P:ne.e,onClick:function(){return l(!s)}},{name:e.expanded?"Contract":"Expand",icon:e.expanded?ne.u:ne.B,onClick:e.toggleExpand,hide:!e.toggleExpand},{name:p?"Showing all":"Only editable",icon:p?ne.C:ne.D,onClick:j}].concat(s?[{name:"",id:"decrement",icon:ne.Q,onClick:function(){return o("decrement")},inactive:!c},{name:"Page ".concat(c+1),className:Bn.a.indicator,icon:null,onClick:function(){}},{name:"",id:"increment",icon:ne.W,onClick:function(){return o("increment")},inactive:c>=u-1}]:[]),children:[Object(ae.jsx)("div",{className:Bn.a.players,children:Object(ae.jsx)(Jn.a,{data:_,valueRenderer:function(e){return Mn(e.value,e)},dataRenderer:function(e){return function(e){switch(typeof e){case"string":if(et(e))return new Date(e).toISOString()}return Mn(e)}(e.value)},attributesRenderer:function(e){return{"data-header":e.header,"data-locked":!!e.locked||void 0}},onCellsChanged:k,sheetRenderer:N})}),Object(ae.jsx)("div",{className:"container",style:{display:"none"},children:Object(ae.jsx)("div",{className:Bn.a.pasteContainer,children:Object(ae.jsx)("div",{className:Bn.a.paste,children:Object(ae.jsx)("div",{className:[Bn.a.pasteArea].join(" "),children:Object(ae.jsx)("textarea",{className:[Bn.a.output,"scrollable"].join(" "),name:"textArea",placeholder:"Raw data output"})})})})})]})})}function Tn(e){switch(typeof e){case"object":return null;case"boolean":return e;case"number":var t=Math.round(1e3*e)/1e3;if(e!==t)return t}return e}function Mn(e,t){switch(typeof e){case"boolean":return nt(e,["Y","N"]);case"string":if(et(e))return new Date(e).toString().slice(4,15)}return e}var Fn=n(40),Ln=n.n(Fn);function Hn(e){var t=Object(d.useContext)(ie),n=Object(d.useMemo)((function(){var n;return function(e,t){var n=[];n=Array.isArray(e)?e:Object.entries(e).map((function(e){var t=Object(g.a)(e,2),n=t[0],a=t[1];return[Ge(n),"object"!==typeof a&&void 0!==a?a.toString():a]}));var a,r="",i=Object(De.a)(n);try{for(i.s();!(a=i.n()).done;){var s=Object(g.a)(a.value,2),c=s[0],o=s[1],l=t?Ge(o):o;r+="string"!==typeof l?"#"+c+"\n":"#".concat(c,"=").concat(l||"?","\n")}}catch(u){i.e(u)}finally{i.f()}return r.trim()}({eventDetails:null,eventCode:"",eventName:null===(n=e.status.name)||void 0===n?void 0:n.replace(X,""),eventDate:Un(new Date(e.status.createdAt)),finalResultsDate:"",resultsOfficer:"",resultsOfficerAddress:"",treasurerOfficer:"",treasurerOfficerAddress:"",format:Ge(t.pairingSystem),software:"ScorchChessv".concat(c.version),submissionIndex:"01",minutesPerGame:0,secondsPerMove:0})}),[e.status,t]),a=Object(d.useMemo)((function(){return e.players.map((function(e){return e.id}))}),[e.players]),r=Object(d.useMemo)((function(){var t={pin:function(e){return(a.indexOf(e.id)+1).toString()},ECFCode:function(e){var t;return null!==(t=e.ecf)&&void 0!==t?t:""},name:function(e){return[e.lastName,e.firstName].join(", ")},gender:function(e){return{M:"Male",F:"Female",O:"Other"}[e.gender]},dateOfBirth:function(e){var t,n;return null!==(t=null===(n=e.bYear)||void 0===n?void 0:n.toString())&&void 0!==t?t:""},fideNo:function(){return""}};return["#PlayerList"].concat(Object(Se.a)(e.players.map((function(e){return""+Object.entries(t).map((function(t){var n=Object(g.a)(t,2),a=n[0],r=n[1];return"#".concat(Ge(a),"=").concat(r(e)||"")})).join("")})))).join("\n")}),[a,e.players]),i=e.results,s=i.reduce((function(e,t){var n=t.pool||0;return e[n]||(e[n]=0),e[n]++,e}),[]),o=Object(d.useMemo)((function(){for(var e=[],t=function(){var t=r[n],s=parseInt(t),c={pin1:function(e){return a.indexOf(e.idW)+1},pin2:function(e){return a.indexOf(e.idB)+1},score:function(e){return t=e.matchW,n=e.matchB,1===t?"10":1===n?"01":"55";var t,n},round:function(e){return e.round.toString()},colour:function(e){return"W"},gameDate:function(e){return Un(new Date(e.finishedAt))}};e.push(["#Pool=".concat(s||"Open")].concat(Object(Se.a)(i.map((function(e){return""+Object.entries(c).map((function(t){var n=Object(g.a)(t,2),a=n[0],r=n[1];return"#".concat(Ge(a),"=").concat(r(e)||"")})).join("")})))).join("\n"))},n=0,r=Object.keys(s);n<r.length;n++)t();return e.join("\n")}),[a,i]),l=Object(d.useRef)(),u=Object(d.useState)(""),m=Object(g.a)(u,2),b=m[0],p=m[1],j=Object(d.useCallback)((function(){p([n,r,o,"#Finish#"].join("\n"))}),[p,n,r,o]);Object(d.useEffect)((function(){j()}),[j]);var f=Object(d.useCallback)((function(e){p(e.target.value)}),[p]);return Object(ae.jsx)(Rt,{id:"export",isChild:!0,className:e.className,title:"ECF grading output",buttons:[{name:e.expanded?"Contract":"Expand",icon:e.expanded?ne.u:ne.B,onClick:e.toggleExpand,hide:!e.toggleExpand},{name:"Copy",icon:ne.v,onClick:function(){l.current&&(l.current.select(),document.execCommand("copy"))},hide:!e.players.length||!i.length}],children:Object(ae.jsx)("div",{className:Ln.a.container,children:Object(ae.jsx)("textarea",{ref:l,className:Ln.a.textarea+" scrollable",value:b,spellCheck:!1,onChange:f})})})}function Un(e){return e?isNaN(e.valueOf())?"":[e.getUTCDate(),e.getUTCMonth(),e.getUTCFullYear()].map((function(e){var t=e.toString();return"0".repeat(2-Math.min(2,t.length))+t})).join("/"):""}function Qn(e){var t=Object(d.useRef)(),n=e.results,a=Object(d.useContext)(ie),r=Object(d.useMemo)((function(){if(!n.length)return[new Date,new Date];var e,t=1/0,a=0,r=Object(De.a)(n);try{for(r.s();!(e=r.n()).done;){var i=e.value,s=new Date(i.createdAt).valueOf();s<t&&(t=s),s>a&&(a=s)}}catch(c){r.e(c)}finally{r.f()}return[t,a].map((function(e){return new Date(e)}))}),[n]),i=Object(g.a)(r,2),s=i[0],c=i[1],o=Object(d.useMemo)((function(){var t,n=(null===(t=a.timeControl)||void 0===t?void 0:t.split("+").map((function(e){return Number(e)})))||[0,0],r=Object(g.a)(n,2),i=r[0],o=r[1],l={"012":e.status.name||"{NAME}","022":a.location,"032":"{FEDERATION}","042":Gn(s),"052":Gn(c),"062":"".concat(e.players.length," (").concat(e.players.length,")"),"072":"","092":Ge(a.pairingSystem)+" System",102:"{FIDE ID}",112:"{FIDE CODE}",122:"".concat(i," minutes each plus ").concat(o," seconds a move throughout")};return Object.entries(l).sort((function(e,t){return parseInt(e[0])-parseInt(t[0])})).map((function(e){var t=Object(g.a)(e,2);return t[0]+" "+t[1]})).join("\n")}),[a,e.status,e.players]),l=Object(d.useState)([]),u=Object(g.a)(l,2),m=u[0],b=u[1],p=Object(d.useCallback)((function(){if(a.tournamentId)return F({url:He("tournament",a.tournamentId,"getState"),params:{force:!0}}).then((function(e){for(var t=e.players,n=[],a=Math.max.apply(Math,Object(Se.a)(Object.keys(t).map((function(e){return Number(e)}))));a>=0;a-=.5){var r=a.toString();n=n.concat(t[r])}return n})).then(b)}),[a.tournamentId,b]);Object(d.useEffect)((function(){p()}),[p]);var j=Object(d.useMemo)((function(){var t=e.players.sort((function(e,t){return t.rating-e.rating}));if(!t.length)return"";for(var n=t.map((function(e){return e.id})),r=[{code:"DDD",value:function(e){var t=(e.pool||0)+1;"knockout"===a.pairingSystem&&(t=0);var n=t.toString();return"0".repeat(3-Math.min(3,n.length))+n}},{code:"SSSS",value:function(e){return n.indexOf(e.id)+1},align:"right"},{code:"sTTT",value:function(e){return"".concat((e.gender||"M").toLowerCase()).concat(e.title||"")}},{code:"N",length:function(e){return e+10},value:function(e){return[e.lastName,e.firstName].join(",")}},{code:"RRRR",value:function(e){return e.rating}},{code:"FFF",value:function(e){return e.nationality}},{code:"I",length:function(){return 11},value:function(e){return e.fide},align:"right"},{code:"BBBB",value:function(e){return e.bYear}},{code:"PPPP",value:function(e){return e.score},align:"right"},{code:"RRRR",value:function(e){return m.indexOf(e.id)+1},align:"right"}],i=[],s=1;s<e.status.round+1;s++)i.push(s);for(var c=[],o=t.map((function(e){return[].concat(Object(Se.a)(r.map((function(t){var n;return(null===(n=t.value(e))||void 0===n?void 0:n.toString())||""}))),Object(Se.a)(i.map((function(t){return function(e){var t;if(!e)return"";var a=(n.indexOf(e.id)+1).toString(),r=" ".repeat(4-Math.min(4,a.length))+a,i=e.colour.toLowerCase(),s=(null===(t=e.match)||void 0===t?void 0:t.toString())||"";return"0.5"===s&&(s="="),"bye"===e.id&&(1===e.match?s="+":.5===e.match&&(s="="),i="-",r="0000"),["",r,i,s].join(" ")}(e.histories[t])}))))})),l=function(e){var t=r[e],n=t.code.length;if(t.length){var a=o.map((function(t){return t[e].length}));n=t.length(Math.max.apply(Math,Object(Se.a)(a))),c[e]=n}for(var i=t.align||"left",s=0;s<o.length;s++){var l=" ".repeat(n-o[s][e].length);o[s][e]=["right"===i?l:"",o[s][e],"left"===i?l:""].join("")}},u=0;u<r.length;u++)l(u);return[[].concat(Object(Se.a)(r.map((function(e,t){var n=e.code;return c[t]?c[t]<0?n:n.repeat(c[t]):n}))),Object(Se.a)(i.map((function(e){var t=e.toString();return["",t.repeat(4),t.repeat(1),t.repeat(1)].join(" ")})))).join(" ")+" ",o.map((function(e){return e.join(" ")+" "})).join("\n")].join("\n")}),[e.status.round,a,m,e.players]),f=Object(d.useMemo)((function(){var e=j.split("\n")[0];if(!e)return"";for(var t="",n="",a=0;a<e.length;a++){var r=(a+1)%10;if(!r){var i=Math.floor((a+1)/10).toString();t+=" ".repeat(10-Math.min(10,i.length))+i}n+=r}return[t,n].join("\n")}),[j]),h=Object(d.useMemo)((function(){if(!e.players.length)return"";var t=j.split("\n")[0];if(!t)return"";var n=t.indexOf("1111")-3;if(n<0)return"";for(var a=[],r=1;r<e.status.round+1;r++)a.push(r);var i=a.map((function(t){return Gn(new Date(e.status.createdAt)).slice(2)}));return["132"," ".repeat(n),i.join("  ")].join("")}),[e.status,e.players,j]),O=Object(d.useState)(""),A=Object(g.a)(O,2),v=A[0],y=A[1],x=Object(d.useCallback)((function(){y([o,h,f,j].join("\n"))}),[y,j]);Object(d.useEffect)((function(){x()}),[x]);var _=Object(d.useCallback)((function(e){y(e.target.value)}),[y]);return Object(ae.jsx)(Rt,{id:"export",isChild:!0,className:e.className,title:"FIDE grading output",buttons:[{name:e.expanded?"Contract":"Expand",icon:e.expanded?ne.u:ne.B,onClick:e.toggleExpand,hide:!e.toggleExpand},{name:"Copy",icon:ne.v,onClick:function(){t.current&&(t.current.select(),document.execCommand("copy"))},hide:!e.players.length||!n.length}],children:Object(ae.jsx)("div",{className:Ln.a.container,children:Object(ae.jsx)("textarea",{ref:t,className:Ln.a.textarea+" scrollable scrollable-x",value:v,spellCheck:!1,onChange:_})})})}function Gn(e){return e?isNaN(e.valueOf())?"":[e.getUTCDate(),e.getUTCMonth(),e.getUTCFullYear()].reverse().map((function(e){var t=e.toString();return"0".repeat(2-Math.min(2,t.length))+t})).join("/"):""}function Vn(e){var t=Object(d.useCallback)((function(e,t){var n="";return e!==t&&(n=t),n}),[]),n=Object(d.useReducer)(t,""),a=Object(g.a)(n,2),r=a[0],i=a[1],s=Object(d.useState)([]),c=Object(g.a)(s,2),o=c[0],l=c[1],u=Object(d.useCallback)((function(){return e.status.id?F({url:He("tournament",e.status.id,"getPairings"),params:{withResults:!0}}).then(l):null}),[e.status.id,l]);return Object(d.useEffect)((function(){u()}),[u]),Object(ae.jsxs)(Rt,{className:A()(Ln.a.core,Object(Ne.a)({},Ln.a.sole,!!r)),childClass:Ln.a.wrapper,id:"export",children:[Object(ae.jsx)(En,{players:e.players,className:A()(Ln.a.spreadsheet,Object(Ne.a)({},Ln.a.expanded,"spreadsheet"===r)),expanded:"spreadsheet"===r,toggleExpand:function(){return i("spreadsheet")}}),Object(ae.jsx)(Hn,{status:e.status,players:e.players,className:A()(Ln.a.ecf,Object(Ne.a)({},Ln.a.expanded,"ecf"===r)),expanded:"ecf"===r,toggleExpand:function(){return i("ecf")},results:o}),Object(ae.jsx)(Qn,{status:e.status,players:e.players,className:A()(Ln.a.fide,Object(Ne.a)({},Ln.a.expanded,"fide"===r)),expanded:"fide"===r,toggleExpand:function(){return i("fide")},results:o})]})}var Kn=n(33),Wn=n.n(Kn);function Yn(e){var t=Object(d.useState)([]),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useCallback)((function(){if(e.id&&e.status.round)return F({url:"/tournament/"+e.id+"/getPairings",params:{round:null,withResults:!0}}).then(r)}),[r,e.id,e.status.round]);Object(d.useEffect)((function(){i()}),[e.resultKey,i]);var s=Object(d.useMemo)((function(){var e=[];for(var t=1;t<7;t++){var n=6-t,r=Math.pow(2,n);e[t]||(e[t]=[]);var i,s=Object(De.a)(a);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(c.round===t&&(e[t].push(c),e[t].length===r))break}}catch(o){s.e(o)}finally{s.f()}}return e}),[a,e.status.round]),c=Object(d.useContext)(ce),o=ra(e.settings),l=Object(d.useRef)(),u=Object(d.useReducer)((function(e,t){for(var n=0;n<t.length;n++){if(!e[n])return t;for(var a=0;a<t[n].length;a++){var r=e[n][a],i=t[n][a];if(!r)return t;if(r[0].x!==i[0].x)return t;if(r[0].y!==i[0].y)return t;if(r[1].x!==i[1].x)return t;if(r[1].y!==i[1].y)return t}}return e}),[]),m=Object(g.a)(u,2),b=m[0],p=m[1],j=Object(d.useState)(!1),f=Object(g.a)(j,2),h=f[0],O=f[1],A=Object(d.useCallback)((function(){if(!h&&a.length){for(var e=Array.from(document.getElementsByClassName(Wn.a.winner)),t=Array.from(document.getElementsByClassName(Wn.a.all)),n=[],r=1;r<6;r++)n.push(document.getElementById(["divider",r].join(".")));for(var i=[],s=[],c=0,o=t;c<o.length;c++){var l=o[c],u=l.getAttribute("data-svg").split("."),d=Object(g.a)(u,2),m=d[0],b=d[1];s[Number(m)]||(s[Number(m)]={}),s[Number(m)][b]=l}for(var j=!1,f=0,A=e;f<A.length;f++){var v=A[f],y=v.getAttribute("data-svg").split("."),x=Object(g.a)(y,2),_=x[0],k=x[1];if(s[Number(_)]){var N=s[Number(_)][k];v&&N&&(i[Number(_)]||(i[Number(_)]=[]),i[Number(_)].push([v.getBoundingClientRect(),N.getBoundingClientRect()]),j||(j=!0))}}p(i),O(j)}}),[a.length,6,p,h,O]),v=Object(d.useMemo)((function(){return b.flat(2).reduce((function(e,t){return[t.left<e[0]?t.left:e[0],t.top<e[1]?t.top:e[1]]}),[1e4,1e4])}),[b]),y=Object(d.useMemo)((function(){return b.flat(2).reduce((function(e,t){return[t.left>e[0]?t.left:e[0],t.top>e[1]?t.top:e[1]]}),[0,0])}),[b]);Object(d.useEffect)((function(){A()})),Object(d.useEffect)((function(){var e=function(){return O(!1)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[O]);var x=Object(d.useMemo)((function(){if(!l.current)return[0,0];var e=l.current.getBoundingClientRect();return[e.left,e.top]}),[l.current]);return Object(ae.jsxs)(Rt,{id:"knockout",className:e.className,childClass:Wn.a.stage,childRef:l,scrollable:e.scrollable,children:[Object(ae.jsx)("div",{className:Wn.a.columns,children:s.map((function(t,n){return t?Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("div",{className:Wn.a.column,style:{marginTop:t.length?100*Math.pow(2,n-1)-100+"px":0},children:t.map((function(t,a){return Object(ae.jsxs)("div",{className:Wn.a.matchUp,children:[Object(ae.jsxs)("div",{className:[Wn.a.white].join(" "),children:[n>1?Object(ae.jsx)("div",{"data-svg":[n-1,2*a].join("."),className:Wn.a.all}):null,Object(ae.jsx)(ne.q,{style:{color:"white"}}),Object(ae.jsx)("div",{className:["playerInfo",Wn.a.playerInfo,"bye"===t.idW?Wn.a.bye:""].join(" "),onClick:function(n){return"bye"===t.idW?null:e.setDisplayPlayer(t.idW)},children:c(t.idW)}),t.matchW?Object(ae.jsx)("div",{"data-svg":[n,a].join("."),className:Wn.a.winner}):null]}),Object(ae.jsx)(sn,{result:"match"===e.settings.displayPoints?[t.matchW,t.matchB,{}]:[t.resultWhite,t.resultBlack,{}],gameLinks:{},tournamentID:e.id,inputClassName:"",validate:o,handleSubmit:i}),Object(ae.jsxs)("div",{className:[Wn.a.black].join(" "),children:[n>1?Object(ae.jsx)("div",{"data-svg":[n-1,2*a+1].join("."),className:Wn.a.all}):null,Object(ae.jsx)(ne.q,{style:{color:"black"}}),Object(ae.jsx)("div",{className:["playerInfo",Wn.a.playerInfo,"bye"===t.idB?Wn.a.bye:""].join(" "),onClick:function(n){return"bye"===t.idB?null:e.setDisplayPlayer(t.idB)},children:c(t.idB)}),t.matchB?Object(ae.jsx)("div",{"data-svg":[n,a].join("."),className:Wn.a.winner}):null]})]},["matchUp",a].join("."))}))},["column",n].join("."))}):null}))}),Object(ae.jsx)("svg",{className:Wn.a.connectors,style:{left:v[0]-x[0]+2.5,top:v[1]-x[1]+2.5},width:y[0]<v[0]?0:y[0]-v[0],height:y[1]<v[1]?0:y[1]-v[1],children:b.map((function(e,t){return Object(ae.jsx)("g",{className:["ct-series","ct-series-"+String.fromCharCode(t+65-1)].join(" "),children:e.map((function(e,t){var n=Object(g.a)(e,2),a=n[0],r=n[1],i=1/3,s=[a.left-v[0],a.top-v[1]],c=[r.left-v[0],r.top-v[1]],o=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=(s[0],s[0],s[1],s[1],s[0],s[0],s[1],s[1],c[0],c[1],[s[0]+.5*(c[0]-s[0]),s[1]+0*(c[1]-s[1])]),u=[s[0]+1*(c[0]-s[0]),s[1]+.5*(c[1]-s[1])];return Object(ae.jsx)("path",{className:[Wn.a.line,"ct-line"].join(" "),d:Object.entries({M:s.join(" "),C:[l,u,c].map((function(e){return e.join(" ")})).join(", ")}).map((function(e){var t=Object(g.a)(e,2);return t[0]+t[1]})).join(" ")},["path",t].join("."))}))},["lines",t].join("."))}))})]})}var zn=n(12),qn=n.n(zn);var Xn=n(50);function Zn(e){var t=Object(d.useContext)(oe).triggerConfirm,n=Object(d.useCallback)((function(){return L({url:He("tournament",e.id,"getRestPairings")}).then(e.updatePlayerDict)}),[e.id,e.updatePlayerDict]);return Object(ae.jsxs)("div",{className:A()(qn.a.nextButton,"button"),onClick:function(){return t("Pair remaining players for this round?",n)},children:[Object(ae.jsx)("div",{className:qn.a.remainingDropWrapper,children:Object(ae.jsxs)("div",{className:A()(qn.a.remainingDrop,"scrollable"),children:[Object(ae.jsx)("b",{children:"The following teams have not been paired:"}),e.unPaired.map((function(e,t){return Object(ae.jsx)("div",{children:e.name},A()("pending",t))}))]})}),"Pair Remaining"]})}function $n(e){var t=Object(d.useContext)(ie),n=Object(d.useContext)(de).nextButton,a=Object(d.useCallback)((function(n){L({url:He("tournament",e.id,n?"unpublish":"publish")}).then(e.updateStatus),!n&&t.allowNewPlayers&&e.updateSetting("allowNewPlayers",!1)}),[e.id,t.allowNewPlayers,e.updateSetting]);switch(n){case"skeleton":return Object(ae.jsx)("div",{className:qn.a.waitButton});case"loading":return Object(ae.jsx)("div",{className:A()(qn.a.nextButton,"button"),children:Object(ae.jsx)(Xn.d,{})});case"none":return Object(ae.jsx)("div",{className:A()(qn.a.waitButton)});case"switch-more":return Object(ae.jsxs)("div",{className:[qn.a.waitButton].join(" "),children:["Select ",e.left," more pairing",Ue(e.left)]});case"switch":return Object(ae.jsx)("div",{className:qn.a.nextButton,onClick:e.triggerPairingSwap,children:"Switch pairings"});case"inactive":return Object(ae.jsx)("div",{className:A()(qn.a.waitButton),children:"Must have at least 2 active players"});case"publish":return Object(ae.jsx)("div",{className:A()(qn.a.nextButton,"button"),onClick:function(){return e.updateSetting("isPublished",!0)},children:"Publish draw"});case"wait":return Object(ae.jsxs)("div",{className:A()(qn.a.waitButton,"button"),onClick:e.nextOutstanding,title:"Click to jump to next incomplete result",children:["Awaiting ",e.pending.length," result",Ue(e.pending)]});case"publish-final":return Object(ae.jsx)("div",{className:A()(qn.a.nextButton,"button"),onClick:function(){a(!1),t.isPublic||e.setMode("crossTable")},children:t.isPublic?"Publish results":"Final Standings"});case"last":return Object(ae.jsx)("div",{className:A()(qn.a.finishButton,"button"),onClick:function(){a(!0)},children:t.isPublic?"Unpublish results":"Resume tournament"});case"next":return Object(ae.jsx)("div",{className:A()(qn.a.nextButton,"button"),onClick:e.triggerNextRound,children:e.status.round?"Next Round":"First round pairings"})}}function ea(e){var t=Object(d.useState)(!1),n=Object(g.a)(t,2),a=n[0],r=n[1];return a?Object(ae.jsx)("div",{className:qn.a.manualPairing,children:Object(ae.jsx)(ta,Object(p.a)(Object(p.a)({},e),{},{close:function(){return r(!1)}}))}):Object(ae.jsx)("div",{className:A()("button",qn.a.pairingAddButton),onClick:function(){return r(!0)},children:"New manual pairing"})}function ta(e){var t=Object(d.useState)(null),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useState)(null),s=Object(g.a)(i,2),c=s[0],o=s[1],l=Object(d.useState)(!1),u=Object(g.a)(l,2),m=u[0],b=u[1],p=Object(d.useState)(""),j=Object(g.a)(p,2),f=j[0],h=j[1],O=Object(d.useRef)(null),A=Object(d.useContext)(ce),v=Object(d.useContext)(se);Object(d.useEffect)((function(){if(b(!1),a&&c){if("bye"===a.id&&"bye"===c.id)return h("Cannot pair BYE with BYE");if(a.histories&&a.histories[e.round]&&!a.histories[e.round].match)return h(A(a.id)+" is already paired");if(c.histories&&c.histories[e.round]&&!c.histories[e.round].match)return h(A(c.id)+" is already paired");h(""),b(!0)}}),[a,c]);var x=Object(d.useCallback)((function(e){var t=e.target;if(e.nativeEvent.data){var n=t.value;if(n.trim()){var a=n.length,i=[{id:"bye"}].concat(Object(Se.a)(Array.from(v.values()))).filter((function(e){return A(e.id).toLowerCase().startsWith(n.toLowerCase())}))[0];if(i){var s=A(i.id);t.value=s,t.select(),t.setSelectionRange(a,s.length,"forward"),"idW"===t.name?r(i):o(i)}}}else"idW"===t.name?r(null):o(null)}),[v]),_=Object(d.useCallback)((function(t){switch(t.keyCode){case 27:return e.close();case 13:var n=O.current;if(!n)return;n.requestSubmit(),t.preventDefault()}}),[e.close]);return Object(ae.jsx)("form",{ref:O,target:"_self",onKeyDown:_,onSubmit:function(t){t.preventDefault(),L({url:He("tournament",e.id,"manualPairing"),data:{idW:a.id,idB:c.id,round:e.round}}).then((function(){return e.handleSubmit(t)}))},method:"POST",action:y.a.resolve(E,He("tournament",e.id,"manualPairing")),children:Object(ae.jsxs)("div",{className:qn.a.manualResultsBridge,children:[Object(ae.jsx)("input",{onInput:x,autoComplete:"off",placeholder:"White",className:["playerInfo",qn.a.playerInfo].join(" "),name:"idW",style:{gridArea:"white"}}),Object(ae.jsx)("div",{className:qn.a.scoreSpacer,style:{gridArea:"wR"}}),Object(ae.jsxs)("div",{className:qn.a.centre,style:{gridArea:"dash"},children:[f?Object(ae.jsx)("span",{className:"tooltip",children:f}):null,m?Object(ae.jsx)("button",{tabIndex:-1,className:Re.a.resolve,children:Object(ae.jsx)(ne.l,{})}):Object(ae.jsx)("button",{tabIndex:-1,className:Re.a.reject,onClick:e.close,children:Object(ae.jsx)(ne.lb,{})})]}),Object(ae.jsx)("div",{className:qn.a.scoreSpacer,style:{gridArea:"bR"}}),Object(ae.jsx)("input",{onInput:x,autoComplete:"off",placeholder:"Black",className:["playerInfo",qn.a.playerInfo].join(" "),name:"idB",style:{gridArea:"black"}})]})})}function na(e,t){var n,a=Object(De.a)(e.histories);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r){var i,s=Object(De.a)(t.histories);try{for(s.s();!(i=s.n()).done;){if(i.value&&r.id===t.id)return!0}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){a.e(c)}finally{a.f()}return!1}function aa(e){var t=Object(d.useMemo)((function(){return e.userRound||e.status.round}),[e.userRound,e.status.round]),n=function(e){var t=Object(d.useContext)(ie),n=Object(d.useContext)(se),a=Object(d.useReducer)((function(){return Math.random().toString(16).slice(2,9)}),""),r=Object(g.a)(a,2),i=r[0],s=r[1],c=Object(d.useCallback)((function(n,a){var r=a.id,i=a.W,c=a.B,o=a.gameLinks,l=a.fetched,u=a.games,d=null;i?i.histories&&i.histories[e.round]&&null!==i.histories[e.round][t.displayPoints]&&(d=i.histories[e.round][t.displayPoints]):d=0;var m=null;return c?c.histories&&c.histories[e.round]&&null!==c.histories[e.round][t.displayPoints]&&(m=c.histories[e.round][t.displayPoints]):m=0,n.set(r,[d,m,o,l,u]),s(),n}),[e.round,t.displayPoints,s]),o=Object(d.useState)([]),l=Object(g.a)(o,2),u=l[0],m=l[1],b=Object(d.useReducer)(c,new Map),p=Object(g.a)(b,2),j=p[0],f=p[1],h=Object(d.useCallback)((function(){if(e.id&&n.size)return F({url:"/tournament/"+e.id+"/getPairings",params:{round:e.round}}).then((function(e){var t,a=Object(De.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,i=r.id,s=r.idW,c=r.idB,o=r.fetched,l=r.games,u={link:r.link,source:r.linkSource,type:r.type},d=[n.get(s),n.get(c)];f({id:i,W:d[0],B:d[1],gameLinks:u,fetched:o,games:l})}}catch(b){a.e(b)}finally{a.f()}m(e)})).catch(console.error)}),[e.id,m,f,e.round,n]);return Object(d.useEffect)((function(){h()}),[h]),{pairingData:u,results:j,getPairings:h,resultsState:i}}({id:e.id,round:t}),a=n.pairingData,r=n.results,i=n.resultsState,s=n.getPairings,c=Object(d.useState)(!1),o=Object(g.a)(c,2),l=o[0],u=o[1],m=Object(d.useContext)(ie),b=Object(d.useContext)(se),j=Object(d.useContext)(ce),O=ra(m),v=Object(d.useMemo)((function(){return a.filter((function(e){var t=r.get(e.id);return!!t&&t.slice(0,2).every((function(e){return null===e}))}))}),[r,i,a]),y=function(e){var t=Object(d.useContext)(ce),n=Object(d.useReducer)((function(e,t){if(null===t)return[];var n=e.slice(0);return e.includes(t)?(n.splice(e.indexOf(t),1),n):e.length>=2?e:(n.push(t),n)}),[]),a=Object(g.a)(n,2),r=a[0],i=a[1],s=Object(d.useContext)(oe).setAlert,c=Object(d.useCallback)((function(){if(2!==r.length)throw"Wrong number of players selected";var n=null;if(!r.includes("bye")){var a=r.map((function(t){return e.playerDict.get(t)})),c=a.map((function(t){return e.playerDict.get(t.histories[e.round].id)}));(na(a[0],c[1])||na(a[1],c[0]))&&(n=[a[0].id,c[1].id])}s({message:Object(ae.jsxs)(ae.Fragment,{children:["Really switch pairings ",t(r[0])," and ",t(r[1]),"?",n?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("br",{}),Object(ae.jsx)("br",{}),Object(ae.jsxs)("strong",{children:["Note: ",t(n[0])," has already played ",t(n[1])]})]}):null]}),type:"confirm",resolve:function(){return L({url:He("tournament",e.status.id,"switchPairings"),data:{swapX:r[0],swapY:r[1],round:e.round}}).then((function(){i(null),e.updatePlayerDict()}))},reject:function(){return i(null)}})}),[e.playerDict,s,r,i,e.status.id,e.round,t]),o=Object(d.useCallback)((function(n,a,r){s({message:"Really remove pairing ".concat(t(a)," vs. ").concat(t(r),"?"),type:"confirm",resolve:function(){L({url:He("tournament",e.status.id,"destroyPairing"),data:{id:n,round:e.round}}).then((function(){i(null),e.updatePlayerDict()}))},reject:function(){}})}),[s,t,e.round,i,e.updatePlayerDict]),l=Object(d.useCallback)((function(e){var t=e.id,n=e.idW,a=e.idB,r=e.setDisplayPlayer,i=Object(d.useContext)(ce);return Object(ae.jsxs)("div",{className:Re.a.resultsBridge,children:[Object(ae.jsx)("div",{className:Re.a.info,title:i(n),onClick:function(){return r(n)},children:Object(ae.jsx)(ne.N,{})}),Object(ae.jsx)("button",{tabIndex:-1,className:Re.a.reject,onClick:function(){return o(t,n,a)},children:Object(ae.jsx)(ne.lb,{})}),Object(ae.jsx)("div",{className:Re.a.info,title:i(a),onClick:function(){return r(a)},children:Object(ae.jsx)(ne.N,{})})]})}),[o]);return{select:i,selected:r,triggerPairingSwap:c,SingleSwitch:l}}(Object(p.a)(Object(p.a)({},e),{},{round:t})),x=y.select,_=y.selected,k=y.triggerPairingSwap,N=y.SingleSwitch,w=Object(d.useCallback)((function(){return u(!0),L({url:"/tournament/"+e.id+"/getNextPairings"}).then(m.publishPairings?e.updateTournamentSettings:function(){}).then(e.updatePlayerDict).then(e.updateRound).finally((function(){return u(!1)}))}),[u,e.id,e.updateRound,u]),C=Object(d.useMemo)((function(){return Array.from(b.values()).filter((function(e){return!1!==e.active&&e.histories&&!e.histories[t]}))}),[b,t]),S=Object(d.useMemo)((function(){return!!C.length}),[C,m.pairingSystem]),J=Object(d.useContext)(de).setNextButton,R=Object(d.useMemo)((function(){return(null===m||void 0===m?void 0:m.pairingSystem)?e.switchMode?2-_.length?"switch-more":"switch":(n=t>=m.totalRounds||"undefined"!==typeof e.lastRoundOverride&&e.lastRoundOverride,l?"loading":t<e.status.round?"none":m.isPublished?e.canTriggerNextRound?v.length>0&&"round-robin"!==m.pairingSystem?"wait":n?e.status.active?"publish-final":"last":"next":"inactive":"publish"):"skeleton";var n}),[t,e.status.active,m,e.lastRoundOverride,l,e.status.round,e.canTriggerNextRound,v.length,_,e.switchMode]);Object(d.useEffect)((function(){J(R)}),[J,R]);var B=Object(d.useState)(""),I=Object(g.a)(B,2),D=I[0],P=I[1],E=Object(d.useCallback)(function(){var t=Object(h.a)(f.a.mark((function t(n,a){var i,s,c,o,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.target,r.set(a,[Number(i.resultWhite.value),Number(i.resultBlack.value),{}]),i&&(s=i.parentElement)){c=s;do{c=c.nextSibling}while(c&&!c.getElementsByTagName("form")[0]);c&&(o=c.getElementsByTagName("form")[0],(l=o.getElementsByTagName("input")[0])&&l.focus())}return e.updatePlayerDict(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[r,e.updatePlayerDict]),T=Object(d.useCallback)((function(){var n,i=[],c=1,o=[],l=Object(De.a)(a);try{for(l.s();!(n=l.n()).done;){var u=n.value,d=u.pool||0;m.usingPools||(d=0),o[d]||(o[d]=[]),o[d].push(u)}}catch(v){l.e(v)}finally{l.f()}for(var b=0;b<o.length;b++)if(o[b]){b&&i.push(Object(ae.jsxs)("div",{id:["pool",b].join("."),className:qn.a.pool,children:["Pool ",ze(b,m.poolDisplay)]},["pool",b].join(".")));var p,f=Object(De.a)(o[b]);try{var h=function(){var n,a,o=p.value,l=o.id,u=o.idW,d=o.idB,b=r.get(o.id);if(!b)return"continue";var f={link:o.link,source:o.linkSource,type:o.type},h=!0;e.filtered&&e.filtered.length?e.filtered.some((function(e){return u===e||d===e}))&&(h=!1):h=!1,e.filters&&Object.entries(e.filters).some((function(e){var t=Object(g.a)(e,2),n=t[0],a=t[1];if(void 0===a)return!1;var r=Kt.find((function(e){return e.key===n}));if(!r)return!1;var i=r.func(o,b);return a?!i:i}))&&(h=!0);var v=void 0;v=e.switchMode?function(e){var t=e.target.id;x(t)}:function(t){var n=t.target.id;if("bye"===n)return null;e.setDisplayPlayer(n)},i.push(Object(ae.jsxs)("div",{id:l,className:qn.a.pairing,style:h?{display:"none"}:{},children:[Object(ae.jsx)("div",{className:A()("playerInfo",qn.a.playerInfo,(n={},Object(Ne.a)(n,qn.a.bye,"bye"===u),Object(Ne.a)(n,qn.a.selected,_.includes(u)),n)),id:u,onClick:v,children:j(u,["score"])}),e.switchMode?Object(ae.jsx)(N,{id:l,idW:u,idB:d,setDisplayPlayer:e.setDisplayPlayer}):Object(ae.jsx)(sn,{expand:function(e){return P(e?l:"")},expanded:D===l,result:b,gameLinks:f,tournamentID:e.id,inputClassName:qn.a.inputResult,hidden:{W:u,B:d,round:t,override:!0},step:"knockout"===m.pairingSystem&&"match"===m.displayPoints?1:void 0,validate:O,handleSubmit:function(e){return E(e,l)}}),Object(ae.jsx)("div",{className:A()("playerInfo",qn.a.playerInfo,(a={},Object(Ne.a)(a,qn.a.bye,"bye"===d),Object(Ne.a)(a,qn.a.selected,_.includes(d)),a)),id:d,onClick:v,children:j(d,["score"])})]},["pairings",l].join(".")),Object(ae.jsx)(cn,{tournamentID:e.status.id,id:l,board:c,round:t,className:A()("dropdown",qn.a.pairing),style:h?{display:"none"}:{},result:b,expanded:D===l,gameLinks:f,individual:"individual"===m.competitors,update:s,updatePlayerDict:e.updatePlayerDict,triggerConfirm:e.triggerConfirm,settings:m},["pairingDetails",l].join("."))),c++};for(f.s();!(p=f.n()).done;)h()}catch(v){f.e(v)}finally{f.f()}}return i}),[P,D,b,a,j,r,i,e.updatePlayerDict,s,e.setDisplayPlayer,e.filter,e.filtered,e.filters,m,e.switchMode,_]),M=Object(d.useRef)(),H=Object(d.useMemo)((function(){var t=a.filter((function(e){var t=r.get(e.id);return null==t[0]&&null==t[1]})).map((function(e){return e.id})),n=t[e.outstandingIndex%t.length];return-1===e.outstandingIndex&&(n=null),[t,n]}),[r,i,e.outstandingIndex]),U=Object(g.a)(H,2),Q=U[0],G=U[1];Object(d.useEffect)((function(){e.setOutstanding(!!Q.length)}),[e.setOutstanding,Q]),Object(d.useEffect)((function(){if(G&&M.current){var e=document.getElementById(G);if(e){e.scrollIntoView({behavior:"smooth"}),e.classList.add("tempHighlight");setTimeout((function(){return e.classList.remove("tempHighlight")}),5e3)}}}),[M,G]);var V=Object(d.useMemo)(T,[T]);return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{className:qn.a.pairings,ref:M,children:Object(ae.jsx)("div",{className:qn.a.stage,children:Object(ae.jsxs)("div",{className:A()(qn.a.knockoutWrapper,"scrollable"),children:[Object(ae.jsx)(Zt,{header:e.switchMode?"Switch Pairings Mode":"Pairings",value:"pairings",scrollable:!0,useInternalState:!0,children:Object(ae.jsx)("div",{className:A()(qn.a.pairingContainer),children:Object(ae.jsxs)("div",{className:A()(qn.a.pairingWrapper),children:[V,S&&t&&!e.switchMode?Object(ae.jsx)(ea,{id:e.id,round:t,handleSubmit:function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.updatePlayerDict(),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}):null]})})}),e.switchMode?null:"knockout"===m.pairingSystem?Object(ae.jsx)(Zt,{header:"Bracket",value:"standings",expanded:!1,scrollable:!0,useInternalState:!0,children:Object(ae.jsx)(Yn,Object(p.a)(Object(p.a)({},e),{},{resultKey:i,className:qn.a.knockout,scrollable:!1}))}):Object(ae.jsx)(Zt,{header:"Standings",value:"standings",expanded:!1,scrollable:!0,useInternalState:!0,children:Object(ae.jsx)(Cn,Object(p.a)(Object(p.a)({},e),{},{className:qn.a.knockout,players:Array.from(b.values()),rightTab:!1}))}),e.filtered.length?Object(ae.jsx)("div",{onClick:function(){return e.filter([])},className:A()("button",qn.a.clearFiltered),children:"Clear search parameters"}):null]})})}),Object(ae.jsx)("div",{className:A()("bottomBannerBackground",qn.a.statusBarBackground),children:Object(ae.jsxs)("div",{className:A()("bottomBanner",qn.a.statusBar),children:[Object(ae.jsx)("div",{className:A()("button"),onClick:function(){return e.toggleSidebar()},children:"skeleton"===R?null:Object(ae.jsx)(ne.g,{})}),Object(ae.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gridAutoColumns:"1fr",width:"100%",columnGap:"5px"},children:[!e.switchMode&&S&&e.status.round?Object(ae.jsx)(Zn,Object(p.a)({},Object(p.a)(Object(p.a)({},e),{},{unPaired:C}))):null,Object(ae.jsx)($n,Object(p.a)({},Object(p.a)(Object(p.a)({},e),{},{pending:v,triggerNextRound:w,triggerPairingSwap:k,left:2-_.length})))]}),Object(ae.jsx)("div",{className:A()("button"),onClick:function(){return e.toggleRightTab()},children:"skeleton"===R?null:Object(ae.jsx)(ne.g,{})})]})})]})}function ra(e){return function(t){if(""!==t.resultWhite.value||""!==t.resultBlack.value){if(!Array.from(t).every((function(e){return e.validity.valid})))return!1;var n=Number(t.resultWhite.value),a=Number(t.resultBlack.value);return n+a===0?"Cannot have a 0-0 result":!e.gamePointTotal||(n+a===("game"===e.displayPoints?e.gamePointTotal:1)||"Setting: sum results to "+e.gamePointTotal)}}}var ia=n(11),sa=n.n(ia);function ca(e){var t=e.round,n=e.setPlayers,a=e.players,r=Object(d.useCallback)((function(t){var n=t.target;if("HTMLButtonElement"===n.constructor.name){var a=n.parentNode.id;L({url:"/tournament/"+e.id+"/activatePlayer",data:{id:a}}).then((function(e){return{player:e}})).then(e.setPlayerDict).catch(console.error)}}),[e.id,e.setPlayerDict]),i=Object(d.useCallback)((function(t){var n=t.target;if("HTMLButtonElement"===n.constructor.name){var a=n.parentNode.id;L({url:"/tournament/"+e.id+"/clearPlayer",data:{id:a}}).then((function(t){t?e.setPlayerDict({player:t}):e.setPlayerDict({id:a})})).catch(console.error)}}),[e.setPlayerDict,e.id]),s=Object(d.useMemo)((function(){return"individual"===e.settings.competitors}),[e.settings.competitors]);function c(n){var a=Object(d.useState)(!1),c=Object(g.a)(a,2),o=c[0],l=c[1],u=Object(d.useState)(n.player),m=Object(g.a)(u,2),b=m[0],p=m[1];return o?Object(ae.jsx)(va,{id:e.id,i:0,settings:e.settings,player:b,close:function(){return l(!1)},onSubmit:function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",H(n).then((function(t){e.setPlayerDict({player:t}),p(t),l(!1)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),action:y.a.resolve(E,["tournament",e.id,"editPlayer"].join("/")),isActive:!0}):Object(ae.jsx)(Aa,{player:b,round:t,requireLastName:s,editPlayer:function(){return l(!0)},activatePlayer:r,clearPlayer:i,allowNewPlayers:e.settings.allowNewPlayers,setDisplayPlayer:e.setDisplayPlayer})}Object(d.useMemo)((function(){return Object.values(a).every((function(e){return e.length<30}))}),[a]);var o=Object(d.useMemo)((function(){for(var t=[],n=Object.values(a).reduce((function(e,t){return Math.max(e,Math.max.apply(Math,Object(Se.a)(t.map((function(e){return e.score})))))}),0);n>=0;n-=.5){var r=n.toString();if(a[r]&&a[r].length){var i=Object(ae.jsx)(Zt,{id:["container",r].join("."),header:r+" points",useInternalState:!0,expanded:!0,withLengths:!0,mustExpand:a[r].some((function(t){return t.id===e.jumpedTo})),children:a[r].map((function(e){return Object(ae.jsx)(c,{player:e},e.id)}))},["sidebar","round",r].join("."));t.push(i)}}return t}),[t,a,e.settings.allowNewPlayers,e.settings,e.jumpedTo]);Object(d.useEffect)((function(){e.playerDict.size&&n(!1)}),[e.playerDict,n]),Object(d.useEffect)((function(){e.playerDict.size&&n()}),[e.playerDict,e.stateKey]);var l=Object(d.useState)(""),u=Object(g.a)(l,2),m=u[0],b=u[1];Object(d.useEffect)((function(){e.jumpedTo&&b(e.jumpedTo)}),[b,e.jumpedTo]),Object(d.useEffect)((function(){if(m){var e,t=document.querySelectorAll("#"+m),n=Object(De.a)(Array.from(t).reverse());try{for(n.s();!(e=n.n()).done;){e.value.scrollIntoView({behavior:"smooth"})}}catch(a){n.e(a)}finally{n.f()}t.length&&b("")}}),[m,b]);var p=Object(d.useContext)(le);return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("div",{className:[sa.a.sidebar,sa.a.players].join(" "),children:Object(ae.jsxs)("div",{className:sa.a.stage,children:[Object(ae.jsx)(Ft,{name:"tournamentPlayers",setName:function(){},nameDict:{tournamentPlayers:{name:"Tournament Players"}}}),Object(ae.jsxs)("div",{className:["scrollable",sa.a.playersSection].join(" "),children:[p?o.length?null:Object(ae.jsx)("div",{className:sa.a.scoreSection,children:Object(ae.jsx)("div",{className:sa.a.playerLine,children:Object(ae.jsx)("div",{className:sa.a.sectionHeader,style:{gridArea:"firstName / firstName / submit / submit"},children:o.length?"Player List":"No players added yet"})})}):Object(ae.jsx)("div",{className:sa.a.skelWrapper,children:["","",""].map((function(e,t){return Object(ae.jsxs)("div",{className:[sa.a.playerLine,"hover",sa.a.skel].join(" "),children:[Object(ae.jsx)("div",{className:["playerInfo",sa.a.playerInfo,"hover"].join(" "),children:"\u200b"}),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("button",{name:"edit",className:sa.a.edit,children:"\u200b"}),Object(ae.jsx)("button",{name:"cancel",className:sa.a.cancel,children:"\u200b"})]})]},["skel",t].join("."))}))}),o]})]})})})}var oa=n(494),la=n.n(oa),ua=n(495),da=n.n(ua),ma=n(496);function ba(e){return 8*e+650}var pa=new(n.n(ma).a)(""),ja={new:{placeholder:"",input:function(e){return Promise.resolve([])},parse:function(e){return""},rating:function(e,t){return 0},getData:function(e){return{rating:0}}},ecf:{placeholder:"Last name, First name",input:function(e){return la.a.searchUsers(e,5,!0)},parse:function(e){return e?"".concat(e.name," (S:").concat(e.standard?e.standard.rating:"-","/R:").concat(e.rapidplay?e.rapidplay.rating:"-",")\n").concat(e.club):""},rating:function(e,t){return"FIDE"===t.ratingSystem?ba(e):e},getData:function(e){var t=e.standard.rating||e.rapidplay.rating,n=[e.firstName,e.middleName].join(" ");return e.type="ecf",{firstName:n,lastName:e.lastName,rating:t,account:e}}},fide:{placeholder:"Name or FIDE ID",input:function(e){return da.a.search(e,{nb:5})},parse:function(e){return e?"".concat(e.Name," (S:").concat(e["Std."],"/R:").concat(e["Rpd."],"/B:").concat(e["Blz."],") [").concat(e["B-Year"],"]"):""},rating:function(e,t){return"ECF"===t.ratingSystem?(n=e,Math.round((n-650)/8)):e;var n},getData:function(e){var t=e["Std."]||e["Rpd."]||e["Blz."],n=e.Name.split(", ").map((function(e){return e.trim()})),a=Object(g.a)(n,2),r=a[0],i=a[1];return e.type="fide",{firstName:i,lastName:r,rating:t,account:e}}},lichess:{placeholder:"Lichess username",input:function(e){return pa.users.search(e)},parse:function(e){return e?e.name:""},rating:function(e,t){return 0},getData:function(e){return e.type="lichess",{firstName:e.name,rating:0,account:e}}},chessCom:{placeholder:"Name or full Chess.com username",input:function(e){return pa.users.search(e)},parse:function(e){return e?"".concat(e.username," (").concat(e.title?"".concat(e.title,"/"):"").concat(e.name?"N:".concat(e.name,"/"):"","R:").concat(e.rating,") [").concat(e.country,"]"):""},rating:function(e,t){return 0},getData:function(e){var t;return e.type="chessCom",{firstName:null!==(t=e.name)&&void 0!==t?t:e.username,rating:e.rating,account:e}}}};function fa(e){var t=Object(d.useContext)(le),n=Object(d.useContext)(ie),a=Object(d.useMemo)((function(){return"individual"===n.competitors}),[n.competitors]),r=Object(d.useCallback)((function(t){var n=t.clipboardData.getData("text").toString();if(n.trim()&&(n.split("\n").length||!n.split(",").length||!n.split("\t").length)){t.preventDefault();var r=dn.a.parse(n,{delimitersToGuess:[",","\t"],dynamicTyping:!0,fastMode:!0});if(r.data.length>100)return console.error("Can't paste more than 100 players at once!");var i=r.data.map((function(e){var t=e,r=Object(g.a)(t,3),i=r[0],s=r[1],c=r[2];if(!a){var o=[].concat(Object(Se.a)(e),[""]),l=Object(g.a)(o,3);i=l[0],c=l[1],s=l[2]}if(!i||!s&&a||null===c||void 0===c)return null;try{if("string"!==typeof i)throw[i,"string"].join(",");if("string"!==typeof s&&a)throw[s,"string"].join(",");if("number"!==typeof c)throw[c,"number"].join(",");return{firstName:i,lastName:s,rating:c}}catch(d){if(!n.split("\n").length)return null;var u=d.split(",");return console.error(new TypeError("Bad input on row "+e.join(",")+"\n"+u[0]+" is not type "+u[1])),null}})).filter((function(e){return e}));L({url:"tournament/"+e.id+"/appendPlayers",data:i}).then((function(){return Promise.all([e.updatePlayerDict(),e.setPlayers()])}))}}),[e.id,a,e.updatePlayerDict,e.setPlayers]),i=Object(d.useReducer)((function(e,t){var n=e.slice(0);return n.splice(t.i,1,t.values),n}),[]),s=Object(g.a)(i,2),c=s[0],o=s[1],l=Object(d.useState)(1),u=Object(g.a)(l,2),m=u[0],b=u[1];Object(d.useEffect)((function(){var e=setTimeout((function(){return b(c.filter((function(e){return e.some((function(e){return e}))})).length+1)}),1e3);return function(){return clearTimeout(e)}}),[c]);var p=Object(d.useMemo)((function(){for(var a=[],i=function(i){a.push(Object(ae.jsx)(va,{id:e.id,i:!t||e.playerDict.size?i+1:i,player:null,settings:n,close:function(){},handleInput:function(e){return o({values:e,i:i})},onSubmit:function(t){return H(t).then((function(){var e=t.target;if(!e.reset)for(;e.parentElement&&!e.reset;)e=e.parentElement;e.reset&&e.reset();var n=e.firstName;n.focus&&n.focus()})).then((function(){return e.updatePlayerDict()}))},handlePaste:i?void 0:r,action:y.a.resolve(E,["tournament",e.id,"appendPlayer"].join("/"))},["newPlayerForm",i].join(".")))},s=0;s<m;s++)i(s);return a}),[m,o,e.updatePlayerDict,e.playerDict,t,e.id,a,r,n.checkForDuplicatePlayers]),j=Object(d.useState)("new"),O=Object(g.a)(j,2),v=O[0],x=O[1],_=function(e){var t=Object(d.useContext)(oe).setAlert,n=Object(d.useContext)(ie),a=Object(d.useMemo)((function(){return ja[e.source]}),[ja,e.source]),r=Object(d.useState)([]),i=Object(g.a)(r,2),s=i[0],c=i[1];return{handleInput:Object(d.useCallback)(function(){var t=Object(h.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return c([]),t.abrupt("return",[]);case 3:if(!N){t.next=9;break}return t.next=6,a.input(n).catch((function(e){return console.error(e),[]}));case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,F({url:He("fetch",e.source,"searchUsers"),params:{argument:n,nb:5,parse:!0}});case 11:t.t0=t.sent;case 12:return r=t.t0,c(r),t.abrupt("return",r);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[a,c]),parseUser:Object(d.useMemo)((function(){return a.parse}),[a]),handleSubmit:Object(d.useCallback)((function(r){var i=s.find((function(e){return e.id===r}));if(!i)return t({message:"Couldn't add new player: ".concat(r,"\nContact a developer if this problem persists"),type:"error"}),Promise.resolve();var c=a.getData(i);return c.rating=a.rating(c.rating,n),L({url:He("tournament",e.id,"appendPlayer"),data:c})}),[t,e.id,a,s,n]),placeholder:a.placeholder}}({id:e.id,source:v}),k=_.handleInput,w=_.parseUser,C=_.handleSubmit,S=_.placeholder,J=Object(d.useMemo)((function(){return Object(ae.jsx)(Ft,{name:v,setName:x,nameDict:{new:{icon:ne.Y},ecf:{name:"ECF",icon:Object(ae.jsx)("img",{id:"ecf",src:nn,alt:""}),hide:"individual"!==n.competitors},fide:{name:"FIDE",icon:Object(ae.jsx)("img",{id:"fide",src:an,alt:""}),hide:"individual"!==n.competitors},lichess:{name:"Lichess",icon:Object(ae.jsx)("img",{id:"lichess",src:tn,alt:""}),hide:"individual"!==n.competitors&&"online"!==n.media},chessCom:{name:"Chess.Com",icon:Object(ae.jsx)("img",{id:"chessCom",src:en,alt:""}),hide:"individual"!==n.competitors&&"online"!==n.media}}})}),[n,v,x]);return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("div",{className:A()(sa.a.sidebar,sa.a.newPlayers),children:Object(ae.jsxs)("div",{className:sa.a.stage,children:[J,"new"===v?Object(ae.jsx)("div",{className:A()("scrollable",sa.a.playersSection,Object(Ne.a)({},sa.a.skel,!t)),children:Object(ae.jsx)("div",{className:sa.a.scoreSection,children:p})}):Object(ae.jsx)(Pe,{onInput:k,onSubmit:function(t){return C(t).then(e.updatePlayerDict)},getName:w,showHistory:!1,styles:sa.a,placeholder:S,limit:5,className:sa.a.infoBox})]})})})}function ha(e){var t=Object(d.useContext)(le);return e.map((function(e,n){if(!e)return null;var a=e.name,r=e.icon,i=e.onClick;return e.hide?null:Object(ae.jsxs)("div",{onClick:i,className:["button",e.className,t?"":"skel"].join(" "),children:[r," ",a]},["button",n].join("."))}))}function ga(e){var t=Object(d.useCallback)(Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L({url:"/tournament/"+e.id+"/clearPlayers"});case 2:return t.next=4,e.updatePlayerDict();case 4:e.checkIfEnoughPlayers();case 5:case"end":return t.stop()}}),t)}))),[e.id,e.checkIfEnoughPlayers,e.updatePlayerDict]),n=Object(d.useCallback)(Object(h.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0===e.round){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t();case 4:e.updatePlayerDict();case 5:case"end":return n.stop()}}),n)}))),[t,e.updatePlayerDict,e.round]);return Object(ae.jsx)("div",{className:["bottomBannerBackground",sa.a.bottomBanner].join(" "),children:Object(ae.jsx)("div",{className:"bottomBanner",children:ha([{onClick:function(){return e.updateSetting("allowNewPlayers",!e.settings.allowNewPlayers)},icon:Object(ae.jsx)(ne.y,{},"edit"),name:e.round?e.settings.allowNewPlayers?"Stop Editing Players":"Edit":"New"},{onClick:n,icon:Object(ae.jsx)(ne.lb,{},"close"),name:"Clear all",hide:!!e.round||!Array.from(e.playerDict.keys()).length}])})})}function Oa(e){var t=Object(d.useState)(0),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useState)({}),s=Object(g.a)(i,2),c=s[0],o=s[1],l=Object(d.useState)({}),u=Object(g.a)(l,2),m=u[0],b=u[1],j=Object(d.useMemo)((function(){return!!e.settings.allowNewPlayers}),[a,e.settings.allowNewPlayers]),O=Object(d.useContext)(oe),A=O.startLoading,v=O.stopLoading,y=Object(d.useCallback)((function(t){return e.id?F({url:"/tournament/"+e.id+"/getState",params:{force:t}}).then((function(e){var t=e.round,n=e.players;return b(n),r(t),n})):Promise.resolve({})}),[e.id,b,r,A,v]);Object(d.useEffect)((function(){window.updatePlayerState=y}),[y]);var x=Object(d.useCallback)(function(){var t=Object(h.a)(f.a.mark((function t(n){var a,r,i,s,c,l,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1===n){t.next=6;break}return t.next=3,y();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=m;case 7:if(a=t.t0){t.next=10;break}return t.abrupt("return",Promise.resolve());case 10:for(r={},i=0,s=Object.entries(a);i<s.length;i++)c=Object(g.a)(s[i],2),l=c[0],u=c[1],r[l]=u.map((function(t){return e.playerDict.get(t)})).filter((function(e){return e}));o(r),e.checkIfEnoughPlayers(!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[y,e.playerDict,e.checkIfEnoughPlayers,m,e.stateKey]);return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(ca,Object(p.a)(Object(p.a)({},e),{},{round:a,setPlayers:x,players:c})),j?Object(ae.jsx)(fa,Object(p.a)(Object(p.a)({},e),{},{setPlayers:x})):null,Object(ae.jsx)(ga,Object(p.a)(Object(p.a)({},e),{},{round:a}))]})}function Aa(e){var t,n=Object(d.useContext)(ce);"number"!==typeof e.player.rating&&(e.player.rating=Number(e.player.rating));var a=Object(d.useReducer)((function(e,t){return"boolean"===typeof t?t:!e}),e.player.active),r=Object(g.a)(a,2),i=r[0],s=r[1];Object(d.useEffect)((function(){s(e.player.active)}),[s,e.player.active]);var c="";return e.player.histories[e.round]||(c="Unpaired"),e.player.isPlaying&&(c="Playing"),Object(ae.jsxs)("div",{id:e.player.id,className:sa.a.playerLine,children:[Object(ae.jsx)("div",{className:A()("playerInfo",sa.a.playerInfo,(t={},Object(Ne.a)(t,sa.a.full,e.round&&!e.allowNewPlayers),Object(Ne.a)(t,sa.a.playerInactive,!i),Object(Ne.a)(t,sa.a.isPlaying,e.player.isPlaying),Object(Ne.a)(t,sa.a.isUnpaired,i&&!e.player.histories[e.round]),t)),title:c,onClick:function(t){return e.setDisplayPlayer(t.target.parentElement.id)},children:n(e.player,["rating"])}),e.round&&!e.allowNewPlayers?null:Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("button",{name:"edit",className:sa.a.edit,onClick:e.editPlayer,children:Object(ae.jsx)(ne.T,{})}),i?Object(ae.jsx)("button",{name:"cancel",className:sa.a.cancel,onClick:function(t){s(),e.clearPlayer(t)},children:Object(ae.jsx)(ne.lb,{})}):Object(ae.jsx)("button",{name:"active",className:sa.a.activate,onClick:function(t){s(),e.activatePlayer(t)},children:Object(ae.jsx)(ne.l,{})})]})]})}function va(e){var t,n,a,r,i=Object(d.useRef)(),s=Object(d.useState)(void 0),c=Object(g.a)(s,2),o=c[0],l=c[1],u=Object(d.useCallback)((function(t){switch(t.keyCode){case 27:return e.close();case 13:if(!i.current)return;e.onSubmit(t)}}),[e.close]),m=Object(d.useContext)(oe).setAlert,b=Object(d.useCallback)((function(e){m({title:"How do I add new players?",message:Object(ae.jsxs)(ae.Fragment,{children:["Type in your players to get started.",Object(ae.jsxs)("ul",{children:[Object(ae.jsx)("li",{children:"If entering individuals, just write name and rating in the boxes!"}),Object(ae.jsx)("li",{children:"If entering teams, select Tournament type 'Team' in settings."}),Object(ae.jsx)("li",{children:"If entering usernames, currently select Tournament type 'Team' in settings. Support for usernames will be added later."}),Object(ae.jsx)("li",{children:"You can also add players via the 'ECF' tab"}),Object(ae.jsxs)("li",{children:["You can also paste names in by copying your data from an Excel spreadsheet (or any CSV location) and pasting it in the ",Object(ae.jsx)("span",{className:"bold",children:"top left"})," box of this section. It ",Object(ae.jsx)("span",{className:"bold",children:"MUST"})," be in the format ",Object(ae.jsx)("span",{className:"code",children:"firstName, lastName, rating"})," for each entry (or 3 Excel columns, where the first is firstName, second is lastName, and third is Rating). If in team mode, then the format takes only 2 columns. Format for a more user-friendly paste feature is coming soon."]})]}),"Once you have enough players begin your tournament!"]}),type:"info",tall:!0}),e.preventDefault()}),[m]),p=Object(d.useCallback)((function(t){u(t);t.target;var n=i.current;if(n){var a=Array.from(n.querySelectorAll("input"));e.handleInput&&e.handleInput(a.map((function(e){return e.value}))),a.filter((function(e){return e.required})).every((function(e){return""===e.value}))?l(void 0):a.filter((function(e){return e.required})).every((function(e){return e.checkValidity()}))?l(!0):l(!1)}}),[u,e.handleInput,i,l]);return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)("form",{target:"_self",onKeyDown:p,onSubmit:e.onSubmit,method:"POST",action:e.action,onInput:p,ref:i,className:A()(Object(Ne.a)({},sa.a.isActive,e.isActive)),children:[e.isActive?Object(ae.jsx)("div",{className:sa.a.shroud,onClick:e.close}):null,Object(ae.jsxs)("div",{className:A()(sa.a.playerLine,Object(Ne.a)({},sa.a.isActive,e.isActive)),children:[Object(ae.jsx)("input",{type:"text",className:[sa.a.input,e.settings.checkForDuplicatePlayers?"":sa.a.striped].join(" "),name:"firstName",required:!0,autoFocus:!e.i,placeholder:e.player?void 0:"individual"===e.settings.competitors?"First name":"Team name",defaultValue:null===(t=e.player)||void 0===t?void 0:t.firstName,onPaste:e.handlePaste,style:{gridArea:"individual"===e.settings.competitors?"firstName":"firstName / firstName / lastName / lastName"}}),Object(ae.jsx)("input",{type:"text",className:sa.a.input,name:"lastName",required:"individual"===e.settings.competitors,placeholder:e.player?void 0:"Last name",defaultValue:null===(n=e.player)||void 0===n?void 0:n.lastName,style:{gridArea:"lastName",display:"individual"===e.settings.competitors?"block":"none"}}),Object(ae.jsx)("input",{type:"number",className:sa.a.input,min:0,max:3200,name:"rating",required:"individual"===e.settings.competitors,placeholder:e.player?void 0:"individual"===e.settings.competitors?"Rating":"Av. Rating",defaultValue:null===(a=e.player)||void 0===a?void 0:a.rating,style:{gridArea:"edit"}}),Object(ae.jsx)("input",{type:"hidden",name:"id",value:null===(r=e.player)||void 0===r?void 0:r.id}),void 0===o?Object(ae.jsx)("button",{tabIndex:-1,className:[sa.a.info].join(" "),onClick:b,children:Object(ae.jsx)(ne.Z,{})}):!0===o?Object(ae.jsx)("button",{tabIndex:-1,className:[sa.a.submit].join(" "),children:Object(ae.jsx)(ne.l,{})}):Object(ae.jsx)("button",{tabIndex:-1,className:[sa.a.cancel].join(" "),onClick:function(e){i.current.reset(),p(e),e.preventDefault()},children:Object(ae.jsx)(ne.lb,{})})]})]})})}var ya=n(497),xa=n.n(ya);function _a(e){var t=e.players,n=Object(d.useCallback)((function(t){var n=t.target,a=n.value;if(a.trim()){var r=a.length,i=e.players.filter((function(t){return t.id!==e.player.id&&e.getDisplayName(t.id).toLowerCase().startsWith(a.toLowerCase())}))[0];if(i){var s=e.getDisplayName(i.id);n.value=s,n.select(),n.setSelectionRange(r,s.length,"forward")}}}),[t]);return Object(ae.jsx)("form",{target:"_self",onSubmit:e.onSubmit,method:"POST",action:e.action,children:Object(ae.jsxs)("div",{className:Ie.a.scoreSection,children:[Object(ae.jsx)("input",{type:"text",className:[sa.a.input,Ie.a.input].join(" "),name:"oppName",required:!0,placeholder:"Opponent name",onInput:n,autoComplete:"off",style:{gridArea:"round / round / GP / GP"},autoFocus:!0}),Object(ae.jsx)("button",{tabIndex:-1,className:sa.a.submit,style:{gridArea:"submit"},children:Object(ae.jsx)(Xn.b,{})})]})})}function ka(e){var t=e.requireLastName?[e.player.firstName,e.player.lastName].join(" "):e.player.firstName;return Object(ae.jsxs)("div",{id:e.player.id,className:[sa.a.playerLine,Ie.a.playerLine].join(" "),children:[Object(ae.jsx)("div",{className:["playerInfo"].join(" "),onClick:function(t){return e.setDisplayPlayer(t.target.parentElement.id)},children:t}),Object(ae.jsx)("button",{name:"cancel",className:[sa.a.cancel,Ie.a.cancel].join(" "),onClick:e.clearClash,children:Object(ae.jsx)(Xn.c,{})})]})}function Na(e){var t=Object(d.useState)(e.player.clashList||[]),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useMemo)((function(){return"individual"===e.settings.competitors}),[e.settings.competitors]),s=Object(d.useContext)(ce),c=Object(d.useCallback)(Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player&&e.id&&e.player.id){t.next=2;break}return t.abrupt("return");case 2:F({url:He("tournament",e.id,"fetchClashes"),params:{id:e.player.id}}).then(r);case 3:case"end":return t.stop()}}),t)}))),[e.id,r,e.player]),o=Object(d.useCallback)(function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",L({url:"/tournament/"+e.id+"/clearClash",data:{playerId:e.player.id,oppId:n}}).then(c));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e.id,e.player,c]),l=Object(d.useMemo)((function(){if(!e.playerDict.size)return null;for(var t=[],n=function(n){var r=e.playerDict.get(a[n]);if(!r)return"continue";t.push(Object(ae.jsx)(ka,{player:r,requireLastName:i,clearClash:function(){return o(r.id)},setDisplayPlayer:e.setDisplayPlayer},["clash",n].join(".")))},r=0;r<a.length;r++)n(r);return t}),[e.playerDict,a,o,e.setDisplayPlayer,i]);return Object(ae.jsxs)(ae.Fragment,{children:[l,Object(ae.jsx)(_a,{id:e.id,getDisplayName:s,onSubmit:function(t){t.preventDefault(),t.persist();var n=t.target,a=e.players.find((function(e){return s(e.id)===n.oppName.value}));return L({data:{playerId:e.player.id,oppId:a.id},url:n.action}).then((function(){t.target.reset()})).then(c)},player:e.player,players:e.players,action:y.a.resolve(E,["tournament",e.id,"createClash"].join("/"))})]})}function wa(e){var t=Object(d.useState)(e.player.bonuses||[]),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useCallback)(Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id&&e.player&&e.player.id){t.next=2;break}return t.abrupt("return");case 2:F({url:"/tournament/"+e.id+"/fetchBonuses",params:{id:e.player.id}}).then(r);case 3:case"end":return t.stop()}}),t)}))),[e.id,r,e.player]),s=Object(d.useCallback)(function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",L({url:"/tournament/"+e.id+"/clearBonus",data:{id:e.player.id,round:n}}).then((function(){i(),e.update(!0)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e.id,e.player,i,e.update]),c=m.a.useCallback((function(t){var n=t.bonus,a=t.i,r=Object(d.useState)(!1),c=Object(g.a)(r,2),o=c[0],l=c[1],u=Object(d.useRef)(null),m=Object(d.useCallback)((function(e){switch(e.keyCode){case 27:return l(!1);case 13:var t=u.current;if(!t)return;t.requestSubmit(),e.preventDefault()}}),[l]);return o?Object(ae.jsx)("form",{ref:u,target:"_self",onSubmit:function(t){t.persist(),t.preventDefault(),H(t).then((function(){t.target.reset()})).then((function(){i(),e.update(!0)}))},onKeyDown:m,method:"POST",action:y.a.resolve(E,["tournament",e.id,"updateBonus"].join("/")),children:Object(ae.jsxs)("div",{className:[Ie.a.scoreSection,"match"===e.settings.displayPoints?Ie.a.matchOnly:""].join(" "),children:[Object(ae.jsx)("input",{type:"hidden",name:"id",value:e.player.id}),Object(ae.jsx)("input",{type:"hidden",name:"round",value:n.round}),Object(ae.jsxs)("div",{className:["fieldBox"].join(" "),style:{gridArea:"round"},children:["Round: ",n.round]}),Object(ae.jsx)("input",{type:"number",className:[sa.a.input,Ie.a.input].join(" "),name:"MP",placeholder:"MP",defaultValue:n.MP,style:{gridArea:"MP"},step:.25,autoFocus:!0}),"game"===e.settings.displayPoints?Object(ae.jsx)("input",{type:"number",className:[sa.a.input,Ie.a.input].join(" "),name:"GP",placeholder:"GP",defaultValue:n.GP,style:{gridArea:"GP"},step:.25}):null,Object(ae.jsx)("button",{tabIndex:-1,className:sa.a.submit,style:{gridArea:"submit"},children:Object(ae.jsx)(Xn.b,{})})]})}):Object(ae.jsxs)("div",{id:e.player.id,className:[Ie.a.resultsRow,Ie.a.bonusRow,"match"===e.settings.displayPoints?Ie.a.matchOnly:""].join(" "),children:[Object(ae.jsxs)("div",{className:["fieldBox"].join(" "),style:{gridArea:"round"},children:["Round: ",n.round]}),Object(ae.jsxs)("div",{className:["fieldBox"].join(" "),style:{gridArea:"MP"},children:["MP: ",null!==n.MP?n.MP.toFixed(1):null]}),"game"===e.settings.displayPoints?Object(ae.jsxs)("div",{className:["fieldBox"].join(" "),style:{gridArea:"GP"},children:["GP: ",null!==n.GP?n.GP.toFixed(1):null]}):null,Object(ae.jsx)("button",{name:"edit",className:sa.a.edit,onClick:function(){return l(!0)},style:{gridArea:"edit"},children:Object(ae.jsx)(Xn.a,{})}),Object(ae.jsx)("button",{name:"cancel",className:sa.a.cancel,onClick:function(){return s(Number(n.round))},style:{gridArea:"submit"},children:Object(ae.jsx)(Xn.c,{})})]},["row","bonus",a].join("."))}),[a,s,e.settings.displayPoints,i]);return Object(ae.jsxs)(ae.Fragment,{children:[a.map((function(e,t){return Object(ae.jsx)(c,{bonus:e,i:t},["bonus",t].join(" "))})),Object(ae.jsx)("form",{target:"_self",onSubmit:function(t){t.persist(),t.preventDefault(),H(t).then((function(){t.target.reset()})).then((function(){i(),e.update(!0)}))},method:"POST",action:y.a.resolve(E,["tournament",e.id,"createBonus"].join("/")),children:Object(ae.jsxs)("div",{className:[Ie.a.scoreSection,"match"===e.settings.displayPoints?Ie.a.matchOnly:""].join(" "),children:[Object(ae.jsx)("input",{type:"hidden",name:"id",value:e.player.id}),Object(ae.jsx)("input",{type:"number",className:[sa.a.input,Ie.a.input].join(" "),name:"round",required:!0,placeholder:"Round",autoComplete:"off",min:1,max:e.settings.totalRounds,style:{gridArea:"round"}}),Object(ae.jsx)("input",{type:"number",className:[sa.a.input,Ie.a.input].join(" "),name:"MP",placeholder:"MP",style:{gridArea:"MP"},step:.25,autoFocus:!0}),"game"===e.settings.displayPoints?Object(ae.jsx)("input",{type:"number",className:[sa.a.input,Ie.a.input].join(" "),name:"GP",placeholder:"GP",style:{gridArea:"GP"},step:.25}):null,Object(ae.jsx)("button",{tabIndex:-1,className:sa.a.submit,style:{gridArea:"submit"},children:Object(ae.jsx)(Xn.b,{})})]})})]})}var Ca=Object.entries(Me.dict).map((function(e){var t=Object(g.a)(e,2),n=t[0];return{name:t[1],id:n}}));function Sa(e){return e?"Yes":!1===e?"No":""}function Ja(e){var t,n,a,r,i,s=Object(d.useState)(null),c=Object(g.a)(s,2),o=c[0],l=c[1],u=Object(d.useMemo)((function(){return Array.from(e.playerDict.values())}),[e.playerDict]),b=Object(d.useContext)(ce),j=Object(d.useState)(!1),f=Object(g.a)(j,2),h=f[0],O=f[1],v=Object(d.useState)(""),y=Object(g.a)(v,2),x=y[0],_=y[1],k=Object(d.useCallback)((function(t){e.id&&L({url:He("tournament",e.id,"createPlayerCode"),data:{id:e.displayPlayer,refresh:t}}).then(_)}),[e.id,e.displayPlayer,_]);Object(d.useEffect)((function(){h&&k()}),[k]);var N=bt({content:Object(d.useMemo)((function(){if(!h)return Object(ae.jsx)("span",{children:"\u200b"});var t="individual"===e.settings.competitors?"player":"team",n="team"===t?"team captain":t,a="".concat(T).concat(t,"/").concat(e.displayPlayer,"?claim=").concat(x);return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("p",{children:["Please tell your ",n," to claim using the following code:"]}),Object(ae.jsxs)("div",{className:Ie.a.li,children:[Object(ae.jsx)("span",{className:"code",children:x}),Object(ae.jsx)("button",{type:"button",className:A()(Ie.a.button,Ie.a.increment),onClick:function(){return k(!0)},title:"Refresh",children:Object(ae.jsx)(ne.jb,{})})]}),Object(ae.jsxs)("p",{children:["Alernatively, click the following link:",Object(ae.jsx)("br",{}),Object(ae.jsx)(st,{to:a,children:a}),Object(ae.jsx)("br",{}),"Do not share this link with anyone else!"]}),Object(ae.jsx)(xa.a,{value:a,size:150})]})}),[x,e.displayPlayer,h,k]),onMount:function(){return O(!0)},className:A()(Ie.a.desc,"scrollable")}),w=N.toggleHeight,C=N.description,S=Object(d.useCallback)((function(t){if(e.displayPlayer)return!1!==t?F({url:"/tournament/"+e.id+"/fetchPlayer",params:{id:e.displayPlayer,withClashes:!0,withBonuses:!0},noCatch:!0}).then((function(n){n.histories[0]||(n.histories[0]=null),l(n),t&&e.setPlayerDict({player:n,hash:Math.random().toString().slice(2,9)})})).catch((function(){return e.setDisplayPlayer("")})):void l(e.playerDict.get(e.displayPlayer));l(null)}),[e.displayPlayer,l,e.playerDict,e.id,e.setPlayerDict,e.setDisplayPlayer]);Object(d.useEffect)((function(){S()}),[S]);var J=Object(d.useCallback)((function(t,n,a,r){var i=Object(g.a)(t,2),s=i[0],c=i[1];if(s.startsWith("__"))return null;if("Playing"===s&&"string"===typeof c)return Object(ae.jsxs)("div",{className:Ie.a.row,children:[Object(ae.jsx)("div",{className:"fieldBox",children:s+":"}),Object(ae.jsx)("div",{className:"playerInfo",id:c,onClick:function(t){return e.setDisplayPlayer(t.target.id)},children:b(c)})]},["row",n].join("."));var l=[];return Array.isArray(c)&&(l=c.slice(1),c=c[0]),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{className:Ie.a.row,children:[Object(ae.jsx)("div",{className:"fieldBox",children:Qe("chessCom"===s?"Chess.com":s)+":"}),m.a.isValidElement(c)?c:"rating"===s.toLowerCase()||r?Object(ae.jsx)(pt,{content:"boolean"===typeof c?Sa(c):c,name:s,inputType:"number"===typeof c?"number":"text",url:E+["tournament",e.status.id,"updatePlayer"].join("/"),onSubmitSuccess:function(){return S(!0)},classNames:{editableField:"fieldBox"},show:{submit:!0,clear:!0},additionalInputProps:{id:o.id},children:Object(ae.jsx)("input",{type:"hidden",name:"id",value:o.id})}):Object(ae.jsx)("div",{className:"fieldBox",children:null!==c&&""!==c?c:"\u200b"}),l.length&&l.some((function(e){return void 0!==e}))?Object(ae.jsx)("button",{type:"button",value:"\u25bc",className:A()(Ie.a.button,Ie.a.increment),onClick:w,title:"Get Code",children:Object(ae.jsx)(ne.j,{})}):null]},["row",n].join(".")),l]})}),[e.setDisplayPlayer,b,o]),R=Object(d.useMemo)((function(){return u.reduce((function(e,t){return o?t.id===o.id?e:t.pool&&t.pool>e?t.pool:e:e}),0)}),[u,o]),B=o?{"Unique ID":o.id,Status:!1!==o.active?"Active":"Inactive",Rating:o.rating,Nationality:Object(ae.jsx)(pt,{content:o.nationality,url:E+["tournament",e.status.id,"updatePlayer"].join("/"),inputType:"text",onSubmitSuccess:function(){return S(!0)},handleClear:function(){return L({url:He("tournament",e.status.id,"updatePlayer"),data:{id:o.id,nationality:null}})},classNames:{editableField:"fieldBox"},name:"nationality",additionalInputProps:{id:o.id},show:{submit:!0,clear:!0},search:{options:Ca,getName:function(e){return e.name}}}),Claimed:[Sa(!!o.teamId),o.teamId?void 0:C],Pool:e.settings.usingPools?Object(ae.jsx)(pt,{content:(null===(t=o.pool)||void 0===t?void 0:t.toString())||"0",url:E+["tournament",e.status.id,"updatePlayer"].join("/"),inputType:"number",onSubmitSuccess:function(){return S(!0)},classNames:{editableField:"fieldBox"},name:"pool",show:{any:!0,increment:!0,clear:!0,submit:!0},additionalInputProps:{id:o.id,min:1,max:R+1},children:Object(ae.jsx)("input",{type:"hidden",name:"id",value:o.id})}):void 0,"Performance rating":e.settings.showRatings?o.performanceRating:void 0,Playing:o.isPlaying}:{},I=null===o||void 0===o?void 0:o.histories,D=o?(Math.max(o.histories.length,1)-1-(o.isPlaying?1:0)).toString():-1,P=o?o.histories.reduce((function(e,t){return t?e+=t.played:e}),0):-1,M=o?{Score:o.score.toString()+" / "+D,"Game score":o.gamePoints.toString()+" / "+P.toString(),"Expected score":o.expectedScore.toFixed(2),"Expected game score":o.expectedGameScore.toFixed(2)+" / "+P}:{};return e.settings.displayPoints||(delete M["Game score"],delete M["Expected game score"]),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{className:Ie.a.profileContainer,style:{display:o?"none":void 0},children:Object(ae.jsx)(Pe,{onSubmit:e.setDisplayPlayer,options:Array.from(e.playerDict.values()),getName:function(e){return b(e)},styles:Ie.a,showHistory:!0,cacheHistory:!0})}),o?Object(ae.jsxs)("div",{className:[Ie.a.profileContainer,"scrollable"].join(" "),children:[Object(ae.jsx)("div",{className:"sectionContainer",children:Object(ae.jsxs)("div",{className:Ie.a.infoSection,children:[Object(ae.jsx)("div",{className:Ie.a.row,children:Object(ae.jsx)(pt,{content:b(o),name:"name",inputType:"text",url:E+["tournament",e.status.id,"updatePlayer"].join("/"),onSubmitSuccess:function(){return S(!0)},additionalInputProps:{id:o.id},classNames:{container:["playerInfo",Ie.a.name].join(" ")},show:{submit:!0},children:Object(ae.jsx)("input",{type:"hidden",name:"id",value:o.id})})}),Object.entries(B).map(J)]})}),Object(ae.jsx)(Zt,{header:"Contact",useInternalState:!0,style:{gridColumn:"1 / span 2"},children:Object.entries(Object.assign({lichess:o.lichess,chessCom:o.chessCom,facebook:null===(n=o.contact)||void 0===n?void 0:n.facebook,twitter:null===(a=o.contact)||void 0===a?void 0:a.twitter,phone:null===(r=o.contact)||void 0===r?void 0:r.phone,email:null===(i=o.contact)||void 0===i?void 0:i.email},o.contact||{})).map((function(e,t,n){return J(e,t,n,!0)}))}),o.meta?Object(ae.jsx)(Zt,{header:"Information",useInternalState:!0,style:{gridColumn:"1 / span 2"},children:Object.entries(o.meta).concat([["notes",void 0]]).map((function(e,t,n){return J(e,t,n,!0)}))}):null,Object(ae.jsx)(Zt,{header:"Score",useInternalState:!0,style:{gridColumn:"1 / span 2"},children:Object.entries(M).map(J)}),e.settings.allowClashes?Object(ae.jsx)(Zt,{header:"Forbidden Pairings",useInternalState:!0,style:{gridColumn:"1 / span 2"},children:Object(ae.jsx)(Na,Object(p.a)(Object(p.a)({},e),{},{players:u,player:o}))}):null,Object(ae.jsx)(Zt,{header:"Results",useInternalState:!0,style:{gridColumn:"1 / span 2"},children:I.map((function(t,n){if(0===n||!t)return null;var a=t.id,r=t.colour,i=t[e.settings.displayPoints];return Object(ae.jsxs)("div",{className:Ie.a.resultsRow,children:[Object(ae.jsx)("div",{className:"fieldBox",children:n}),Object(ae.jsx)("div",{className:"playerInfo",id:a,onClick:function(t){return e.setDisplayPlayer(t.target.id)},children:b(a)}),Object(ae.jsx)("div",{className:"fieldBox",children:r||"\u200b"}),Object(ae.jsx)("div",{className:"fieldBox",children:"undefined"!==typeof i&&null!==i?i:"\u200b"})]},["row","history",n].join("."))}))}),e.settings.allowBonuses?Object(ae.jsx)(Zt,{header:"Bonus points",useInternalState:!0,style:{gridColumn:"1 / span 2"},children:Object(ae.jsx)(wa,Object(p.a)(Object(p.a)({},e),{},{players:u,player:o,update:S}))}):null]}):null]})}function Ra(e){var t=Object(d.useState)("core"),n=Object(g.a)(t,2),a=n[0],r=n[1],i=ft(Object.assign({},e,{mount:!!e.status.id})).SettingsRow,s=Object(d.useContext)(le),c=Object(d.useMemo)((function(){var t=Object.entries(tt);if(e.settings.tieBreaks){var n=e.settings.tieBreaks.split(",");t=t.sort((function(e,t){return n.includes(e[0])?n.includes(t[0])?n.indexOf(e[0])-n.indexOf(t[0]):-1:1}))}return t}),[e.settings.tieBreaks]);return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)("div",{className:[Ie.a.profileContainer,"scrollable",s?"":Ie.a.skel].join(" "),children:[Object.entries(at).map((function(t){var n=Object(g.a)(t,2),s=n[0],c=n[1];return s.startsWith("public")||s.startsWith("automation")?null:Object(ae.jsx)(Zt,{value:s,header:Qe(s),expanded:a===s||!e.status.id,setExpanded:function(e,t){return r(e?t:"")},children:Object.entries(c).map((function(t,n){var a=Object(g.a)(t,2),r=a[0],s=a[1];return!e.status.id&&n>3?null:Object(ae.jsx)(i,{k:r,def:s,i:n},["k",n].join("."))}))},s)})),Object(ae.jsx)(Zt,{value:"tiebreaks",header:"Tie Breaks",expanded:"tiebreaks"===a,setExpanded:function(e,t){return r(e?t:"")},children:Object(ae.jsx)(Mt,{className:Ie.a.tieBreaks,onSubmit:function(t){return e.updateSetting("tieBreaks",t.join(",")).then(e.updateState)},numbers:!0,children:c.map((function(e){var t=Object(g.a)(e,2),n=t[0],a=t[1];return a?Object(ae.jsx)("div",{id:n,className:A()("fieldBox",Ie.a.tb),children:a.name},n):Object(ae.jsx)("div",{id:n,className:A()("fieldBox",Ie.a.divider),children:"--- IGNORE ALL BELOW TIEBREAKS ---"},n)}))})}),Object(ae.jsx)(Xt,{})]})})}function Ba(e){var t=Object(d.useState)("automation"),n=Object(g.a)(t,2),a=n[0],r=n[1],i=ft(e).SettingsRow,s="automation";return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)("div",{className:[Ie.a.profileContainer,"scrollable"].join(" "),children:[Object(ae.jsx)(Zt,{value:s,header:Qe(s),expanded:a===s,setExpanded:function(e,t){return r(e?t:"")},children:Object.entries(at.automation).map((function(e,t){var n=Object(g.a)(e,2),a=n[0],r=n[1];return Object(ae.jsx)(i,{k:a,def:r,i:t},["k",t].join("."))}))},s),Object(ae.jsx)(Xt,{})]})})}function Ia(e){for(var t=ft(e).SettingsRow,n=Object(d.useCallback)((function(t){return L({url:"/tournament/"+e.status.id+"/clearRound",data:{round:t}})}),[e.status.id]),a=Object(d.useCallback)((function(t){return Object(ae.jsxs)("div",{className:[Ie.a.row,Ie.a.roundRow].join(" "),children:[Object(ae.jsx)("div",{className:"fieldBox",children:"Round ".concat(t,":")}),Object(ae.jsx)(pt,{handleClear:function(){return n(t)},content:e.rounds[t]?e.rounds[t].toString():"",defaultEditContent:new Date(Date.now()).toString(),url:y.a.resolve(E,["tournament",e.status.id,"updateRound"].join("/")),inputType:"datetime-local",onSubmitSuccess:e.updateRounds,classNames:{editableField:Ie.a.editableField,input:Ie.a.input},additionalInputProps:{},name:"round."+t.toString(),show:{submit:!0,increment:!1,clear:!0},handleSubmit:function(t,n){if(isNaN(new Date(n).valueOf()))return Promise.reject();var a=t.split(".").pop();return L({url:y.a.resolve(E,["tournament",e.status.id,"updateRound"].join("/")),data:Object(Ne.a)({},Number(a),new Date(n).toISOString())})},useHandleSubmit:!0})]},["row",t].join("."))}),[e.updateSetting,e.rounds,e.status.id,e.updateRounds]),r=[],i=e.settings.totalRounds===1/0||"Infinity"===e.settings.totalRounds?Math.max(e.rounds.length,1):e.settings.totalRounds,s=1;s<=i;s++)r.push(s);return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)("div",{className:[Ie.a.profileContainer,"scrollable"].join(" "),children:[Object(ae.jsx)(Zt,{value:"public",header:"Information",useInternalState:!0,expanded:!0,children:Object.entries(at.public).map((function(e,n){var a=Object(g.a)(e,2),r=a[0],i=a[1];return Object(ae.jsx)(t,{k:r,def:i,i:n},["k",n].join("."))}))},"public"),Object(ae.jsx)(Zt,{value:"permissons",header:"Permissions",useInternalState:!0,expanded:!0,children:Object.entries(at.public_permissions).map((function(e,n){var a=Object(g.a)(e,2),r=a[0],i=a[1];return Object(ae.jsx)(t,{k:r,def:i,i:n},["k",n].join("."))}))},"permissions"),e.settings.roundTimes?Object(ae.jsx)(Zt,{value:"rounds",header:"Rounds",useInternalState:!0,expanded:!0,children:r.map(a)},"rounds"):null,Object(ae.jsx)(Zt,{value:"profile",header:"Profile",useInternalState:!0,expanded:!0,children:Object(ae.jsxs)("div",{className:Ie.a.baseContainer,children:[Object(ae.jsx)("div",{className:Ie.a.profilePictureFrame,children:Object(ae.jsx)("img",{className:Ie.a.profilePicture,src:e.settings.logoURL||on,alt:"Invalid image URL"})}),Object(ae.jsx)(pt,{handleSubmit:function(t,n){return e.updateSetting(t,n)},content:e.settings.description,url:y.a.resolve(E,["tournament",e.status.id,"updateSetting"].join("/")),inputType:"textarea",classNames:{form:Ie.a.description,editableField:[Ie.a.editableField,Ie.a.descriptionDiv].join(" "),input:[Ie.a.input,"scrollable"].join(" ")},name:"description",additionalInputProps:{},show:{submit:!0,reset:!0},useHandleSubmit:!0})]})},"profile"),Object(ae.jsx)(Xt,{})]})})}Ja.whyDidYouRender=!0;var Da=n(61),Pa=n.n(Da),Ea=n(28),Ta=n.n(Ea),Ma=Object.values(at).reduce((function(e,t){for(var n=0,a=Object.entries(t);n<a.length;n++){var r=Object(g.a)(a[n],2),i=r[0],s=r[1];e[i]=s.defaultValue}return e}),{}),Fa={sevenRoundTeamSwiss:{name:"7-Round Team Swiss",icon:Object(ae.jsx)(ne.Y,{}),settings:{pairingSystem:"swiss",competitors:"team",totalRounds:7,displayPoints:"match",gamePointTotal:0,public:!0,timeControl:"10+5",source:"chessCom",pullResults:2,allowSelfLinks:3,byeGameReward:2,showRatings:!1,publishPairings:!0}},individualRoundRobin:{name:"Individual Round-Robin",icon:rn,settings:{pairingSystem:"round-robin",competitors:"individual"}},teamRoundRobinWithPools:{name:"Team Round-Robin with Pools",icon:Object(ae.jsx)(At.c,{}),settings:{pairingSystem:"round-robin",competitors:"individual",usingPools:!0,displayPoints:"game",gamePointTotal:0,poolDisplay:0,source:"chessCom",pullResults:2,allowSelfLinks:3,showRatings:!1}},fideSwissTournament:{name:"FIDE Swiss Tournament",icon:an,settings:{pairingSystem:"swiss",competitors:"individual",totalRounds:6,ratingSystem:"FIDE",checkForDuplicatePlayers:!0,allowClashes:!1,allowBonuses:!1,performanceSystem:"FIDE",byeGameReward:2}},selfSignUp:{name:"Individual with Registration",icon:Object(ae.jsx)(ne.rb,{}),settings:{pairingSystem:"swiss",competitors:"individual",totalRounds:7,ratingSystem:"FIDE",checkForDuplicatePlayers:!0,allowRegistration:"open"}},knockout:{name:"Knockout Bracket",icon:Object(ae.jsx)(ne.eb,{}),settings:{pairingSystem:"knockout",displayPoints:"match",usingPools:!1,allowBonuses:!1}}};function La(e){var t=Object(d.useState)("main"),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useState)(""),s=Object(g.a)(i,2),c=s[0],o=s[1],l=Object(d.useReducer)((function(e,t){return"reset"===t?{}:Object.assign({},e,t)}),{}),u=Object(g.a)(l,2),b=u[0],p=u[1],j=Object(d.useMemo)((function(){return Object.assign({},Ma,e.defaultSettings,b,{name:c})}),[e.defaultSettings,c,b]),O=Object(d.useContext)(oe).setAlert,v=ft({updateTournamentSettings:function(){return Promise.resolve()},updateSetting:function(e,t){return"name"===e?Promise.resolve(o(t)):Promise.resolve(p(Object(Ne.a)({},e,t)))},status:{round:0,name:void 0,id:"",active:!0},settings:j,triggerError:function(e){return O({message:e,type:"error"})},players:[],resize:!1,isIntro:!0}).SettingsRow,y=Object(d.useCallback)(Object(h.a)(f.a.mark((function t(){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L({url:"/initialise",data:Object.assign({},b,{name:c})});case 3:if(n=t.sent){t.next=6;break}throw new Error;case 6:e.setTournamentID(n),e.setMode("tournament"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),(a=t.t0).response&&401!==a.response.status||e.endSession();case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e.setTournamentID,b,c,e.endSession]),x=Object(d.useReducer)((function(e,t){return"boolean"===typeof t?t:!e}),!1),_=Object(g.a)(x,2),k=_[0],N=_[1],w=Object(d.useMemo)((function(){var e=Object.entries(at),t=e.findIndex((function(e){return"automation"===Object(g.a)(e,1)[0]})),n=e.splice(t,1)[0];return e.splice(1,0,n),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{className:Pa.a.section},["section","first"].join(".")),Object(ae.jsx)(v,{k:"name",def:{name:"Tournament name",type:"string"},i:0}),e.map((function(e,t){var n=Object(g.a)(e,2),a=n[0],r=n[1];return a.startsWith("stats")||a.includes("hidden")||a.startsWith("public")&&!j.public?null:Object(ae.jsxs)(m.a.Fragment,{children:["permissions"===a?Object(ae.jsxs)("div",{className:A()(Pa.a.section,Pa.a.divider),onClick:N,children:[Object(ae.jsx)("hr",{}),Object(ae.jsx)(ne.a,{className:A()(Pa.a.angle,Object(Ne.a)({},Pa.a.rotated,k))}),"ADVANCED SETTINGS",Object(ae.jsx)("hr",{})]}):null,Object(ae.jsxs)("div",{className:A()(Pa.a.set,Object(Ne.a)({},Pa.a.collapsed,("permissions"===a||"points"===a)&&!k)),children:[Object(ae.jsx)("div",{className:Pa.a.section,children:a.split("_").map(Qe).join(" ")},["section",a].join(".")),Object.entries(r).map((function(e,t){var n=Object(g.a)(e,2),a=n[0],r=n[1];return r.locked?null:Object(ae.jsx)(v,{k:a,def:r,i:t+1},["k",t].join("."))}))]})]},A()(a,t))}))]})}),[v,k,N]),C=Object(d.useMemo)((function(){return Object(ae.jsx)("div",{className:Pa.a.templates,children:Object.values(Fa).map((function(e,t){return Object(ae.jsxs)("div",{className:"button",onClick:function(){p(e.settings),N(!0),r("main")},children:["string"===typeof e.icon?Object(ae.jsx)("img",{src:e.icon}):e.icon,e.name]},["template",t].join("."))}))})}),[]);return Object(ae.jsx)("div",{className:["container",Pa.a.container,Ta.a.container,Ta.a.tall].join(" "),children:Object(ae.jsxs)("div",{className:Ta.a.alertBox,children:[Object(ae.jsx)("div",{className:Ta.a.title,children:"Create New Tournament"}),Object(ae.jsxs)("div",{className:[Ta.a.textBox,Pa.a.content,"scrollable"].join(" "),children:[Object(ae.jsxs)("div",{className:Ta.a.buttonRow,children:[Object(ae.jsxs)("button",{className:["button","main"===a&&Object.keys(b).some((function(e){return b[e]!==Ma[e]}))?"":"null"].join(" "),onClick:function(){return p("reset")},children:[Object(ae.jsx)(ne.F,{}),"Use defaults"]}),"main"===a?Object(ae.jsxs)("button",{className:["button"].join(" "),onClick:function(){return r("templates")},children:[Object(ae.jsx)(ne.U,{}),"Use a template"]}):Object(ae.jsxs)("button",{className:["button"].join(" "),onClick:function(){return r("main")},children:[Object(ae.jsx)(At.b,{}),"Back"]}),Object(ae.jsxs)("button",{className:["button","null","main"!==a?"null":""].join(" "),onClick:y,children:[Object(ae.jsx)(ne.K,{}),"Walk me through"]})]}),"main"===a?w:C]}),Object(ae.jsxs)("div",{className:Ta.a.buttonRow,children:[Object(ae.jsxs)("button",{className:[Ta.a.NO,"button"].join(" "),onClick:function(){return e.setMode("menu")},children:[Object(ae.jsx)(At.b,{}),"BACK"]}),Object(ae.jsxs)("button",{className:[Ta.a.YES,"button"].join(" "),onClick:y,children:[Object(ae.jsx)(ne.n,{}),"CREATE"]})]})]})})}function Ha(e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),t.eventName=e,document.dispatchEvent(t)}function Ua(e){var t=!!e.id,n=e.updatePlayerDict,a=Object(d.useState)({}),r=Object(g.a)(a,2),i=r[0],s=r[1],c=Object(d.useState)({}),o=Object(g.a)(c,2),l=o[0],u=o[1],m=Object(d.useState)([]),b=Object(g.a)(m,2),p=b[0],j=b[1],f=Object(d.useState)([]),h=Object(g.a)(f,2),O=h[0],A=h[1],v=Object(d.useCallback)((function(){return F({url:"/tournament/"+e.id+"/getStatus"}).then((function(e){s(e),function(e){Qa.apply(this,arguments)}(e)}))}),[e.id,s]),y=Object(d.useCallback)((function(){return F({url:"/tournament/"+e.id+"/getSettings"}).then(u)}),[e.id,u]),x=Object(d.useCallback)((function(){return F({url:"/tournament/"+e.id+"/getAnnouncements"}).then((function(e){return j([void 0].concat(Object(Se.a)(e)))}))}),[e.id,j]),_=Object(d.useCallback)((function(t,n,a){var r;return L({url:"tournament/"+e.id+"/updateSetting",data:(r={},Object(Ne.a)(r,t,n),Object(Ne.a)(r,null===a||void 0===a?void 0:a.linked,(null===a||void 0===a?void 0:a.linked)?n:void 0),r)}).then(y)}),[e.id,y]),k=Object(d.useCallback)((function(){return F({url:"/tournament/"+e.id+"/fetchRounds"}).then(A)}),[e.id,A]),N=Object(d.useCallback)((function(){if(t)return Promise.all([k(),v(),y(),x(),n(!0)]).then((function(){}))}),[t,k,v,y,v,k]);return{status:i,settings:l,announcements:p,rounds:O,updateTournamentStatus:v,updateTournamentSettings:y,updateAnnouncements:x,updateSetting:_,updateRounds:k,load:N}}function Qa(){return(Qa=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({id:t.id,name:t.name}),e.next=3,P.set("lastOpened",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ga(e){var t=Object(d.useCallback)((function(){return L({url:["","tournament",e.id,"syncPlayer"].join("/"),data:{id:e.displayPlayer}}).then((function(t){return e.modifyPlayerDict(t,Math.random().toString().slice(2,9))}))}),[e.id,e.displayPlayer,e.modifyPlayerDict]);return Object(ae.jsx)("div",{className:["bottomBannerBackground",Ie.a.bottomBanner].join(" "),children:Object(ae.jsx)("div",{className:"bottomBanner",children:ha([{name:"Sync profile",icon:Object(ae.jsx)(ne.jb,{},"sync"),onClick:t,hide:!e.displayPlayer},{name:"Close profile",className:Ie.a.close,icon:Object(ae.jsx)(ne.lb,{},"close"),onClick:e.clearDisplayPlayer,hide:!e.displayPlayer}])})})}var Va=n(498),Ka=n.n(Va),Wa=["red","blue","green","pink","yellow","orange","white","purple","cyan","lime"],Ya=function(){function e(t,n,a,r,i){Object(R.a)(this,e),this.nodes=t,this.diameter=n,this.centreX=a,this.centreY=r,this.iteration=i,this.size=5}return Object(B.a)(e,[{key:"colour",get:function(){return Wa[this.iteration]}},{key:"deg",get:function(){return 2*Math.PI/this.nodes}},{key:"cx",get:function(){return this.diameter*Math.sin(this.iteration*this.deg)+this.centreX}},{key:"cy",get:function(){return-this.diameter*Math.cos(this.iteration*this.deg)+this.centreY}},{key:"element",get:function(){return Object(ae.jsx)("circle",{style:{fill:this.colour},cx:this.cx,cy:this.cy,r:this.size,pathLength:10})}}]),e}();function za(e){var t=Object(d.useState)(8),n=Object(g.a)(t,2),a=n[0],r=(n[1],Object(d.useState)(10)),i=Object(g.a)(r,2),s=i[0],c=(i[1],Object(d.useState)(100)),o=Object(g.a)(c,2),l=o[0],u=(o[1],Object(d.useState)(5)),b=Object(g.a)(u,2),p=b[0],j=(b[1],Object(d.useCallback)((function(e){for(var t=[],n=0;n<s;n++){var a=new Ya(s,l,e[0],e[1],n);t.push(a.element)}return t}),[s,p,l])),f=Object(d.useMemo)((function(){for(var e=Math.floor(window.innerWidth/(2*l+20)),t=[],n=0;n<a;n++){var r=Math.floor(n/e)+.5,i=2*(n%e+.5)*(l+20),s=r*(2*l+20);t.push(Object(ae.jsxs)(m.a.Fragment,{children:[Object(ae.jsx)("circle",{cx:i,cy:s,r:l,pathLength:10,style:{fill:"none",stroke:"black",strokeWidth:"4px"}}),j([i,s])]},A()("stage",n)))}return t}),[a,j,l,20]);return Object(ae.jsx)(Rt,{id:"pairings",className:e.className,children:Object(ae.jsx)("svg",{className:Ka.a.svg,width:"100%",height:"100%",children:f})})}var qa=[30.8,38.4,30.8];function Xa(e){var t=Object(d.useMemo)((function(){return!!e.id}),[e.id]),n=function(e){var t=Object(d.useState)(qa),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useMemo)((function(){return a.reduce((function(e,t){var n;return e.push((null!==(n=e[e.length-1])&&void 0!==n?n:0)+t),e}),[]).slice(0,-1)}),[a]),s=Object(d.useCallback)(Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("columns");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:r(t.split(",").map((function(e){return Number(e)})));case 6:case"end":return e.stop()}}),e)}))),[r]),c=Object(d.useState)(a),o=Object(g.a)(c,2),l=o[0],u=o[1],m=Object(d.useCallback)((function(){e&&JSON.stringify(a)!==JSON.stringify(l)&&(P.set("columns",a.map((function(e){return e.toString()})).join(",")),u(a))}),[a]);return{columns:a,setColumns:r,boundaries:i,loadColumns:s,cacheColumns:m}}(t),a=n.columns,r=n.setColumns,i=n.boundaries,s=n.loadColumns,c=n.cacheColumns;Object(d.useEffect)((function(){s()}),[s]),Object(d.useEffect)((function(){c()}),[c]);var o=function(e){var t=e.columns,n=e.setColumns,a=e.boundaries,r=Object(d.useReducer)((function(e,t){return t||""}),""),i=Object(g.a)(r,2),s=i[0],c=i[1],o=Object(d.useState)("settings"),l=Object(g.a)(o,2),u=l[0],m=l[1],b=Object(d.useState)(!1),p=Object(g.a)(b,2),j=p[0],f=p[1],h=Object(d.useCallback)((function(e){return f(null!==e&&void 0!==e?e:!j)}),[j]),O=Object(d.useState)(""),A=Object(g.a)(O,2),v=A[0],y=A[1],x=Object(d.useCallback)((function(e,r){if(!1!==r&&100===a[a.length-1]){var i=t.slice(0);return i[i.length-1]=qa[i.length-1],i[i.length-2]<qa[i.length-2]?i=qa:i[i.length-2]=i[i.length-2]-qa[i.length-1],n(i),!0}return"boolean"===typeof r?r:!e}),[t,a]),_=Object(d.useReducer)(x,!0),k=Object(g.a)(_,2),N=k[0],w=k[1],C=Object(d.useCallback)((function(e,a){if(0===t[0]){var r=t.slice(0);return r[0]=qa[0],r[1]<qa[0]?r=qa:r[1]=r[1]-qa[0],n(r),!0}return"boolean"===typeof a?a:!e}),[t,n]),S=Object(d.useReducer)(C,!0),J=Object(g.a)(S,2),R=J[0],B=J[1],I=Object(d.useState)(""),D=Object(g.a)(I,2),P=D[0],E=D[1],T=Object(d.useCallback)((function(e){N||w(!0),"player"!==u&&m("player"),E(e)}),[E,u,m,N,w]);return{mode:s,setMode:c,switchMode:j,switchPairings:h,stateKey:v,setStateKey:y,rightTab:u,setRightTab:m,showRightTab:N,toggleRightTab:w,sidebar:R,toggleSidebar:B,displayPlayer:P,setDisplayPlayer:T}}({columns:a,setColumns:r,boundaries:i}),l=o.mode,u=o.setMode,m=o.switchMode,b=o.switchPairings,p=o.stateKey,j=o.setStateKey,O=o.rightTab,v=o.setRightTab,y=o.showRightTab,x=o.toggleRightTab,_=o.sidebar,k=o.toggleSidebar,N=o.displayPlayer,w=o.setDisplayPlayer;!function(e){var t=e.columns,n=e.boundaries,a=e.setColumns,r=e.toggleSidebar,i=e.toggleRightTab,s=e.shouldRun,c=Object(d.useState)(0),o=Object(g.a)(c,2),l=o[0],u=o[1],m=Object(d.useState)(0),b=Object(g.a)(m,2),p=b[0],j=b[1],f=Object(d.useCallback)((function(e){var s=(e.x-70)/(window.innerWidth-70)*100;if(p){var c=t.slice(0,p-1).reduce((function(e,t){return e+t}),0),o=c+t[p-1]+t[p],l=s-c,d=o-s;l<2?(d+=l,l=0,1===p&&r(!1),Ha("mouseup")):d<2&&(l+=d,d=0,p===t.length-1&&(Ha("mouseup"),i(!1))),t[p-1]=l,t[p]=d,a(t.slice(0))}else{var m=n.findIndex((function(e){return Math.abs(e-s)<.4}));(0===m&&0===n[0]||m===n.length-1&&100===n[n.length-1])&&(m=-1),u(m+1)}}),[p,t,u,a,n,r,i]);Object(d.useEffect)((function(){if(s)return document.addEventListener("mousemove",f),function(){return document.removeEventListener("mousemove",f)}}),[p,f,s]),Object(d.useEffect)((function(){if(s&&l){var e=function(){return j(l)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}}),[l,j,s]),Object(d.useEffect)((function(){if(s){var e=function(){return j(0)};return document.addEventListener("mouseup",e),function(){return document.removeEventListener("mouseup",e)}}}),[l,j,s])}({columns:a,boundaries:i,setColumns:r,toggleSidebar:k,toggleRightTab:x,shouldRun:t&&!l});var C=function(e){var t=e.id,n=e.displayPlayer,a=e.setDisplayPlayer,r=Object(d.useState)([]),i=Object(g.a)(r,2),s=i[0],c=i[1],o=Object(d.useState)(!1),l=Object(g.a)(o,2),u=l[0],m=l[1],b=Object(d.useState)(Date.now()),p=Object(g.a)(b,2),j=p[0],f=p[1],h=Object(d.useCallback)((function(e,t){if(t.id)return e.delete(t.id),t.id===n&&a(""),e;var r;t.players?(e=new Map,r=t.players):r=[t.player];var i,s=Object(De.a)(r);try{for(s.s();!(i=s.n()).done;){var c=i.value;e.set(c.id,c)}}catch(o){s.e(o)}finally{s.f()}return new Map(e)}),[a,n,j]),O=Object(d.useReducer)(h,new Map),A=Object(g.a)(O,2),v=A[0],y=A[1];return{players:s,setDictTimeout:u,playerDict:v,updatePlayerDict:Object(d.useCallback)((function(e){return!e&&Date.now()-j<3e3?(f(Date.now()),m(!0),Promise.resolve()):F({url:"/tournament/"+t+"/fetchPlayers"}).then((function(e){f(Date.now()),m(!1),c(e),y({players:e})}))}),[t,c,y,j]),setPlayerDict:y}}({id:e.id,displayPlayer:N,setDisplayPlayer:w}),S=C.players,J=C.setDictTimeout,R=C.playerDict,B=C.setPlayerDict,I=C.updatePlayerDict,D=Ua({id:e.id,updatePlayerDict:I}),E=D.status,T=D.settings,M=D.announcements,L=D.rounds,H=D.load,U=D.updateTournamentStatus,Q=D.updateTournamentSettings,G=D.updateSetting,V=D.updateRounds,K=D.updateAnnouncements,W=function(e){var t=e.players,n=e.playerDict,a=Object(d.useState)(0),r=Object(g.a)(a,2),i=r[0],s=r[1],c=Object(d.useState)(!1),o=Object(g.a)(c,2),l=o[0],u=o[1],m=Object(d.useCallback)(Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t.filter((function(e){return!1!==e.active})).length>=2);case 1:case"end":return e.stop()}}),e)}))),[t,u]),b=Object(d.useState)(""),p=Object(g.a)(b,2),j=p[0],O=p[1],A=Object(d.useState)([]),v=Object(g.a)(A,2),y=v[0],x=v[1],_=Object(d.useState)(void 0),k=Object(g.a)(_,2),N=k[0],w=k[1],C=Object(d.useCallback)((function(e){var t,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return"\u200b";if("bye"===e)return"BYE";if("string"!==typeof e){if("bye"===(a=e).id||"BYE"===a.id)return"BYE"}else if(!(a=n.get(e)))return e;t=a.name.trim();var i={rating:"(".concat(a.rating,")"),score:"[".concat(a.score,"]")};return[t,Object.entries(i).filter((function(e){var t=Object(g.a)(e,1)[0];return r.includes(t)})).map((function(e){return e[1]}))].join(" ")}),[n]),S=Object(d.useReducer)((function(e,t){return Object.assign({},e,t)}),Kt.reduce((function(e,t){return e[t.key]="defaultValue"in t?t.defaultValue:void 0,e}),{})),J=Object(g.a)(S,2),R=J[0],B=J[1],I=Object(d.useState)(!0),D=Object(g.a)(I,2),P=D[0],E=D[1],T=Object(d.useReducer)((function(e){return e+1}),-1),M=Object(g.a)(T,2);return{nextRound:l,checkIfEnoughPlayers:m,lastRoundOverride:N,setLastRound:w,getDisplayName:C,search:O,currSearch:j,filteredPairings:y,filterPairings:x,userRound:i,setRound:s,pairingFilters:R,setFilters:B,outstandingIndex:M[0],nextOutstanding:M[1],canSetOutstanding:P,setOutstanding:E}}({players:S,playerDict:R}),Y=W.nextRound,z=W.checkIfEnoughPlayers,q=W.lastRoundOverride,X=W.setLastRound,Z=W.getDisplayName,$=W.search,ee=W.currSearch,te=W.filteredPairings,oe=W.filterPairings,me=W.userRound,be=W.setRound,pe=W.pairingFilters,je=W.setFilters,fe=W.outstandingIndex,he=W.nextOutstanding,ge=(W.canSetOutstanding,W.setOutstanding);Object(d.useEffect)((function(){if(J){var e=setTimeout(I,5e3);return function(){return clearTimeout(e)}}}),[J,I]),Object(d.useEffect)((function(){H()}),[H]);var Oe=Object(d.useMemo)((function(){return{gridTemplateColumns:"70px ".concat(a[0],"fr 0.5px ").concat(a[1],"fr 0.5px ").concat(a[2],"fr")}}),[a]),Ae=Object(d.useState)("skeleton"),ve=Object(g.a)(Ae,2),ye=ve[0],xe=ve[1];if(l){var _e=e.id,ke=function(){return u()};return Object(ae.jsx)(re,{values:[[ie,T],[se,R],[ue,u],[ce,Z]],children:Object(ae.jsx)("div",{className:Ce.a.background,children:Object(ae.jsx)("div",{className:Ce.a.tournament,children:function(){switch(l){case"settings":return Object(ae.jsx)(ln,{leave:ke,updateSetting:G,status:E,settings:T,setLastRound:X,players:S,updateRounds:V,rounds:L,updateTournamentSettings:Q,triggerError:e.triggerError,updateState:function(){return j(Math.random().toString(16).slice(2,9))}});case"crossTable":return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(Cn,{leave:ke,status:E,players:S,settings:T,setDisplayPlayer:w,rightTab:y,toggleRightTab:x,closeTabOnLoad:!1}),y?Object(ae.jsxs)("div",{className:Ce.a.profile,children:[Object(ae.jsx)(Ft,{name:O,setName:function(e){return v(e)},nameDict:{player:{icon:ne.qb,name:"Profile"}}}),Object(ae.jsx)(Ja,{id:_e,displayPlayer:N,status:E,setDisplayPlayer:w,playerDict:R,settings:T,setPlayerDict:B})]}):null]});case"pasteInput":return Object(ae.jsx)(An,{id:_e,leave:ke,status:E,settings:T,updatePlayerDict:I,players:S});case"announcements":return Object(ae.jsx)(xn,{id:_e,initialA:M.length-1,prev:M,leave:function(){K(),u("")}});case"pairings":return Object(ae.jsx)(za,{});case"export":return Object(ae.jsx)(Vn,{players:S,status:E});case"knockout":return Object(ae.jsx)(Yn,{id:_e,status:E,settings:T,setDisplayPlayer:w,leave:ke});case"sort":return Object(ae.jsx)(Gt,{players:S,updatePlayerDict:I});default:return null}}()})})})}return Object(ae.jsx)(re,{values:[[ie,T],[se,R],[ue,u],[le,!!T.pairingSystem],[ce,Z],[de,{nextButton:ye,setNextButton:xe}]],children:Object(ae.jsxs)("div",{className:A()(Ce.a.tournament),style:Oe,children:[Object(ae.jsx)("div",{id:Ce.a.left,className:Ce.a.resizer}),Object(ae.jsx)("div",{id:Ce.a.right,className:Ce.a.resizer}),_?Object(ae.jsx)(Oa,{id:e.id,jumpedTo:ee,playerDict:R,updatePlayerDict:I,setPlayerDict:B,settings:T,setDisplayPlayer:w,checkIfEnoughPlayers:z,updateSetting:G,stateKey:p}):null,Object(ae.jsx)(Yt,{setMode:u,userRound:me,load:H,status:E,settings:T,setLastRound:X,lastRoundOverride:q,switchMode:m,switchPairings:b,setFilters:je,pairingFilters:pe,players:S,updatePlayerDict:I,closeTournament:e.closeTournament,checkForUpdates:e.checkForUpdates,triggerError:e.triggerError,canReset:!a.every((function(e,t){return qa[t]===e})),resetColumns:function(){r(qa),x(!0),k(!0)}}),Object(ae.jsx)(ht,{userRound:me,setRound:be,filterPairings:oe,status:E,settings:T,updateTournamentStatus:U,lastRoundOverride:q,players:S,switchPairings:b,totalRounds:T.totalRounds,search:function(e){$(e),w(e)}}),Object(ae.jsx)(aa,{switchMode:m,setMode:u,userRound:me,status:E,playerDict:R,updatePlayerDict:I,settings:T,toggleSidebar:k,toggleRightTab:x,setDisplayPlayer:w,updateTournamentSettings:Q,updateSetting:G,setLastRound:X,lastRoundOverride:q,outstandingIndex:fe,setOutstanding:ge,nextOutstanding:he,updateStatus:U,id:e.id,canTriggerNextRound:Y,updateRound:U,triggerConfirm:e.triggerConfirm,filtered:te,filter:oe,filters:pe,jumpedTo:ee}),y?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{className:Ce.a.profile,children:Object(ae.jsxs)("div",{className:Ce.a.profileStage,children:[Object(ae.jsx)(Ft,{name:O,setName:function(e){return v(e)},nameDict:{settings:{icon:ne.s,color:"lightgrey",name:"Settings"},player:{icon:ne.qb,color:"#385898",name:"Profile"},automation:{icon:ne.bb,color:"gold"},public:{icon:ne.I,color:"green"}}}),"settings"===O?Object(ae.jsx)(Ra,{updateTournamentSettings:Q,updateSetting:G,status:E,settings:T,setLastRound:X,players:S,updateRounds:V,rounds:L,triggerError:e.triggerError,updateState:function(){return j(Math.random().toString(16).slice(2,9))}}):"player"===O?Object(ae.jsx)(Ja,{status:E,setDisplayPlayer:w,playerDict:R,settings:T,id:e.id,displayPlayer:N,setPlayerDict:B}):"public"===O?Object(ae.jsx)(Ia,{updateTournamentSettings:Q,updateSetting:G,status:E,settings:T,setLastRound:X,players:S,updateRounds:V,rounds:L,triggerError:e.triggerError}):"automation"===O?Object(ae.jsx)(Ba,{updateTournamentSettings:Q,updateSetting:G,status:E,settings:T,setLastRound:X,players:S,updateRounds:V,rounds:L,triggerError:e.triggerError,updateState:function(){return j(Math.random().toString(16).slice(2,9))}}):null]})}),Object(ae.jsx)(Ga,{id:e.id,displayPlayer:"player"===O?N:"",clearDisplayPlayer:function(){return w("")},modifyPlayerDict:function(e,t){return B({player:e,hash:t})}})]}):null]})})}var Za=n(21),$a=n.n(Za),er={username:{name:"Username",type:"string",convert:function(e){return e||"guest"},locked:!0,primaryKey:!0},email:{name:"Email",type:"string",locked:!0,defaultValue:"",hideIfGuest:!0},licensed:{name:"License",type:"number",defaultValue:0,locked:!0,convert:function(e){return 1===e?"Trial":2===e?"Licensed":3===e?"Admin":"Free"}},daysRemaining:{name:"Trial time",type:"number",locked:!0,value:function(e){return Math.floor(30-Ye(new Date(e.lastLicensed),new Date(Date.now())))},convert:function(e){return e+" days"},validate:function(e,t){return 1===t.licensed}},lastLicensed:{name:"Last licensed",type:"date",defaultValue:null,locked:!0,convert:function(e){return new Date(e).toString().slice(0,21)},validate:function(e){return!!e}},backgroundURL:{name:"Background Image",type:"string",defaultValue:"/images/leaves-texture.png",locked:!0,validate:function(e){return!!e},editable:!0,show:!1},createdAt:{name:"Account created",convert:function(e){return new Date(e).toString().slice(0,21)},locked:!0,defaultValue:Date.now(),hideIfGuest:!0},updatedAt:{name:"Last seen",convert:function(e){return new Date(e).toString().slice(0,21)},locked:!0,defaultValue:Date.now(),hideIfGuest:!0}};function tr(e){var t,n,a=e.getBoundingClientRect();return{x:(a.left+a.right)/2,y:(a.top+a.bottom)/2-(null!==(t=null===(n=document.getElementById("statusBar"))||void 0===n?void 0:n.getBoundingClientRect().height)&&void 0!==t?t:0)}}function nr(e,t,n,a){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),s=Ke(n.x-t.x,n.y-t.y),c=Math.sign((n.x-t.x)*(n.y-t.y));c||(c=1);var o=180*Math.atan(i/r)/Math.PI;return Object(ae.jsx)("div",{className:$a.a.line,style:{width:s+"px",height:a,left:e?(t.x+n.x)/2-s/2:t.x-s/2,top:e?(t.y+n.y)/2:t.y,transform:"rotate(".concat(o*c,"deg) scaleX(").concat(e?1:0,") scaleY(1)"),opacity:e?1:0}},["line",n.x,n.y].join("."))}function ar(e){var t=Object(d.useState)({}),n=Object(g.a)(t,2),a=n[0],r=n[1],s=We(!0,"loading"),c=Object(g.a)(s,2),o=c[0],l=c[1],u=We(!1,"loadingOverride"),m=Object(g.a)(u,2),b=m[0],p=m[1],j=We(!1,"linesMounted"),O=Object(g.a)(j,2),v=O[0],y=O[1],x=We(!1,"adjustedLines"),_=Object(g.a)(x,2),k=_[0],N=_[1],w=We("","selected"),C=Object(g.a)(w,2),S=C[0],J=C[1],R=Object(d.useCallback)((function(){return F({url:"/profile/tournaments"}).then((function(e){var t=e.reduce((function(e,t){return e[t.id]=t,e}),{});return r(t),t})).catch((function(t){return console.error(t),e.endSession(),{}}))}),[r,e.endSession]);Object(d.useEffect)((function(){R()}),[R]);var B=Object(d.useCallback)((function(e){return e?Object.values(a).length?e in a?Promise.resolve():Promise.reject():R().then((function(t){if(void 0===t[e])throw new Error})):Promise.reject()}),[a,R]),I=Object(d.useCallback)((function(t){return B(t).then((function(){P.set("tournamentID",t,{path:"/"}).catch(console.error),e.setTournamentID(t)})).catch((function(){P.remove("tournamentID").catch(console.error),e.setTournamentID("")}))}),[B,e.setTournamentID]),D=Object(d.useCallback)(Object(h.a)(f.a.mark((function t(){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L({url:"/initialise"});case 3:if(n=t.sent){t.next=6;break}throw new Error;case 6:return e.setTournamentID(n),t.next=9,R();case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),(a=t.t0).response&&401!==a.response.status||e.endSession();case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),[e.setTournamentID,R,e.endSession]),E=Object(d.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,L({url:"/user/closeAuthorization/all"});case 3:r({}),e.next=11;break;case 6:return delete(n=Object.assign({},a))[t],e.next=10,L({url:"/tournament/".concat(t,"/closeAuthorization")});case 10:r(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,r]),T=Object(d.useState)([]),M=Object(g.a)(T,2),H=M[0],U=M[1],Q=Object(d.useRef)(),G=Object(d.useCallback)((function(){if(Q.current){var e=tr(Q.current);e.x+=10;for(var t=[],n=0,a=Array.from(document.getElementsByClassName($a.a.icon));n<a.length;n++){var r=a[n];if("0"!==r.style.opacity){var i=tr(r);t.push(nr(v,e,i))}}U(t)}}),[Q,nr,v]);Object(d.useEffect)((function(){G(),y(!0);var e=setTimeout((function(){return N(!0)}),3e3);return function(){return clearTimeout(e)}}),[G,N,y,S]);var V=Object(d.useState)({id:"",name:""}),K=Object(g.a)(V,2),W=K[0],Y=K[1],z=Object(d.useCallback)(Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("lastOpened");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:if("object"===typeof t)Y(t);else try{n=JSON.parse(t),Y(n)}catch(a){}case 6:case"end":return e.stop()}}),e)}))),[Y]);Object(d.useEffect)((function(){z()}),[z]);var q=Jt().Icon,X=Object(d.useMemo)((function(){return{create:{onClick:function(){return e.setMode("intro")},icon:ne.W,name:"New Swiss"},roundRobin:{onClick:function(){e.setDefaultSettings({pairingSystem:"round-robin"}),e.setMode("intro")},icon:ne.x,name:"New Round-Robin"},knockout:{onClick:function(){e.setDefaultSettings({pairingSystem:"knockout"}),e.setMode("intro")},icon:ne.eb,name:"New Knockout"},settings:{icon:ne.s,name:"User settings"},load:{icon:ne.g,name:"Load previous tournaments"},back:{onClick:e.endSession,icon:At.b,name:"Exit to login",style:{strokeWidth:.5}},last:{onClick:function(){return I(W.id)},icon:ne.H,name:W.name,hide:!W.id},close:{onClick:function(){return e.triggerConfirm("Delete all saved tournaments?",E,(function(){}))},noSet:!0,icon:ne.h,name:"Clear all tournaments"},refresh:{onClick:R,noSet:!0,icon:ne.jb,name:"Refresh tournament list"}}}),[D,R,e.endSession,e.triggerConfirm,E,I,W,J]),Z=Object(d.useCallback)((function(e,t){var n=e.reduce((function(e,t){return t in X?(e[t]=X[t],e):e}),{});return Object.entries(n).reduce((function(e,n,a){var r,i=Object(g.a)(n,2),s=i[0],c=i[1];return e.push(Object(ae.jsx)("div",{className:[$a.a.dotContainer,k?$a.a.dotContainerLoaded:""].join(" "),children:Object(ae.jsxs)("div",{id:s,className:A()($a.a.dot,(r={},Object(Ne.a)(r,$a.a.dotUnloaded,!k),Object(Ne.a)(r,$a.a.reverse,"left"!==t),r)),onClick:function(){S===s?J(""):(c.onClick&&c.onClick(),c.noSet||J(s))},style:c.style,children:[Object(ae.jsx)("div",{className:A()($a.a.dotDescription,Object(Ne.a)({},$a.a.descriptionSelected,S===s)),children:c.name},A()(t,"description",a)),Object(ae.jsx)(q,{className:$a.a.icon,name:c.name,icon:c.icon})]},A()(t,"dot",a))},["NavData",t,"div",a].join("i"))),e}),[])}),[X,k,S,J]),ee=Object(d.useCallback)(Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("tournamentID");case 2:(t=e.sent)&&I(t);case 4:case"end":return e.stop()}}),e)}))),[I]);Object(d.useEffect)((function(){ee()}),[ee]),Object(d.useEffect)((function(){window.addEventListener("resize",G);var e=function(){return l(!1)};if(i)return e(),function(){return window.removeEventListener("resize",G)};var t=setTimeout(e,2e3);return function(){window.removeEventListener("resize",G),clearTimeout(t)}}),[G,l]);var te=Object(d.useMemo)((function(){switch(S){case"load":return Z(["refresh","close","load"],"right");case"settings":return Z(["last","settings","load"],"right");default:if(!S)return Z(["last","settings","load"],"right")}}),[S,Z]),re=Object(d.useMemo)((function(){return S?Object(ae.jsx)("div",{className:$a.a.container,children:Object(ae.jsxs)("div",{className:$a.a.profile,children:[Object(ae.jsx)(Ft,{name:S,setName:function(e){return J(e)},nameDict:{settings:{name:"User Settings",icon:ne.s},load:{name:"Previous Tournaments",icon:ne.g}}}),"load"===S?Object(ae.jsx)(rr,{setTournamentID:I,createNewTournament:D,removeID:E,updateTournamentSettings:R,tournamentDict:a,closeListing:function(){return J("")},triggerConfirm:e.triggerConfirm}):"settings"===S?Object(ae.jsx)(ir,{user:e.user,updateTournamentSettings:function(){return Promise.resolve()},updateSetting:function(){return Promise.resolve()},closeListing:function(){return J("")},updateUser:e.updateUser}):null]})}):Z(["create","roundRobin","knockout"],"left")}),[J,S,I,D,E,R,a,e.triggerConfirm,Z,e.user]);return Object(ae.jsxs)("div",{className:A()($.a.canvas,Object(Ne.a)({},$a.a.quick,i)),children:[H,Object(ae.jsx)("div",{className:[$.a.column,$a.a.leftColumn].join(" "),children:re}),Object(ae.jsxs)("div",{ref:Q,className:[$.a.column,$a.a.column].join(" "),children:[Object(ae.jsx)("div",{}),Object(ae.jsx)(Ae,{setLoading:function(e){return p(e)},loading:o||b,classNames:{logo:$a.a.logo}}),Z(["back"],"")]}),Object(ae.jsx)("div",{className:[$.a.column,$a.a.rightColumn].join(" "),children:te})]})}function rr(e){var t=Object(d.useState)(0),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(d.useCallback)((function(t){return Object.values(t).map((function(t,n){var a=t.name||t.id;return Object(ae.jsxs)("div",{className:[Ie.a.row,$a.a.row].join(" "),children:[Object(ae.jsx)("div",{className:[$a.a.clickButton,"fieldBox"].join(" "),onClick:function(){return e.setTournamentID(t.id)},children:a}),Object(ae.jsx)("div",{className:[$a.a.clickButton,$a.a.close,"fieldBox"].join(" "),onClick:function(){e.triggerConfirm("Delete tournament '"+a+"'?\nPlease note this action cannot be undone.",(function(){return e.removeID(t.id)}),(function(){}))},children:Object(ae.jsx)(Nn.a,{})})]},["row",n].join("."))})).filter((function(e){return e}))}),[e.tournamentDict,e.setTournamentID,e.triggerConfirm,e.removeID]),s=m.a.useRef();return Object(d.useEffect)((function(){var e=setTimeout((function(){s.current&&r(s.current.getBoundingClientRect().height)}),250);return function(){return clearTimeout(e)}}),[s,e.tournamentDict,i,r]),Object(ae.jsx)("div",{className:$a.a.sidebar,children:Object(ae.jsxs)("div",{className:[$a.a.profile].join(" "),children:[Object(ae.jsx)("div",{className:"topBanner",children:"Load Tournament"}),Object(ae.jsx)("div",{className:["scrollable",$a.a.scrollable].join(" "),children:Object(ae.jsx)("div",{className:$a.a.listWrapper,style:{height:a},children:Object(ae.jsx)("div",{ref:s,className:$a.a.listing,children:i(e.tournamentDict)})})})]})})}function ir(e){var t=Object(d.useState)(0),n=Object(g.a)(t,2),a=n[0],r=n[1],i=m.a.useRef();Object(d.useEffect)((function(){var e=setTimeout((function(){i.current&&r(i.current.getBoundingClientRect().height)}),250);return function(){return clearTimeout(e)}}),[i,r]);var s=Object(d.useCallback)((function(t,n){return L({url:"/profile/updateSetting",data:Object(Ne.a)({},t,n)}).then(e.updateUser)}),[e.updateUser]),c=Object(d.useMemo)((function(){return Object.entries(er).map((function(t,n){var a=Object(g.a)(t,2),r=a[0],i=a[1];if(!1===i.show)return null;var c=e.user[r]||i.defaultValue;if(i.value&&(c=i.value(e.user)),"number"===i.type&&(c=Number(c)),i.validate&&!i.validate(c,e.user))return null;var o=c;i.convert&&(o=i.convert(c));var l="undefined"!==typeof o?o.toString():"\u200b";return Object(ae.jsxs)("div",{className:Ie.a.row,children:[Object(ae.jsx)("div",{className:["fieldBox"].join(" "),children:i.name+":"}),i.editable?Object(ae.jsx)(pt,{handleSubmit:s,content:o,url:"/updateSetting",inputType:"text",onSubmitSuccess:e.updateTournamentSettings,classNames:{editableField:"fieldBox",input:$a.a.input},name:r,additionalInputProps:{},show:{submit:!0},useHandleSubmit:!0}):Object(ae.jsx)("div",{style:{cursor:"link"===i.type?"copy":"default"},className:["fieldBox","licensed"===r?$a.a["license"+c.toString()]:""].join(" "),onClick:"link"!==i.type?null:function(){return navigator.clipboard.writeText(l)},children:l})]},["row",n].join("."))}))}),[e.user]);return Object(ae.jsxs)("div",{className:$a.a.sidebar,children:[Object(ae.jsxs)("div",{className:$a.a.profile,children:[Object(ae.jsx)("div",{className:"topBanner",children:"Settings"}),Object(ae.jsx)("div",{className:[$a.a.listWrapper,"scrollable"].join(" "),style:{height:a},children:Object(ae.jsx)("div",{ref:i,className:$a.a.listing,children:c})})]}),Object(ae.jsx)("div",{className:["bottomBanner",$a.a.bottomBanner].join(" "),children:Object(ae.jsx)("div",{onClick:e.closeListing,className:"button",children:Object(ae.jsx)(ne.b,{})})})]})}function sr(e){var t,n=m.a.isValidElement(e.message)||"string"===typeof e.message?e.message:JSON.stringify(e.message,null,4)+"\n\nIf you're seeing this error, please report it to the developers.";if("loading"===e.type)return Object(ae.jsx)("div",{className:Ta.a.shade,onClick:function(e){return e.stopPropagation()},children:Object(ae.jsx)("div",{className:Ta.a.loading,children:Object(ae.jsx)(ne.r,{})})});var a=function(){e.resolve&&e.resolve(),e.close()};return Object(ae.jsx)("div",{className:Ta.a.shade,onClick:function(e){return e.stopPropagation()},children:Object(ae.jsx)("div",{className:A()("container",Ta.a.container,(t={},Object(Ne.a)(t,Ta.a.tall,e.tall),Object(Ne.a)(t,Ta.a.wide,e.wide),t)),children:Object(ae.jsxs)("div",{className:Ta.a.alertBox,children:[e.title?Object(ae.jsx)("div",{className:Ta.a.title,children:e.title}):null,Object(ae.jsx)("div",{className:[Ta.a.textBox,"scrollable"].join(" "),children:n}),Object(ae.jsx)("div",{className:Ta.a.buttonRow,children:"action"===e.type?Object(ae.jsx)("button",{className:[Ta.a.OK,"button"].join(" "),autoFocus:!0,onClick:a,children:Object(ae.jsx)(Nn.d,{})}):"confirm"!==e.type?Object(ae.jsx)("button",{className:[Ta.a.OK,"button","error"===e.type?Ta.a.ERROR:""].join(" "),onClick:a,autoFocus:!0,children:"OK"}):Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("button",{className:[Ta.a.NO,"button"].join(" "),autoFocus:!0,onClick:function(){e.reject&&e.reject(),e.close()},children:Object(ae.jsx)(Nn.d,{})}),Object(ae.jsx)("button",{className:[Ta.a.YES,"button"].join(" "),onClick:a,children:Object(ae.jsx)(Nn.c,{})})]})})]})})})}var cr=new(n(499).Parser);function or(){return lr.apply(this,arguments)}function lr(){return(lr=Object(h.a)(f.a.mark((function e(){var t,n,a,r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mr();case 2:return t=e.sent,n=dr(t.ListBucketResult.Contents),a=n.find((function(e){return"ubuntu"===e.Key[0].split("/")[0]})),r=n.find((function(e){return"windows"===e.Key[0].split("/")[0]})),i=n.find((function(e){return"mac"===e.Key[0].split("/")[0]})),s={windows:r,mac:i,ubuntu:a},e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(e){var t=e.split("."),n=Object(g.a)(t,3),a=n[0],r=n[1],i=n[2];return a&&r&&i?1e4*Number(a)+100*Number(r)+Number(i):1}function dr(e){return e.sort((function(e,t){var n=e.Key[0].split("/"),a=Object(g.a)(n,2)[1];if(!a)return 1;var r=a.split("_"),i=Object(g.a)(r,2)[1];if(!i)return 1;var s=ur(i),c=t.Key[0].split("/"),o=Object(g.a)(c,2)[1];if(!o)return-1;var l=o.split("_"),u=Object(g.a)(l,2)[1];return u?ur(u)-s:-1}))}function mr(){return br.apply(this,arguments)}function br(){return(br=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({url:"http://repo.scorchapp.co.uk.s3.amazonaws.com?list-type=2&ContinuationToken=Simpsons&Delimiter=\\n&EncodingType=url",headers:{}}).then((function(e){return e.data}));case 2:return t=e.sent,e.next=5,cr.parseStringPromise(t);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pr="menu";function jr(){var e=Object(d.useState)(""),t=Object(g.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)(""),i=Object(g.a)(r,2),s=i[0],o=i[1],l=We("","mode"),u=Object(g.a)(l,2),m=u[0],b=u[1];Object(d.useEffect)((function(){window.setMode=b}),[b]);var j=Object(d.useReducer)((function(e,t){return t.stopLoading&&"loading"!==e.type?e:Object.assign({},e,{wide:!1,tall:!1,resolve:null},t)}),{message:"",title:"",type:""}),O=Object(g.a)(j,2),v=O[0],y=O[1],x=Object(d.useCallback)((function(){return y({message:"",title:""})}),[y]),_=Object(d.useCallback)((function(e,t,n){return y({message:e,title:"CONFIRM ACTION",type:"confirm",resolve:t,reject:n})}),[y]),k=Object(d.useCallback)((function(e){return y({message:e,title:"ERROR",type:"error"})}),[y]),w=Object(d.useCallback)((function(e){o(e),b(e?"tournament":"menu")}),[o,b]),C=Object(d.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.set("sessionID",t,{path:"/"});case 2:a(t),b(pr);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,b]),S=Object(d.useCallback)(Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(""),e.next=3,P.set("tournamentID","",{path:"/"});case 3:b("menu");case 4:case"end":return e.stop()}}),e)}))),[o,b]),J=Object(d.useCallback)(Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L({url:"/endSession"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:return e.prev=8,e.next=11,P.set("sessionID","",{path:"/"});case 11:return document.cookie="sessionID=;",a(""),b("login"),e.finish(8);case 15:case"end":return e.stop()}}),e,null,[[0,5,8,15]])}))),[a,b]);Object(d.useEffect)((function(){return U((function(e,t){return y({title:Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(ne.A,{}),e]}),type:"error",message:"string"===typeof t?t.startsWith("<!DOCTYPE html>")?Object(ae.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}):Object(ae.jsx)(ae.Fragment,{children:t.split("\n").map((function(e,t){return Object(ae.jsx)("p",{children:e},["e",t].join("."))}))}):JSON.stringify(t,null,4)})})),function(){return U((function(){}))}}),[k]);var R=Object(d.useCallback)(Object(h.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or();case 2:if(t=e.sent,n=Le()){e.next=6;break}return e.abrupt("return");case 6:if(!(ur(a=t[n].Key[0].split("_")[1])<=ur(c.version))){e.next=9;break}return e.abrupt("return");case 9:y({type:"action",title:"Update available!",message:Object(ae.jsxs)(ae.Fragment,{children:["A new version of ",Object(ae.jsx)("strong",{children:"ScorchApp"})," v",a," is available!",Object(ae.jsx)("br",{}),Object(ae.jsx)(st,{className:A()("button"),to:"https://repo.scorchapp.co.uk/latest/".concat(n,".html"),children:"Download it here"})]})});case 10:case"end":return e.stop()}}),e)}))),[y]);Object(d.useEffect)((function(){N&&R()}),[R]);var B=Object(d.useCallback)(Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("sessionID");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:a(t),b(pr);case 7:case"end":return e.stop()}}),e)}))),[a,b]);Object(d.useEffect)((function(){B()}),[B]);var I=We({},"user"),D=Object(g.a)(I,2),E=D[0],T=D[1],M=Object(d.useCallback)((function(){return n?F({url:"/profile"}).then(T):null}),[T,n]);Object(d.useEffect)((function(){M()}),[M]);var H=Object(d.useState)({}),Q=Object(g.a)(H,2),G=Q[0],V=Q[1],K=Object(d.useMemo)((function(){switch(m){case"login":return Object(ae.jsx)(ve,{login:C,mode:"login"});case"menu":return Object(ae.jsx)(ar,{endSession:J,setTournamentID:w,triggerConfirm:_,user:E,updateUser:M,setMode:b,setDefaultSettings:V});case"intro":return Object(ae.jsx)(La,{endSession:J,setTournamentID:w,setMode:b,defaultSettings:G});case"tournament":return null;default:return b("login"),null}}),[E,M,m,C,n,J,w,_,s,S,k,b,G]);return Object(ae.jsxs)(re,{values:[[oe,{setAlert:y,closeAlert:x,triggerConfirm:_,startLoading:function(){return y({message:!0,type:"loading"})},stopLoading:function(){return y({message:"",type:"",stopLoading:!0})}}]],children:[N?Object(ae.jsx)(ke,{}):null,Object(ae.jsxs)("div",{className:A()("stage",{electron:N}),children:["tournament"===m?null:Object(ae.jsx)("div",{className:["shade","blurred"].join(" "),children:K}),Object(ae.jsx)(Xa,{id:s,closeTournament:S,triggerError:k,triggerConfirm:_,endSession:J,setTournamentID:w,setMode:b,checkForUpdates:R}),v.message&&("string"!==typeof v.message||v.message.length>10)?Object(ae.jsx)(sr,Object(p.a)(Object(p.a)({},v),{},{close:x})):null]})]})}window.document.title=["ScorchApp","v"+c.version].join(" "),Object.assign(window,a),Object(b.render)(Object(ae.jsx)(jr,{}),document.getElementById("root"))},12:function(e,t,n){e.exports={pairings:"pairings_pairings__1W2ah","fade-in":"pairings_fade-in__3evHz",switch:"pairings_switch__Eycei",stage:"pairings_stage__2RkOa",knockoutWrapper:"pairings_knockoutWrapper__3hP6O",pool:"pairings_pool__3ObdH",pairingContainer:"pairings_pairingContainer__2wR3I",pairing:"pairings_pairing__1SO-O","set-blue-background":"pairings_set-blue-background__2lvwW",playerInfo:"pairings_playerInfo__2uaDY",inputResult:"pairings_inputResult__3zRQ6",titleContainer:"pairings_titleContainer__kEmNd",topBanner:"pairings_topBanner__cesLX",selected:"pairings_selected__Q8rTa",statusBarBackground:"pairings_statusBarBackground__-Tdcy",statusBar:"pairings_statusBar__ksDQV","slide-in-from-bottom":"pairings_slide-in-from-bottom__T3dHr",switchStatusBar:"pairings_switchStatusBar__2WNPO",waitButton:"pairings_waitButton__FABZl",finishButton:"pairings_finishButton__1Oo46",nextButton:"pairings_nextButton__1JEMj",undoButton:"pairings_undoButton__18r4y",rotate:"pairings_rotate__MHEsR",remainingDropWrapper:"pairings_remainingDropWrapper__3qZjO",remainingDrop:"pairings_remainingDrop__3WlNQ",submit:"pairings_submit__3xuBg",pairingAddButton:"pairings_pairingAddButton__3a93z",clearFiltered:"pairings_clearFiltered__1pIJ0",manualPairing:"pairings_manualPairing__2PBWv",manualResultsBridge:"pairings_manualResultsBridge__3ldol",scoreSpacer:"pairings_scoreSpacer__1FUln",centre:"pairings_centre__yIN0s",knockout:"pairings_knockout__14lKY"}},17:function(e,t,n){e.exports={body:"input_body__1b-ez",stage:"input_stage__2pwOH",table:"input_table__GZnpT",headerSection:"input_headerSection__2Ig4V",errors:"input_errors__2Tcf9",list:"input_list__3gHf3",error:"input_error__35vPN",pasteContainer:"input_pasteContainer__GiXDL",paste:"input_paste__2hyfv",subheader:"input_subheader__cNlLV",pasteArea:"input_pasteArea__1SDj2",form:"input_form__2v-ub",textarea:"input_textarea__1FWhO",output:"input_output__VuryB",submit:"input_submit__12haZ",reset:"input_reset__3CJ7t",clear:"input_clear__dg7Lv",playerTable:"input_playerTable__1E0SY",parsedHeader:"input_parsedHeader__3UNYl",tableHeader:"input_tableHeader__2R4Rf",dragEnter:"input_dragEnter__197KT",target:"input_target__GK4nW",placeholder:"input_placeholder__vx5TQ",errorCell:"input_errorCell__3yQ4_",highlighted:"input_highlighted__2WnFW",description:"input_description__1s735"}},173:function(e,t,n){e.exports={blank:"inputs_blank__2jmg4",check:"inputs_check__3A60n",ban:"inputs_ban__3NkCY"}},18:function(e,t,n){e.exports={column:"login_column__14Kgt",container:"login_container__1w_9V",nameContainer:"login_nameContainer__1JJvi",name:"login_name__aoGQ4",description:"login_description__3kLJY",copyright:"login_copyright__-uz1N",initialiseButton:"login_initialiseButton__3CXrs",forgottenContainer:"login_forgottenContainer__2yR4y",forgotten:"login_forgotten__3VFQz",form:"login_form__1ieaR",input:"login_input__3ze1R",submit:"login_submit__2qxJT",back:"login_back__1oP5T",text:"login_text__WDlWF",loginSection:"login_loginSection__1BBMn",loginBackground:"login_loginBackground__y9UZ2",foreground:"login_foreground__2Cqo8",loginForeground:"login_loginForeground__lnGgY",registerForeground:"login_registerForeground__3D6jX",flip:"login_flip__2KG2q",hidden:"login_hidden__2PxIe",guest:"login_guest__Ns_RN",messageBar:"login_messageBar__6TM4O"}},19:function(e,t,n){e.exports={background:"tournament_background__3Lj72",tournament:"tournament_tournament__1ikhA",resizer:"tournament_resizer__TGhcC",left:"tournament_left__l5m_I",right:"tournament_right__3zGaQ",titleBar:"tournament_titleBar__1Kvez","slide-in-from-top":"tournament_slide-in-from-top__22vmU",stage:"tournament_stage__3sbve",row:"tournament_row__3K-Kn",header:"tournament_header__hB1Cf",editableField:"tournament_editableField__1rO3U",fixed:"tournament_fixed__3grCR",round:"tournament_round__1fpAn",pending:"tournament_pending__1YgoJ",active:"tournament_active__2SoF8",paused:"tournament_paused__8vcWP",finished:"tournament_finished__g5wUB",previous:"tournament_previous__BLUHu",next:"tournament_next__ty8U0",headerBar:"tournament_headerBar__3tdMl",expanded:"tournament_expanded__3gjYn",statusBar:"tournament_statusBar__1P6z0",form:"tournament_form__1Pn88",input:"tournament_input__xb1Th",button:"tournament_button__3FfYw",inactive:"tournament_inactive__1IuMF",searchButton:"tournament_searchButton__p7kV3",profile:"tournament_profile__1l3mu","slide-in-from-right":"tournament_slide-in-from-right__rOjOO",profileStage:"tournament_profileStage__3TswH"}},21:function(e,t,n){e.exports={column:"menu_column__4oCn8",leftColumn:"menu_leftColumn__13Ey0",rightColumn:"menu_rightColumn__2D55A",container:"menu_container__4epvu","slide-in-from-left":"menu_slide-in-from-left__225li",profile:"menu_profile__3-O4-",line:"menu_line__2oByf",quick:"menu_quick__3lLva",row:"menu_row__q-PZk",listWrapper:"menu_listWrapper__1_77c",clickButton:"menu_clickButton__1F_HI",dotContainer:"menu_dotContainer__ze3l6",dot:"menu_dot__3Dq9b",reverse:"menu_reverse__3czd3",dotDescription:"menu_dotDescription__19QYi",icon:"menu_icon__20xPO",dotContainerLoaded:"menu_dotContainerLoaded__3YmWC",descriptionSelected:"menu_descriptionSelected__2aKX-",close:"menu_close__3eKoV",sidebar:"menu_sidebar__l1_lg",logo:"menu_logo__3MwZ9","float-down":"menu_float-down__1GhiB",dotUnloaded:"menu_dotUnloaded__2DT-h",expand:"menu_expand__1E6M-",license1:"menu_license1__1o4qd",license2:"menu_license2__1N8w4",license3:"menu_license3__2EL0m",scrollable:"menu_scrollable__39r7X","briefly-expand":"menu_briefly-expand__ex-pm"}},28:function(e,t,n){e.exports={shade:"alert_shade__1O-5R",blurred:"alert_blurred__2W47o",container:"alert_container__2heSX",tall:"alert_tall__Wusvc",wide:"alert_wide__1Tt0o",alertBox:"alert_alertBox__-kpK4",title:"alert_title__W4aFN",error:"alert_error__wKYnQ",textBox:"alert_textBox__ATagI",response:"alert_response__1RX0q",buttonRow:"alert_buttonRow__1z51H",NO:"alert_NO__2Bl9f",OK:"alert_OK__1hQGN",ERROR:"alert_ERROR___uQVx",YES:"alert_YES__pKi26",loading:"alert_loading__37zfR",rotate:"alert_rotate__3F2E_"}},284:function(e){e.exports=JSON.parse('{"name":"ScorchApp","version":"1.8.0","description":"The only app for tournament pairings you\'ll ever need. Modern, lightweight, intuitive.","private":true,"homepage_gh":".","homepage":"./","dependencies":{"@electron/build-tools":"^1.0.4","@welldone-software/why-did-you-render":"^4.3.2","axios":"^0.21.1","classnames":"^2.2.6","cookies":"^0.8.0","css-element-queries":"^1.2.3","ecf":"^1.0.11","electron-cookies":"github:heap/electron-cookies","electron-is-dev":"^2.0.0","express":"^4.17.1","fide-chess":"^0.1.9","g":"^2.0.1","html-to-react":"^1.4.5","lichess":"^2.0.13","papaparse":"^5.3.0","react":"^17.0.1","react-datasheet":"^1.4.9","react-dom":"^17.0.1","react-icons":"^3.11.0","react-markdown":"^4.3.1","react-native-vector-icons":"^6.7.0","react-qr-code":"^1.1.1","react-router-dom":"^5.2.0","react-scripts":"^4.0.3","tough-cookie":"^3.0.1","universal-cookie":"^4.0.4","xml2js":"^0.4.23"},"scripts":{"gui-dev":"electron . --dev","gui":"electron .","start":"HOST=0.0.0.0 react-scripts start","win-start":"react-scripts start","seo":"react-snapshot","dev":"cd ../scorch-miranda; yarn build; yarn start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"yarn build","deploy":"gh-pages -d build -o beta; git push -u origin master","lint":"eslint src/**/*.ts src/**/*.tsx","pack":"electron-builder --dir","dist-build":"electron-builder","dist":"electron-builder --linux --win --mac"},"main":"electron.js","devDependencies":{"@types/classnames":"^2.2.11","@types/papaparse":"^5.2.5","@types/react":"^16.14.5","@types/react-dom":"^16.9.11","@types/react-router-dom":"^5.1.7","@types/tough-cookie":"^2.3.7","@types/universal-cookie":"^2.2.0","@types/xml2js":"^0.4.8","electron":"^11.3.0","electron-builder":"^22.10.5","electron-prebuilt":"^1.4.13","eslint":"^7.21.0","eslint-plugin-react":"^7.22.0","gh-pages":"^2.2.0","typescript":"^4.2.3","wine":"^0.9.13"},"repository":{"type":"git","url":"git+https://github.com/scorchchess/toastie-build.git"},"keywords":["chess","LAZY","swiss","pairing","tournament"],"author":"Aloysius Lip <aloysius.lip@chch.ox.ac.uk> (https://scorchapp.co.uk)","license":"MIT","bugs":{"url":"https://github.com/scorchchess/toastie-build/issues"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"build":{"appId":"co.uk.scorchapp.toastie","artifactName":"${productName}_${version}_${os}.${ext}","productName":"ScorchApp","copyright":"Copyright \xa9 2020 Aloysius Lip","icon":"public/favicon.ico","directories":{"output":"package"},"mac":{"icon":"public/images/favicon.png","publish":["github"],"target":"zip"},"win":{"target":"nsis","icon":"public/images/favicon.png","publish":["github"]},"linux":{"target":["deb","AppImage"],"executableName":"ScorchApp","icon":"./android-chrome-512x512.png","publish":["github"],"category":"Game","synopsis":"The only app for tournament pairings you\'ll ever need. Modern, lightweight, intuitive.","description":"Organising chess tournaments should be easy, intuitive, and individually tailored to you. Synced across desktop, web, and mobile, scorchchess offers everything to run chess tournament your way, providing the most effortless experience for yourself, your players, and your spectators."}}}')},32:function(e,t,n){e.exports={stage:"sort_stage__32jJR",description:"sort_description__DDBWU",col1:"sort_col1__-ynyz",col2:"sort_col2__9U2t_",col3:"sort_col3__2Afyx",row:"sort_row__31Q6V",title:"sort_title__3Cp_F",header:"sort_header__1qU6j",expanded:"sort_expanded__1zIdC",searchButton:"sort_searchButton__3t3w8",templates:"sort_templates__3RmWu",unrepresented:"sort_unrepresented__3l1vM",large:"sort_large__-G2LD",selected:"sort_selected__3lITO",clear:"sort_clear__3ndHS",listWrapper:"sort_listWrapper__2jzYH",list:"sort_list__X78Nr",player:"sort_player__PrjDw"}},33:function(e,t,n){e.exports={stage:"knockout_stage__3_Nwn",columns:"knockout_columns__G4ps0",column:"knockout_column__3FzXJ",matchUp:"knockout_matchUp__1s3Dx",white:"knockout_white__1Uqd0",black:"knockout_black__3Xr8o",playerInfo:"knockout_playerInfo__1N2wU",winner:"knockout_winner__2sdFe",all:"knockout_all__1hHqo",connectors:"knockout_connectors__Vozd4",line:"knockout_line__2pe3t"}},36:function(e,t,n){e.exports={core:"spreadsheet_core__2Hqdx",indicator:"spreadsheet_indicator__2oq00",stage:"spreadsheet_stage__1TffK",players:"spreadsheet_players__1NUu8",table:"spreadsheet_table__2yVXp",header:"spreadsheet_header__3iIri",cell:"spreadsheet_cell__2AdAn",longSelect:"spreadsheet_longSelect__vl3OC",editOnly:"spreadsheet_editOnly__WSFfV",column:"spreadsheet_column__3oIsX"}},40:function(e,t,n){e.exports={core:"export_core__SWaFn",wrapper:"export_wrapper__1CBOE",spreadsheet:"export_spreadsheet__2XIHq","slide-in-from-left":"export_slide-in-from-left__27Yjk",ecf:"export_ecf__3lhfN","slide-in-from-right":"export_slide-in-from-right__1RXTC",fide:"export_fide__3F8h-",sole:"export_sole__2daWg",expanded:"export_expanded__1dbnx",container:"export_container__2_isA",textarea:"export_textarea__2fcOU"}},41:function(e,t,n){e.exports={canvas:"app_canvas__1MLEL",column:"app_column__2WVoo",logo:"app_logo__b6W_t",loadingLine:"app_loadingLine__1xeSs",staticLogo:"app_staticLogo__1-Wsi",loadingGif:"app_loadingGif__2PnUi",crownOutline:"app_crownOutline__2IPSS","fade-in":"app_fade-in__3kaKs","grow-right":"app_grow-right__1NUcX"}},44:function(e){e.exports=JSON.parse('{"specify":["BGD","BLZ","GBR","GIB","FJI","KIR","SLB"],"dict":{"AFG":"Afghanistan","ALA":"Aland Islands","ALB":"Albania","DZA":"Algeria","ASM":"American Samoa","AND":"Andorra","AGO":"Angola","AIA":"Anguilla","ATA":"Antarctica","ATG":"Antigua and Barbuda","ARG":"Argentina","ARM":"Armenia","ABW":"Aruba","AUS":"Australia","AUT":"Austria","AZE":"Azerbaijan","BHS":"Bahamas","BHR":"Bahrain","BGD":"Bangladesh","BRB":"Barbados","BLR":"Belarus","BEL":"Belgium","BLZ":"Belize","BEN":"Benin","BMU":"Bermuda","BTN":"Bhutan","BOL":"Bolivia","BIH":"Bosnia and Herzegovina","BWA":"Botswana","BVT":"Bouvet Island","BRA":"Brazil","VGB":"British Virgin Islands","IOT":"British Indian Ocean Territory","BRN":"Brunei Darussalam","BUL":"Bulgaria","BFA":"Burkina Faso","BDI":"Burundi","KHM":"Cambodia","CMR":"Cameroon","CAN":"Canada","CPV":"Cape Verde","CYM":"Cayman Islands","CAF":"Central African Republic","TCD":"Chad","CHI":"Chile","CHN":"China","HKG":"Hong Kong, SAR China","MAC":"Macao, SAR China","CXR":"Christmas Island","CCK":"Cocos (Keeling) Islands","COL":"Colombia","COM":"Comoros","COG":"Congo (Brazzaville)","COD":"Congo, (Kinshasa)","COK":"Cook Islands","CRI":"Costa Rica","CIV":"C\xf4te d\'Ivoire","HRV":"Croatia","CUB":"Cuba","CYP":"Cyprus","CZE":"Czech Republic","DNK":"Denmark","DJI":"Djibouti","DMA":"Dominica","DOM":"Dominican Republic","ECU":"Ecuador","EGY":"Egypt","SLV":"El Salvador","GNQ":"Equatorial Guinea","ERI":"Eritrea","EST":"Estonia","ETH":"Ethiopia","FLK":"Falkland Islands (Malvinas)","FAI":"Faroe Islands","FJI":"Fiji","FIN":"Finland","FRA":"France","GUF":"French Guiana","PYF":"French Polynesia","ATF":"French Southern Territories","GAB":"Gabon","GBR":"United Kingdom","GMB":"Gambia","GEO":"Georgia","GER":"Germany","GHA":"Ghana","GIB":"Gibraltar","GRE":"Greece","GRL":"Greenland","GRD":"Grenada","GLP":"Guadeloupe","GUM":"Guam","GTM":"Guatemala","GGY":"Guernsey","GIN":"Guinea","GNB":"Guinea-Bissau","GUY":"Guyana","HAI":"Haiti","HMD":"Heard and Mcdonald Islands","VAT":"Holy See (Vatican City State)","HND":"Honduras","HUN":"Hungary","ISL":"Iceland","IND":"India","IDN":"Indonesia","IRN":"Iran, Islamic Republic of","IRQ":"Iraq","IRL":"Ireland","IMN":"Isle of Man","ISR":"Israel","ITA":"Italy","JAM":"Jamaica","JPN":"Japan","JEY":"Jersey","JOR":"Jordan","KAZ":"Kazakhstan","KEN":"Kenya","KIR":"Kiribati","PRK":"Korea (North)","KOR":"Korea (South)","KWT":"Kuwait","KGZ":"Kyrgyzstan","LAO":"Lao PDR","LVA":"Latvia","LBN":"Lebanon","LSO":"Lesotho","LBR":"Liberia","LBY":"Libya","LIE":"Liechtenstein","LTU":"Lithuania","LUX":"Luxembourg","MKD":"Macedonia, Republic of","MDG":"Madagascar","MWI":"Malawi","MAS":"Malaysia","MDV":"Maldives","MLI":"Mali","MLT":"Malta","MHL":"Marshall Islands","MTQ":"Martinique","MRT":"Mauritania","MUS":"Mauritius","MYT":"Mayotte","MEX":"Mexico","FSM":"Micronesia, Federated States of","MDA":"Moldova","MCO":"Monaco","MNG":"Mongolia","MNE":"Montenegro","MSR":"Montserrat","MAR":"Morocco","MOZ":"Mozambique","MMR":"Myanmar","NAM":"Namibia","NRU":"Nauru","NPL":"Nepal","NLD":"Netherlands","ANT":"Netherlands Antilles","NCL":"New Caledonia","NZL":"New Zealand","NCA":"Nicaragua","NER":"Niger","NGA":"Nigeria","NIU":"Niue","NFK":"Norfolk Island","MNP":"Northern Mariana Islands","NOR":"Norway","OMN":"Oman","PAK":"Pakistan","PLW":"Palau","PSE":"Palestinian Territory","PAN":"Panama","PNG":"Papua New Guinea","PRY":"Paraguay","PER":"Peru","PHI":"Philippines","PCN":"Pitcairn","POL":"Poland","POR":"Portugal","PRI":"Puerto Rico","QAT":"Qatar","REU":"R\xe9union","ROU":"Romania","RUS":"Russian Federation","RWA":"Rwanda","BLM":"Saint-Barth\xe9lemy","SHN":"Saint Helena","KNA":"Saint Kitts and Nevis","LCA":"Saint Lucia","MAF":"Saint-Martin (French part)","SPM":"Saint Pierre and Miquelon","VCT":"Saint Vincent and Grenadines","WSM":"Samoa","SMR":"San Marino","STP":"Sao Tome and Principe","SAU":"Saudi Arabia","SEN":"Senegal","SRB":"Serbia","SYC":"Seychelles","SLE":"Sierra Leone","SGP":"Singapore","SVK":"Slovakia","SLO":"Slovenia","SLB":"Solomon Islands","SOM":"Somalia","RSA":"South Africa","SGS":"South Georgia and the South Sandwich Islands","SSD":"South Sudan","ESP":"Spain","LKA":"Sri Lanka","SDN":"Sudan","SUR":"Suriname","SJM":"Svalbard and Jan Mayen Islands","SWZ":"Swaziland","SWE":"Sweden","CHE":"Switzerland","SYR":"Syrian Arab Republic (Syria)","TWN":"Taiwan, Republic of China","TJK":"Tajikistan","TZA":"Tanzania, United Republic of","THA":"Thailand","TLS":"Timor-Leste","TGO":"Togo","TKL":"Tokelau","TON":"Tonga","TTO":"Trinidad and Tobago","TUN":"Tunisia","TUR":"Turkey","TKM":"Turkmenistan","TCA":"Turks and Caicos Islands","TUV":"Tuvalu","UGA":"Uganda","UKR":"Ukraine","ARE":"United Arab Emirates","ENG":"England","SCO":"Scotland","WLS":"Wales","USA":"United States of America","UMI":"US Minor Outlying Islands","URY":"Uruguay","UZB":"Uzbekistan","VUT":"Vanuatu","VEN":"Venezuela (Bolivarian Republic)","VNM":"Viet Nam","VIR":"Virgin Islands, US","WLF":"Wallis and Futuna Islands","ESH":"Western Sahara","YEM":"Yemen","ZMB":"Zambia","ZWE":"Zimbabwe"}}')},45:function(e,t,n){e.exports={stage:"core_stage__Wa7eX",short:"core_short__EG69G",titleContainer:"core_titleContainer__1y9dK",titleWrapper:"core_titleWrapper__2Ec1n",container:"core_container__1ak0c",titles:"core_titles__3TVw1",title:"core_title__3YmoD",description:"core_description__29Jn8"}},498:function(e,t,n){},505:function(e,t,n){},507:function(e,t,n){},51:function(e,t,n){e.exports={text:"name_text__3avpk",your:"name_your__1yIgS",expand:"name_expand__3_B7w",contract:"name_contract__cCuPp",slideLeft:"name_slideLeft__2DlrS","slide-left":"name_slide-left__3WNId",slideRight:"name_slideRight__sgw1v","slide-right":"name_slide-right__1Cg-k",fadeIn:"name_fadeIn__3CTca","fade-in":"name_fade-in__370St",fade2xIn:"name_fade2xIn__3A3xK"}},52:function(e,t,n){e.exports={dock:"dock_dock__2-6mz","slide-in-from-left":"dock_slide-in-from-left__LnSmo",stage:"dock_stage__jkkt8",column:"dock_column__1TLFS",button:"dock_button__2E4Pt",container:"dock_container__2lJ_b",active:"dock_active__26ORc",name:"dock_name__3nars",options:"dock_options__3ib8q",visible:"dock_visible__1Gsu6",optionsTitle:"dock_optionsTitle___Xl28",sort:"dock_sort__QH6Ad"}},6:function(e,t,n){e.exports={container:"components_container__1CCB7",editableField:"components_editableField__2fs18",shroud:"components_shroud__MrSPA",form:"components_form__1RjIP",input:"components_input__I_Vv7",submitHidden:"components_submitHidden__PvrYt",any:"components_any__3pCEP",button:"components_button__1Gg6-",infinity:"components_infinity__1rF3u",reset:"components_reset__cTuFY",submit:"components_submit__1SFYQ",increment:"components_increment__19rbD",cancel:"components_cancel__1_2ia",clear:"components_clear__5yHRa",resultsBridge:"components_resultsBridge__9qnay",details:"components_details__1FuFV",resolve:"components_resolve__1X_KN",reject:"components_reject__3ymMO",neutral:"components_neutral__392Xn","flash-green":"components_flash-green__2Wczz",linked:"components_linked__3nC4k",hasLinked:"components_hasLinked__1VvIE",setResult:"components_setResult__ToBDd",info:"components_info__RdPK8",inputURL:"components_inputURL__3WU4U",centre:"components_centre__2BcEl",detailsContent:"components_detailsContent__2yLbz",row:"components_row__1jpeO",linkRow:"components_linkRow__1DIVp",buttonRow:"components_buttonRow__AIy2p",topBanner:"components_topBanner__1k4Eb",validationTable:"components_validationTable__3Yxip",linkSubmit:"components_linkSubmit__TNip6",sectionContainer:"components_sectionContainer__1tg1I",sectionHeader:"components_sectionHeader__-UWwY",withLengths:"components_withLengths__2eHLq",sectionHeaderText:"components_sectionHeaderText__1OTig",sectionListWrapper:"components_sectionListWrapper__a03uW",sectionList:"components_sectionList__117sb",length:"components_length__3bnMd",expanded:"components_expanded__3qOxR",sectionToggle:"components_sectionToggle__2z6Il",tabSection:"components_tabSection__2c2yE",tab:"components_tab__3HWgq",alone:"components_alone__fx8kz",active:"components_active__1mG2n",alwaysVisible:"components_alwaysVisible__fSqQA",hasLink:"components_hasLink__19HOG",searchForm:"components_searchForm__ZWRi0",infoBox:"components_infoBox__31Uwk",searchBar:"components_searchBar__34BNl",alwaysHover:"components_alwaysHover__23nKx",searchResults:"components_searchResults__tX7x8"}},60:function(e,t,n){e.exports={stage:"announcements_stage__ytg8g",col1:"announcements_col1__1ernB",col2:"announcements_col2__2Ikrd",editingArea:"announcements_editingArea__1Jgpe",textarea:"announcements_textarea__3jf0L",preview:"announcements_preview__1Bqru",previewWrapper:"announcements_previewWrapper__nQIwu",buttons:"announcements_buttons__1hFWn",submit:"announcements_submit__2wmTb",reset:"announcements_reset__QjNmB",clear:"announcements_clear__1UpCl"}},61:function(e,t,n){e.exports={container:"intro_container__1InVN","centre-split":"intro_centre-split__en0Qz",section:"intro_section__1sHwR",content:"intro_content__1rnrZ",templates:"intro_templates__3Vo7N",set:"intro_set__WLAB1",collapsed:"intro_collapsed__3VkzO",divider:"intro_divider__3Qwx9",angle:"intro_angle__o5cLk",rotated:"intro_rotated__2Gz2p"}},65:function(e,t,n){e.exports={spacer:"draggable_spacer__3RZCV","fade-in":"draggable_fade-in__18Frg",highlighted:"draggable_highlighted__MQkbn",listElement:"draggable_listElement__h1q4X",columns:"draggable_columns__2tdtx",buttonContainer:"draggable_buttonContainer__1RgHU",number:"draggable_number__2D2V0",ignored:"draggable_ignored__33WO4",tbReset:"draggable_tbReset__Q1n8C",tbSubmit:"draggable_tbSubmit__2qF0F"}},686:function(e,t){},688:function(e,t){},698:function(e,t){},7:function(e,t,n){e.exports={profileContainer:"profile_profileContainer__V5hnJ",skel:"profile_skel__fZdvP",roundRow:"profile_roundRow__3OA2r",row:"profile_row__aUfgI",resultsRow:"profile_resultsRow__4zleX",toggleKey:"profile_toggleKey__1VyZa",desc:"profile_desc__cZcMt",li:"profile_li__1aGSj",help:"profile_help__2ocef",bonusRow:"profile_bonusRow__1sVIm",matchOnly:"profile_matchOnly__q_hNo",editable:"profile_editable__24Eas",editableField:"profile_editableField__2onPe",false:"profile_false__2sgus",true:"profile_true__2_Pld",input:"profile_input__2tu2X",sectionListWrapper:"profile_sectionListWrapper__1K1-l",sectionList:"profile_sectionList__3bJ8Z",expanded:"profile_expanded__3QtaO",sectionToggle:"profile_sectionToggle__2qBPk",semiPresent:"profile_semiPresent__1APEU",playerLine:"profile_playerLine__IVVus",cancel:"profile_cancel__AKFEe",profilePictureFrame:"profile_profilePictureFrame__3cF5B",profilePicture:"profile_profilePicture__d0y9A",infoSection:"profile_infoSection__1V7wB",close:"profile_close__1jnoP",closeButton:"profile_closeButton__3lSRr",name:"profile_name__bRkcf",scoreSection:"profile_scoreSection__3GgY5",tieBreaks:"profile_tieBreaks__101TV",divider:"profile_divider__2y1J3",tb:"profile_tb__2hp89",baseContainer:"profile_baseContainer__k1otM",description:"profile_description__U2kC4",descriptionDiv:"profile_descriptionDiv__1qv0R",bottomBanner:"profile_bottomBanner__b2MfX","slide-in-from-right":"profile_slide-in-from-right__2jdIT",fsStage:"profile_fsStage__2bN6-",fs:"profile_fs__18DGe"}},70:function(e,t,n){e.exports={wrapper:"crosstable_wrapper__JHCOc",table:"crosstable_table__3zvgj",td:"crosstable_td__1sGEm",th:"crosstable_th__10uL3",cell:"crosstable_cell__1MJn3",blank:"crosstable_blank__3PQt4",player:"crosstable_player__2j1uI",edit:"crosstable_edit__1bPyk",headerCell:"crosstable_headerCell__3uT06",firstColumn:"crosstable_firstColumn__pA3Ha",closeButton:"crosstable_closeButton__21AWF",container:"crosstable_container__3OxZH",submit:"crosstable_submit__3hLUD",scrollbar:"crosstable_scrollbar__2K4Bx",track:"crosstable_track__1kz8g"}},700:function(e,t){},725:function(e,t){},727:function(e,t){},728:function(e,t){},733:function(e,t){},735:function(e,t){},754:function(e,t){},766:function(e,t){},769:function(e,t){},774:function(e,t){},776:function(e,t){},798:function(e,t){},89:function(e){e.exports=JSON.parse('{"server":"http://localhost:8080/","prodServer":"https://api.scorchapp.co.uk/","resultsServer":"http://localhost:3001/","prodResultsServer":"https://results.scorchapp.co.uk/","useProd":true}')},90:function(e,t,n){e.exports={statusBar:"statusbar_statusBar__3f7HO",favicon:"statusbar_favicon__1Unmh",menu:"statusbar_menu__3nFvT",title:"statusbar_title__3ClL5",exec:"statusbar_exec__2fXB2",close:"statusbar_close__3ssky"}},909:function(e,t){}},[[1146,1,2]]]);
//# sourceMappingURL=main.da09ee2b.chunk.js.map